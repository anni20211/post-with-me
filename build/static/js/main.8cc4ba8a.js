/*! For license information please see main.8cc4ba8a.js.LICENSE.txt */
!function(){var e={488:function(e,t,n){"use strict";var r=n(836);t.Z=void 0;var i=r(n(649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"}),"FavoriteBorder");t.Z=o},649:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(941)},941:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return u},createChainedFunction:function(){return s},createSvgIcon:function(){return vr},debounce:function(){return mr},deprecatedPropType:function(){return yr},isMuiElement:function(){return gr},ownerDocument:function(){return kr},ownerWindow:function(){return wr},requirePropFactory:function(){return xr},setRef:function(){return Sr},unstable_ClassNameGenerator:function(){return Zr},unstable_useEnhancedEffect:function(){return Ir},unstable_useId:function(){return Ar},unsupportedProp:function(){return Rr},useControlled:function(){return Or},useEventCallback:function(){return Pr},useForkRef:function(){return Mr},useIsFocusVisible:function(){return qr}});var r=function(e){return e},i=function(){var e=r;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=r}}}();function a(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function o(e){if("string"!==typeof e)throw new Error(a(7));return e.charAt(0).toUpperCase()+e.slice(1)}var u=o;var s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))},c=n(462),l=n(791),f=n.t(l,2),h=n(366);function d(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=d(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var p=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=d(e))&&(r&&(r+=" "),r+=t);return r};function v(e,t){var n=(0,c.Z)({},t);return Object.keys(e).forEach((function(r){if(r.toString().match(/^(components|slots)$/))n[r]=(0,c.Z)({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){var i=e[r]||{},a=t[r];n[r]={},a&&Object.keys(a)?i&&Object.keys(i)?(n[r]=(0,c.Z)({},a),Object.keys(i).forEach((function(e){n[r][e]=v(i[e],a[e])}))):n[r]=a:n[r]=i}else void 0===n[r]&&(n[r]=e[r])})),n}function m(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?v(t.components[n].defaultProps,r):r}function y(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function g(e){if(!y(e))return e;var t={};return Object.keys(e).forEach((function(n){t[n]=g(e[n])})),t}function b(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?(0,c.Z)({},e):e;return y(e)&&y(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(y(t[i])&&i in e&&y(e[i])?r[i]=b(e[i],t[i],n):n.clone?r[i]=y(t[i])?g(t[i]):t[i]:r[i]=t[i])})),r}var k=n(942),w=["values","unit","step"];function x(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,u=(0,h.Z)(e,w),s=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return(0,c.Z)({},e,(0,k.Z)({},t.key,t.val))}),{})}(n),l=Object.keys(s);function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function d(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-o/100).concat(i,")")}function p(e,t){var r=l.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[l[r]]?n[l[r]]:t)-o/100).concat(i,")")}return(0,c.Z)({keys:l,values:s,up:f,down:d,between:p,only:function(e){return l.indexOf(e)+1<l.length?p(e,l[l.indexOf(e)+1]):f(e)},not:function(e){var t=l.indexOf(e);return 0===t?f(l[1]):t===l.length-1?d(l[t]):p(e,l[l.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},u)}var _={borderRadius:4},S=n(439),E={xs:0,sm:600,md:900,lg:1200,xl:1536},I={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(E[e],"px)")}};function T(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||I;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===typeof t){var a=r.breakpoints||I;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(a.values||E).indexOf(r)){e[a.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function C(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function A(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function R(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=r)return r}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function O(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:R(e,n)||i,t&&(r=t(r,i,e)),r}var N=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,u=function(e){if(null==e[t])return null;var n=e[t],u=R(e.theme,i)||{};return T(e,n,(function(e){var n=O(u,a,e);return e===n&&"string"===typeof e&&(n=O(u,a,"".concat(t).concat("default"===e?"":o(e)),e)),!1===r?n:(0,k.Z)({},r,n)}))};return u.propTypes={},u.filterProps=[t],u};var P=function(e,t){return t?b(e,t,{clone:!1}):e};var D={m:"margin",p:"padding"},M={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},L={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},F=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!L[e])return[e];e=L[e]}var t=e.split(""),n=(0,S.Z)(t,2),r=n[0],i=n[1],a=D[r],o=M[i]||"";return Array.isArray(o)?o.map((function(e){return a+e})):[a+o]})),j=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],U=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],V=[].concat(j,U);function z(e,t,n,r){var i,a=null!=(i=R(e,t,!1))?i:n;return"number"===typeof a?function(e){return"string"===typeof e?e:a*e}:Array.isArray(a)?function(e){return"string"===typeof e?e:a[e]}:"function"===typeof a?a:function(){}}function B(e){return z(e,"spacing",8)}function q(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function Z(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=q(t,n),e}),{})}}(F(n),r);return T(e,e[n],i)}function W(e,t){var n=B(e.theme);return Object.keys(e).map((function(r){return Z(e,t,r,n)})).reduce(P,{})}function K(e){return W(e,j)}function G(e){return W(e,U)}function H(e){return W(e,V)}K.propTypes={},K.filterProps=j,G.propTypes={},G.filterProps=U,H.propTypes={},H.filterProps=V;function Q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=B({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=0===n.length?[1]:n;return i.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var $=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?P(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function Y(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var X=N({prop:"border",themeKey:"borders",transform:Y}),J=N({prop:"borderTop",themeKey:"borders",transform:Y}),ee=N({prop:"borderRight",themeKey:"borders",transform:Y}),te=N({prop:"borderBottom",themeKey:"borders",transform:Y}),ne=N({prop:"borderLeft",themeKey:"borders",transform:Y}),re=N({prop:"borderColor",themeKey:"palette"}),ie=N({prop:"borderTopColor",themeKey:"palette"}),ae=N({prop:"borderRightColor",themeKey:"palette"}),oe=N({prop:"borderBottomColor",themeKey:"palette"}),ue=N({prop:"borderLeftColor",themeKey:"palette"}),se=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=z(e.theme,"shape.borderRadius",4);return T(e,e.borderRadius,(function(e){return{borderRadius:q(t,e)}}))}return null};se.propTypes={},se.filterProps=["borderRadius"];$(X,J,ee,te,ne,re,ie,ae,oe,ue,se);var ce=function(e){if(void 0!==e.gap&&null!==e.gap){var t=z(e.theme,"spacing",8);return T(e,e.gap,(function(e){return{gap:q(t,e)}}))}return null};ce.propTypes={},ce.filterProps=["gap"];var le=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=z(e.theme,"spacing",8);return T(e,e.columnGap,(function(e){return{columnGap:q(t,e)}}))}return null};le.propTypes={},le.filterProps=["columnGap"];var fe=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=z(e.theme,"spacing",8);return T(e,e.rowGap,(function(e){return{rowGap:q(t,e)}}))}return null};fe.propTypes={},fe.filterProps=["rowGap"];$(ce,le,fe,N({prop:"gridColumn"}),N({prop:"gridRow"}),N({prop:"gridAutoFlow"}),N({prop:"gridAutoColumns"}),N({prop:"gridAutoRows"}),N({prop:"gridTemplateColumns"}),N({prop:"gridTemplateRows"}),N({prop:"gridTemplateAreas"}),N({prop:"gridArea"}));function he(e,t){return"grey"===t?t:e}$(N({prop:"color",themeKey:"palette",transform:he}),N({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:he}),N({prop:"backgroundColor",themeKey:"palette",transform:he}));function de(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var pe=N({prop:"width",transform:de}),ve=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return T(e,e.maxWidth,(function(t){var n;return{maxWidth:(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||E[t]||de(t)}}))}return null};ve.filterProps=["maxWidth"];var me=N({prop:"minWidth",transform:de}),ye=N({prop:"height",transform:de}),ge=N({prop:"maxHeight",transform:de}),be=N({prop:"minHeight",transform:de}),ke=(N({prop:"size",cssProperty:"width",transform:de}),N({prop:"size",cssProperty:"height",transform:de}),$(pe,ve,me,ye,ge,be,N({prop:"boxSizing"})),{border:{themeKey:"borders",transform:Y},borderTop:{themeKey:"borders",transform:Y},borderRight:{themeKey:"borders",transform:Y},borderBottom:{themeKey:"borders",transform:Y},borderLeft:{themeKey:"borders",transform:Y},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:se},color:{themeKey:"palette",transform:he},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:he},backgroundColor:{themeKey:"palette",transform:he},p:{style:G},pt:{style:G},pr:{style:G},pb:{style:G},pl:{style:G},px:{style:G},py:{style:G},padding:{style:G},paddingTop:{style:G},paddingRight:{style:G},paddingBottom:{style:G},paddingLeft:{style:G},paddingX:{style:G},paddingY:{style:G},paddingInline:{style:G},paddingInlineStart:{style:G},paddingInlineEnd:{style:G},paddingBlock:{style:G},paddingBlockStart:{style:G},paddingBlockEnd:{style:G},m:{style:K},mt:{style:K},mr:{style:K},mb:{style:K},ml:{style:K},mx:{style:K},my:{style:K},margin:{style:K},marginTop:{style:K},marginRight:{style:K},marginBottom:{style:K},marginLeft:{style:K},marginX:{style:K},marginY:{style:K},marginInline:{style:K},marginInlineStart:{style:K},marginInlineEnd:{style:K},marginBlock:{style:K},marginBlockStart:{style:K},marginBlockEnd:{style:K},displayPrint:{cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:ce},rowGap:{style:fe},columnGap:{style:le},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:de},maxWidth:{style:ve},minWidth:{transform:de},height:{transform:de},maxHeight:{transform:de},minHeight:{transform:de},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}});var we=function(){function e(e,t,n,r){var i,a=(i={},(0,k.Z)(i,e,t),(0,k.Z)(i,"theme",n),i),u=r[e];if(!u)return(0,k.Z)({},e,t);var s=u.cssProperty,c=void 0===s?e:s,l=u.themeKey,f=u.transform,h=u.style;if(null==t)return null;if("typography"===l&&"inherit"===t)return(0,k.Z)({},e,t);var d=R(n,l)||{};if(h)return h(a);return T(a,t,(function(t){var n=O(d,f,t);return t===n&&"string"===typeof t&&(n=O(d,f,"".concat(e).concat("default"===t?"":o(t)),t)),!1===c?n:(0,k.Z)({},c,n)}))}return function t(n){var r,i=n||{},a=i.sx,o=i.theme,u=void 0===o?{}:o;if(!a)return null;var s=null!=(r=u.unstable_sxConfig)?r:ke;function c(n){var r=n;if("function"===typeof n)r=n(u);else if("object"!==typeof n)return n;if(!r)return null;var i=C(u.breakpoints),a=Object.keys(i),o=i;return Object.keys(r).forEach((function(n){var i,a,c=(i=r[n],a=u,"function"===typeof i?i(a):i);if(null!==c&&void 0!==c)if("object"===typeof c)if(s[n])o=P(o,e(n,c,u,s));else{var l=T({theme:u},c,(function(e){return(0,k.Z)({},n,e)}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}(l,c)?o=P(o,l):o[n]=t({sx:c,theme:u})}else o=P(o,e(n,c,u,s))})),A(a,o)}return Array.isArray(a)?a.map(c):c(a)}}();we.filterProps=["sx"];var xe=we,_e=["breakpoints","palette","spacing","shape"];var Se=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.spacing,o=e.shape,u=void 0===o?{}:o,s=(0,h.Z)(e,_e),l=x(n),f=Q(a),d=b({breakpoints:l,direction:"ltr",components:{},palette:(0,c.Z)({mode:"light"},i),spacing:f,shape:(0,c.Z)({},_,u)},s),p=arguments.length,v=new Array(p>1?p-1:0),m=1;m<p;m++)v[m-1]=arguments[m];return(d=v.reduce((function(e,t){return b(e,t)}),d)).unstable_sxConfig=(0,c.Z)({},ke,null==s?void 0:s.unstable_sxConfig),d.unstable_sx=function(e){return xe({sx:e,theme:this})},d};var Ee=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),Ie=Math.abs,Te=String.fromCharCode,Ce=Object.assign;function Ae(e){return e.trim()}function Re(e,t,n){return e.replace(t,n)}function Oe(e,t){return e.indexOf(t)}function Ne(e,t){return 0|e.charCodeAt(t)}function Pe(e,t,n){return e.slice(t,n)}function De(e){return e.length}function Me(e){return e.length}function Le(e,t){return t.push(e),e}var Fe=1,je=1,Ue=0,Ve=0,ze=0,Be="";function qe(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:Fe,column:je,length:o,return:""}}function Ze(e,t){return Ce(qe("",null,null,"",null,null,0),e,{length:-e.length},t)}function We(){return ze=Ve>0?Ne(Be,--Ve):0,je--,10===ze&&(je=1,Fe--),ze}function Ke(){return ze=Ve<Ue?Ne(Be,Ve++):0,je++,10===ze&&(je=1,Fe++),ze}function Ge(){return Ne(Be,Ve)}function He(){return Ve}function Qe(e,t){return Pe(Be,e,t)}function $e(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Ye(e){return Fe=je=1,Ue=De(Be=e),Ve=0,[]}function Xe(e){return Be="",e}function Je(e){return Ae(Qe(Ve-1,nt(91===e?e+2:40===e?e+1:e)))}function et(e){for(;(ze=Ge())&&ze<33;)Ke();return $e(e)>2||$e(ze)>3?"":" "}function tt(e,t){for(;--t&&Ke()&&!(ze<48||ze>102||ze>57&&ze<65||ze>70&&ze<97););return Qe(e,He()+(t<6&&32==Ge()&&32==Ke()))}function nt(e){for(;Ke();)switch(ze){case e:return Ve;case 34:case 39:34!==e&&39!==e&&nt(ze);break;case 40:41===e&&nt(e);break;case 92:Ke()}return Ve}function rt(e,t){for(;Ke()&&e+ze!==57&&(e+ze!==84||47!==Ge()););return"/*"+Qe(t,Ve-1)+"*"+Te(47===e?e:Ke())}function it(e){for(;!$e(Ge());)Ke();return Qe(e,Ve)}var at="-ms-",ot="-moz-",ut="-webkit-",st="comm",ct="rule",lt="decl",ft="@keyframes";function ht(e,t){for(var n="",r=Me(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function dt(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case lt:return e.return=e.return||e.value;case st:return"";case ft:return e.return=e.value+"{"+ht(e.children,r)+"}";case ct:e.value=e.props.join(",")}return De(n=ht(e.children,r))?e.return=e.value+"{"+n+"}":""}function pt(e){return Xe(vt("",null,null,null,[""],e=Ye(e),0,[0],e))}function vt(e,t,n,r,i,a,o,u,s){for(var c=0,l=0,f=o,h=0,d=0,p=0,v=1,m=1,y=1,g=0,b="",k=i,w=a,x=r,_=b;m;)switch(p=g,g=Ke()){case 40:if(108!=p&&58==Ne(_,f-1)){-1!=Oe(_+=Re(Je(g),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:_+=Je(g);break;case 9:case 10:case 13:case 32:_+=et(p);break;case 92:_+=tt(He()-1,7);continue;case 47:switch(Ge()){case 42:case 47:Le(yt(rt(Ke(),He()),t,n),s);break;default:_+="/"}break;case 123*v:u[c++]=De(_)*y;case 125*v:case 59:case 0:switch(g){case 0:case 125:m=0;case 59+l:-1==y&&(_=Re(_,/\f/g,"")),d>0&&De(_)-f&&Le(d>32?gt(_+";",r,n,f-1):gt(Re(_," ","")+";",r,n,f-2),s);break;case 59:_+=";";default:if(Le(x=mt(_,t,n,c,l,i,u,b,k=[],w=[],f),a),123===g)if(0===l)vt(_,t,x,x,k,a,f,u,w);else switch(99===h&&110===Ne(_,3)?100:h){case 100:case 108:case 109:case 115:vt(e,x,x,r&&Le(mt(e,x,x,0,0,i,u,b,i,k=[],f),w),i,w,f,u,r?k:w);break;default:vt(_,x,x,x,[""],w,0,u,w)}}c=l=d=0,v=y=1,b=_="",f=o;break;case 58:f=1+De(_),d=p;default:if(v<1)if(123==g)--v;else if(125==g&&0==v++&&125==We())continue;switch(_+=Te(g),g*v){case 38:y=l>0?1:(_+="\f",-1);break;case 44:u[c++]=(De(_)-1)*y,y=1;break;case 64:45===Ge()&&(_+=Je(Ke())),h=Ge(),l=f=De(b=_+=it(He())),g++;break;case 45:45===p&&2==De(_)&&(v=0)}}return a}function mt(e,t,n,r,i,a,o,u,s,c,l){for(var f=i-1,h=0===i?a:[""],d=Me(h),p=0,v=0,m=0;p<r;++p)for(var y=0,g=Pe(e,f+1,f=Ie(v=o[p])),b=e;y<d;++y)(b=Ae(v>0?h[y]+" "+g:Re(g,/&\f/g,h[y])))&&(s[m++]=b);return qe(e,t,n,0===i?ct:u,s,c,l)}function yt(e,t,n){return qe(e,t,n,st,Te(ze),Pe(e,2,-2),0)}function gt(e,t,n,r){return qe(e,t,n,lt,Pe(e,0,r),Pe(e,r+1,-1),r)}var bt=function(e,t,n){for(var r=0,i=0;r=i,i=Ge(),38===r&&12===i&&(t[n]=1),!$e(i);)Ke();return Qe(e,Ve)},kt=function(e,t){return Xe(function(e,t){var n=-1,r=44;do{switch($e(r)){case 0:38===r&&12===Ge()&&(t[n]=1),e[n]+=bt(Ve-1,t,n);break;case 2:e[n]+=Je(r);break;case 4:if(44===r){e[++n]=58===Ge()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Te(r)}}while(r=Ke());return e}(Ye(e),t))},wt=new WeakMap,xt=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||wt.get(n))&&!r){wt.set(e,!0);for(var i=[],a=kt(t,i),o=n.props,u=0,s=0;u<a.length;u++)for(var c=0;c<o.length;c++,s++)e.props[s]=i[u]?a[u].replace(/&\f/g,o[c]):o[c]+" "+a[u]}}},_t=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function St(e,t){switch(function(e,t){return 45^Ne(e,0)?(((t<<2^Ne(e,0))<<2^Ne(e,1))<<2^Ne(e,2))<<2^Ne(e,3):0}(e,t)){case 5103:return"-webkit-print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ut+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ut+e+ot+e+at+e+e;case 6828:case 4268:return ut+e+at+e+e;case 6165:return ut+e+at+"flex-"+e+e;case 5187:return ut+e+Re(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return ut+e+at+"flex-item-"+Re(e,/flex-|-self/,"")+e;case 4675:return ut+e+at+"flex-line-pack"+Re(e,/align-content|flex-|-self/,"")+e;case 5548:return ut+e+at+Re(e,"shrink","negative")+e;case 5292:return ut+e+at+Re(e,"basis","preferred-size")+e;case 6060:return"-webkit-box-"+Re(e,"-grow","")+ut+e+at+Re(e,"grow","positive")+e;case 4554:return ut+Re(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return Re(Re(Re(e,/(zoom-|grab)/,"-webkit-$1"),/(image-set)/,"-webkit-$1"),e,"")+e;case 5495:case 3959:return Re(e,/(image-set\([^]*)/,"-webkit-$1$`$1");case 4968:return Re(Re(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+ut+e+e;case 4095:case 3583:case 4068:case 2532:return Re(e,/(.+)-inline(.+)/,"-webkit-$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(De(e)-1-t>6)switch(Ne(e,t+1)){case 109:if(45!==Ne(e,t+4))break;case 102:return Re(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1-moz-"+(108==Ne(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Oe(e,"stretch")?St(Re(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Ne(e,t+1))break;case 6444:switch(Ne(e,De(e)-3-(~Oe(e,"!important")&&10))){case 107:return Re(e,":",":-webkit-")+e;case 101:return Re(e,/(.+:)([^;!]+)(;|!.+)?/,"$1-webkit-"+(45===Ne(e,14)?"inline-":"")+"box$3$1"+"-webkit-$2$3$1"+"-ms-$2box$3")+e}break;case 5936:switch(Ne(e,t+11)){case 114:return ut+e+at+Re(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ut+e+at+Re(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ut+e+at+Re(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ut+e+at+e+e}return e}var Et=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case lt:e.return=St(e.value,e.length);break;case ft:return ht([Ze(e,{value:Re(e.value,"@","@-webkit-")})],r);case ct:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ht([Ze(e,{props:[Re(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return ht([Ze(e,{props:[Re(t,/:(plac\w+)/,":-webkit-input-$1")]}),Ze(e,{props:[Re(t,/:(plac\w+)/,":-moz-$1")]}),Ze(e,{props:[Re(t,/:(plac\w+)/,"-ms-input-$1")]})],r)}return""}))}}],It=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||Et;var i,a,o={},u=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;u.push(e)}));var s,c,l=[dt,(c=function(e){s.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],f=function(e){var t=Me(e);return function(n,r,i,a){for(var o="",u=0;u<t;u++)o+=e[u](n,r,i,a)||"";return o}}([xt,_t].concat(r,l));a=function(e,t,n,r){s=n,ht(pt(e?e+"{"+t.styles+"}":t.styles),f),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new Ee({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return h.sheet.hydrate(u),h};var Tt={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Ct(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var At=/[A-Z]|^ms/g,Rt=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Ot=function(e){return 45===e.charCodeAt(1)},Nt=function(e){return null!=e&&"boolean"!==typeof e},Pt=Ct((function(e){return Ot(e)?e:e.replace(At,"-$&").toLowerCase()})),Dt=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(Rt,(function(e,t,n){return Lt={name:t,styles:n,next:Lt},t}))}return 1===Tt[e]||Ot(e)||"number"!==typeof t||0===t?t:t+"px"};function Mt(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Lt={name:n.name,styles:n.styles,next:Lt},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Lt={name:r.name,styles:r.styles,next:Lt},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Mt(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":Nt(o)&&(r+=Pt(a)+":"+Dt(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=Mt(e,t,o);switch(a){case"animation":case"animationName":r+=Pt(a)+":"+u+";";break;default:r+=a+"{"+u+"}"}}else for(var s=0;s<o.length;s++)Nt(o[s])&&(r+=Pt(a)+":"+Dt(a,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=Lt,a=n(e);return Lt=i,Mt(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var Lt,Ft=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var jt=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";Lt=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=Mt(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=Mt(n,t,e[o]),r&&(i+=a[o]);Ft.lastIndex=0;for(var u,s="";null!==(u=Ft.exec(i));)s+="-"+u[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+s;return{name:c,styles:i,next:Lt}},Ut=!!f.useInsertionEffect&&f.useInsertionEffect,Vt=Ut||function(e){return e()},zt=(Ut||l.useLayoutEffect,l.createContext("undefined"!==typeof HTMLElement?It({key:"css"}):null));zt.Provider;var Bt=function(e){return(0,l.forwardRef)((function(t,n){var r=(0,l.useContext)(zt);return e(t,r,n)}))};var qt=l.createContext({});function Zt(e){return 0===Object.keys(e).length}var Wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=l.useContext(qt);return!t||Zt(t)?e:t},Kt=Se();var Gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt;return Wt(e)};function Ht(e,t){var n;return(0,c.Z)({toolbar:(n={minHeight:56},(0,k.Z)(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),(0,k.Z)(n,e.up("sm"),{minHeight:64}),n)},t)}function Qt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function $t(e){if(e.type)return e;if("#"===e.charAt(0))return $t(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(a(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(a(10,r))}else i=i.split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:r}}function Yt(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function Xt(e){var t="hsl"===(e=$t(e)).type||"hsla"===e.type?$t(function(e){var t=(e=$t(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",s=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(u+="a",s.push(t[3])),Yt({type:u,values:s})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Jt(e,t){if(e=$t(e),t=Qt(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return Yt(e)}function en(e,t){if(e=$t(e),t=Qt(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return Yt(e)}var tn={black:"#000",white:"#fff"},nn={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},rn={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},an={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},on={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},un={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},sn={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},cn={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},ln=["mode","contrastThreshold","tonalOffset"],fn={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:tn.white,default:tn.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},hn={text:{primary:tn.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:tn.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function dn(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=en(e.main,i):"dark"===t&&(e.dark=Jt(e.main,a)))}function pn(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,i=void 0===r?3:r,o=e.tonalOffset,u=void 0===o?.2:o,s=(0,h.Z)(e,ln),l=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:un[200],light:un[50],dark:un[400]}:{main:un[700],light:un[400],dark:un[800]}}(n),f=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:rn[200],light:rn[50],dark:rn[400]}:{main:rn[500],light:rn[300],dark:rn[700]}}(n),d=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:an[500],light:an[300],dark:an[700]}:{main:an[700],light:an[400],dark:an[800]}}(n),p=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:sn[400],light:sn[300],dark:sn[700]}:{main:sn[700],light:sn[500],dark:sn[900]}}(n),v=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:cn[400],light:cn[300],dark:cn[700]}:{main:cn[800],light:cn[500],dark:cn[900]}}(n),m=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:on[400],light:on[300],dark:on[700]}:{main:"#ed6c02",light:on[500],dark:on[900]}}(n);function y(e){var t=function(e,t){var n=Xt(e),r=Xt(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,hn.text.primary)>=i?hn.text.primary:fn.text.primary;return t}var g=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,o=e.lightShade,s=void 0===o?300:o,l=e.darkShade,f=void 0===l?700:l;if(!(t=(0,c.Z)({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(a(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(a(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return dn(t,"light",s,u),dn(t,"dark",f,u),t.contrastText||(t.contrastText=y(t.main)),t},k={dark:hn,light:fn};return b((0,c.Z)({common:(0,c.Z)({},tn),mode:n,primary:g({color:l,name:"primary"}),secondary:g({color:f,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:g({color:d,name:"error"}),warning:g({color:m,name:"warning"}),info:g({color:p,name:"info"}),success:g({color:v,name:"success"}),grey:nn,contrastThreshold:i,getContrastText:y,augmentColor:g,tonalOffset:u},k[n]),s)}var vn=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var mn={textTransform:"uppercase"},yn='"Roboto", "Helvetica", "Arial", sans-serif';function gn(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?yn:r,a=n.fontSize,o=void 0===a?14:a,u=n.fontWeightLight,s=void 0===u?300:u,l=n.fontWeightRegular,f=void 0===l?400:l,d=n.fontWeightMedium,p=void 0===d?500:d,v=n.fontWeightBold,m=void 0===v?700:v,y=n.htmlFontSize,g=void 0===y?16:y,k=n.allVariants,w=n.pxToRem,x=(0,h.Z)(n,vn);var _=o/14,S=w||function(e){return"".concat(e/g*_,"rem")},E=function(e,t,n,r,a){return(0,c.Z)({fontFamily:i,fontWeight:e,fontSize:S(t),lineHeight:n},i===yn?{letterSpacing:"".concat((o=r/t,Math.round(1e5*o)/1e5),"em")}:{},a,k);var o},I={h1:E(s,96,1.167,-1.5),h2:E(s,60,1.2,-.5),h3:E(f,48,1.167,0),h4:E(f,34,1.235,.25),h5:E(f,24,1.334,0),h6:E(p,20,1.6,.15),subtitle1:E(f,16,1.75,.15),subtitle2:E(p,14,1.57,.1),body1:E(f,16,1.5,.15),body2:E(f,14,1.43,.15),button:E(p,14,1.75,.4,mn),caption:E(f,12,1.66,.4),overline:E(f,12,2.66,1,mn),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return b((0,c.Z)({htmlFontSize:g,pxToRem:S,fontFamily:i,fontSize:o,fontWeightLight:s,fontWeightRegular:f,fontWeightMedium:p,fontWeightBold:m},I),x,{clone:!1})}function bn(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var kn=["none",bn(0,2,1,-1,0,1,1,0,0,1,3,0),bn(0,3,1,-2,0,2,2,0,0,1,5,0),bn(0,3,3,-2,0,3,4,0,0,1,8,0),bn(0,2,4,-1,0,4,5,0,0,1,10,0),bn(0,3,5,-1,0,5,8,0,0,1,14,0),bn(0,3,5,-1,0,6,10,0,0,1,18,0),bn(0,4,5,-2,0,7,10,1,0,2,16,1),bn(0,5,5,-3,0,8,10,1,0,3,14,2),bn(0,5,6,-3,0,9,12,1,0,3,16,2),bn(0,6,6,-3,0,10,14,1,0,4,18,3),bn(0,6,7,-4,0,11,15,1,0,4,20,3),bn(0,7,8,-4,0,12,17,2,0,5,22,4),bn(0,7,8,-4,0,13,19,2,0,5,24,4),bn(0,7,9,-4,0,14,21,2,0,5,26,4),bn(0,8,9,-5,0,15,22,2,0,6,28,5),bn(0,8,10,-5,0,16,24,2,0,6,30,5),bn(0,8,11,-5,0,17,26,2,0,6,32,5),bn(0,9,11,-5,0,18,28,2,0,7,34,6),bn(0,9,12,-6,0,19,29,2,0,7,36,6),bn(0,10,13,-6,0,20,31,3,0,8,38,7),bn(0,10,13,-6,0,21,33,3,0,8,40,7),bn(0,10,14,-6,0,22,35,3,0,8,42,7),bn(0,11,14,-7,0,23,36,3,0,9,44,8),bn(0,11,15,-7,0,24,38,3,0,9,46,8)],wn=["duration","easing","delay"],xn={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},_n={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Sn(e){return"".concat(Math.round(e),"ms")}function En(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function In(e){var t=(0,c.Z)({},xn,e.easing),n=(0,c.Z)({},_n,e.duration);return(0,c.Z)({getAutoHeightDuration:En,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,a=void 0===i?n.standard:i,o=r.easing,u=void 0===o?t.easeInOut:o,s=r.delay,c=void 0===s?0:s;(0,h.Z)(r,wn);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof a?a:Sn(a)," ").concat(u," ").concat("string"===typeof c?c:Sn(c))})).join(",")}},e,{easing:t,duration:n})}var Tn={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Cn=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function An(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,o=e.transitions,u=void 0===o?{}:o,s=e.typography,l=void 0===s?{}:s,f=(0,h.Z)(e,Cn);if(e.vars)throw new Error(a(18));var d=pn(i),p=Se(e),v=b(p,{mixins:Ht(p.breakpoints,n),palette:d,shadows:kn.slice(),typography:gn(d,l),transitions:In(u),zIndex:(0,c.Z)({},Tn)});v=b(v,f);for(var m=arguments.length,y=new Array(m>1?m-1:0),g=1;g<m;g++)y[g-1]=arguments[g];return(v=y.reduce((function(e,t){return b(e,t)}),v)).unstable_sxConfig=(0,c.Z)({},ke,null==f?void 0:f.unstable_sxConfig),v.unstable_sx=function(e){return xe({sx:e,theme:this})},v}var Rn=An(),On="$$material";function Nn(e){return function(e){var t=e.props,n=e.name,r=e.defaultTheme,i=e.themeId,a=Gt(r);return i&&(a=a[i]||a),m({theme:a,name:n,props:t})}({props:e.props,name:e.name,defaultTheme:Rn,themeId:On})}var Pn=n(433),Dn=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/;function Mn(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var Ln=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},Fn=Ct((function(e){return Dn.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),jn=function(e){return"theme"!==e},Un=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?Fn:jn},Vn=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},zn=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return Ln(t,n,r),Vt((function(){return function(e,t,n){Ln(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)})),null},Bn=function e(t,n){var r,i,a=t.__emotion_real===t,o=a&&t.__emotion_base||t;void 0!==n&&(r=n.label,i=n.target);var u=Vn(t,n,a),s=u||Un(o),f=!s("as");return function(){var h=arguments,d=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&d.push("label:"+r+";"),null==h[0]||void 0===h[0].raw)d.push.apply(d,h);else{0,d.push(h[0][0]);for(var p=h.length,v=1;v<p;v++)d.push(h[v],h[0][v])}var m=Bt((function(e,t,n){var r=f&&e.as||o,a="",c=[],h=e;if(null==e.theme){for(var p in h={},e)h[p]=e[p];h.theme=l.useContext(qt)}"string"===typeof e.className?a=Mn(t.registered,c,e.className):null!=e.className&&(a=e.className+" ");var v=jt(d.concat(c),t.registered,h);a+=t.key+"-"+v.name,void 0!==i&&(a+=" "+i);var m=f&&void 0===u?Un(r):s,y={};for(var g in e)f&&"as"===g||m(g)&&(y[g]=e[g]);return y.className=a,y.ref=n,l.createElement(l.Fragment,null,l.createElement(zn,{cache:t,serialized:v,isStringTag:"string"===typeof r}),l.createElement(r,y))}));return m.displayName=void 0!==r?r:"Styled("+("string"===typeof o?o:o.displayName||o.name||"Component")+")",m.defaultProps=t.defaultProps,m.__emotion_real=m,m.__emotion_base=o,m.__emotion_styles=d,m.__emotion_forwardProp=u,Object.defineProperty(m,"toString",{value:function(){return"."+i}}),m.withComponent=function(t,r){return e(t,(0,c.Z)({},n,r,{shouldForwardProp:Vn(m,r,!0)})).apply(void 0,d)},m}}.bind();function qn(e,t){return Bn(e,t)}["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){Bn[e]=Bn(e)}));var Zn=function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},Wn=["variant"];function Kn(e){return 0===e.length}function Gn(e){var t=e.variant,n=(0,h.Z)(e,Wn),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?Kn(r)?e[t]:o(e[t]):"".concat(Kn(r)?t:o(t)).concat(o(e[t].toString()))})),r}var Hn=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function Qn(e){return"string"===typeof e&&e.charCodeAt(0)>96}var $n=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},Yn=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=Gn(e.props);r[t]=e.style})),r},Xn=function(e,t,n,r){var i,a=e.ownerState,o=void 0===a?{}:a,u=[],s=null==n||null==(i=n.components)||null==(i=i[r])?void 0:i.variants;return s&&s.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){o[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&u.push(t[Gn(n.props)])})),u};function Jn(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var er=Se(),tr=function(e){return e?e.charAt(0).toLowerCase()+e.slice(1):e};function nr(e){var t,n=e.defaultTheme,r=e.theme,i=e.themeId;return t=r,0===Object.keys(t).length?n:r[i]||r}function rr(e){return e?function(t,n){return n[e]}:null}var ir=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.themeId,n=e.defaultTheme,r=void 0===n?er:n,i=e.rootShouldForwardProp,a=void 0===i?Jn:i,o=e.slotShouldForwardProp,u=void 0===o?Jn:o,s=function(e){return xe((0,c.Z)({},e,{theme:nr((0,c.Z)({},e,{defaultTheme:r,themeId:t}))}))};return s.__mui_systemSx=!0,function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Zn(e,(function(e){return e.filter((function(e){return!(null!=e&&e.__mui_systemSx)}))}));var i,o=n.name,l=n.slot,f=n.skipVariantsResolver,d=n.skipSx,p=n.overridesResolver,v=void 0===p?rr(tr(l)):p,m=(0,h.Z)(n,Hn),y=void 0!==f?f:l&&"Root"!==l&&"root"!==l||!1,g=d||!1;var b=Jn;"Root"===l||"root"===l?b=a:l?b=u:Qn(e)&&(b=void 0);var k=qn(e,(0,c.Z)({shouldForwardProp:b,label:i},m)),w=function(n){for(var i=arguments.length,a=new Array(i>1?i-1:0),u=1;u<i;u++)a[u-1]=arguments[u];var l=a?a.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(n){return e((0,c.Z)({},n,{theme:nr((0,c.Z)({},n,{defaultTheme:r,themeId:t}))}))}:e})):[],f=n;o&&v&&l.push((function(e){var n=nr((0,c.Z)({},e,{defaultTheme:r,themeId:t})),i=$n(o,n);if(i){var a={};return Object.entries(i).forEach((function(t){var r=(0,S.Z)(t,2),i=r[0],o=r[1];a[i]="function"===typeof o?o((0,c.Z)({},e,{theme:n})):o})),v(e,a)}return null})),o&&!y&&l.push((function(e){var n=nr((0,c.Z)({},e,{defaultTheme:r,themeId:t}));return Xn(e,Yn(o,n),n,o)})),g||l.push(s);var h=l.length-a.length;if(Array.isArray(n)&&h>0){var d=new Array(h).fill("");(f=[].concat((0,Pn.Z)(n),(0,Pn.Z)(d))).raw=[].concat((0,Pn.Z)(n.raw),(0,Pn.Z)(d))}else"function"===typeof n&&n.__emotion_real!==n&&(f=function(e){return n((0,c.Z)({},e,{theme:nr((0,c.Z)({},e,{defaultTheme:r,themeId:t}))}))});var p=k.apply(void 0,[f].concat((0,Pn.Z)(l)));return e.muiName&&(p.muiName=e.muiName),p};return k.withConfig&&(w.withConfig=k.withConfig),w}}({themeId:On,defaultTheme:Rn,rootShouldForwardProp:function(e){return Jn(e)&&"classes"!==e}}),ar=ir,or={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function ur(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r=or[t];return r?"".concat(n,"-").concat(r):"".concat(i.generate(e),"-").concat(t)}function sr(e){return ur("MuiSvgIcon",e)}!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r={};t.forEach((function(t){r[t]=ur(e,t,n)}))}("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var cr=n(184),lr=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],fr=function(e){var t=e.color,n=e.fontSize,r=e.classes;return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){if(r){var i=t(r);""!==i&&e.push(i),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}({root:["root","inherit"!==t&&"color".concat(u(t)),"fontSize".concat(u(n))]},sr,r)},hr=ar("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat(u(n.color))],t["fontSize".concat(u(n.fontSize))]]}})((function(e){var t,n,r,i,a,o,u,s,c,l,f,h,d,p=e.theme,v=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:v.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(t=p.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=p.transitions)||null==(r=r.duration)?void 0:r.shorter}),fontSize:{inherit:"inherit",small:(null==(i=p.typography)||null==(a=i.pxToRem)?void 0:a.call(i,20))||"1.25rem",medium:(null==(o=p.typography)||null==(u=o.pxToRem)?void 0:u.call(o,24))||"1.5rem",large:(null==(s=p.typography)||null==(c=s.pxToRem)?void 0:c.call(s,35))||"2.1875rem"}[v.fontSize],color:null!=(l=null==(f=(p.vars||p).palette)||null==(f=f[v.color])?void 0:f.main)?l:{action:null==(h=(p.vars||p).palette)||null==(h=h.action)?void 0:h.active,disabled:null==(d=(p.vars||p).palette)||null==(d=d.action)?void 0:d.disabled,inherit:void 0}[v.color]}})),dr=l.forwardRef((function(e,t){var n=Nn({props:e,name:"MuiSvgIcon"}),r=n.children,i=n.className,a=n.color,o=void 0===a?"inherit":a,u=n.component,s=void 0===u?"svg":u,f=n.fontSize,d=void 0===f?"medium":f,v=n.htmlColor,m=n.inheritViewBox,y=void 0!==m&&m,g=n.titleAccess,b=n.viewBox,k=void 0===b?"0 0 24 24":b,w=(0,h.Z)(n,lr),x=l.isValidElement(r)&&"svg"===r.type,_=(0,c.Z)({},n,{color:o,component:s,fontSize:d,instanceFontSize:e.fontSize,inheritViewBox:y,viewBox:k,hasSvgAsChild:x}),S={};y||(S.viewBox=k);var E=fr(_);return(0,cr.jsxs)(hr,(0,c.Z)({as:s,className:p(E.root,i),focusable:"false",color:v,"aria-hidden":!g||void 0,role:g?"img":void 0,ref:t},S,w,x&&r.props,{ownerState:_,children:[x?r.props.children:r,g?(0,cr.jsx)("title",{children:g}):null]}))}));dr.muiName="SvgIcon";var pr=dr;function vr(e,t){function n(n,r){return(0,cr.jsx)(pr,(0,c.Z)({"data-testid":"".concat(t,"Icon"),ref:r},n,{children:e}))}return n.muiName=pr.muiName,l.memo(l.forwardRef(n))}var mr=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var u=function(){e.apply(r,a)};clearTimeout(t),t=setTimeout(u,n)}return r.clear=function(){clearTimeout(t)},r};var yr=function(e,t){return function(){return null}};var gr=function(e,t){return l.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)};function br(e){return e&&e.ownerDocument||document}var kr=br;var wr=function(e){return br(e).defaultView||window};var xr=function(e,t){return function(){return null}};function _r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}var Sr=_r,Er="undefined"!==typeof window?l.useLayoutEffect:l.useEffect,Ir=Er,Tr=0;var Cr=f["useId".toString()];var Ar=function(e){if(void 0!==Cr){var t=Cr();return null!=e?e:t}return function(e){var t=l.useState(e),n=(0,S.Z)(t,2),r=n[0],i=n[1],a=e||r;return l.useEffect((function(){null==r&&i("mui-".concat(Tr+=1))}),[r]),a}(e)};var Rr=function(e,t,n,r,i){return null};var Or=function(e){var t=e.controlled,n=e.default,r=(e.name,e.state,l.useRef(void 0!==t).current),i=l.useState(n),a=(0,S.Z)(i,2),o=a[0],u=a[1];return[r?t:o,l.useCallback((function(e){r||u(e)}),[])]};var Nr=function(e){var t=l.useRef(e);return Er((function(){t.current=e})),l.useCallback((function(){return t.current.apply(void 0,arguments)}),[])},Pr=Nr;var Dr,Mr=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return l.useMemo((function(){return t.every((function(e){return null==e}))?null:function(e){t.forEach((function(t){_r(t,e)}))}}),t)},Lr=!0,Fr=!1,jr={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Ur(e){e.metaKey||e.altKey||e.ctrlKey||(Lr=!0)}function Vr(){Lr=!1}function zr(){"hidden"===this.visibilityState&&Fr&&(Lr=!0)}function Br(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return Lr||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!jr[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var qr=function(){var e=l.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",Ur,!0),t.addEventListener("mousedown",Vr,!0),t.addEventListener("pointerdown",Vr,!0),t.addEventListener("touchstart",Vr,!0),t.addEventListener("visibilitychange",zr,!0))}),[]),t=l.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!Br(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(Fr=!0,window.clearTimeout(Dr),Dr=window.setTimeout((function(){Fr=!1}),100),t.current=!1,!0)},ref:e}},Zr={configure:function(e){i.configure(e)}}},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===b||e.$$typeof===k||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,F=Object.assign;function j(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function z(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case E:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function Z(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function H(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Z(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=Z(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,Z(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&H(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Z(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Z(n)}}function ae(e,t){var n=Z(t.value),r=Z(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Se=null;function Ee(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ie(e){_e?Se?Se.push(e):Se=[e]:_e=e}function Te(){if(_e){var e=_e,t=Se;if(Se=_e=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Re=!1;function Oe(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ce(e,t,n)}finally{Re=!1,(null!==_e||null!==Se)&&(Ae(),Te())}}function Ne(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Pe=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Pe=!1}function Me(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,Fe=null,je=!1,Ue=null,Ve={onError:function(e){Le=!0,Fe=e}};function ze(e,t,n,r,i,a,o,u,s){Le=!1,Fe=null,Me.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ze(e){if(Be(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ze(i),e;if(o===r)return Ze(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,He=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,$e=i.unstable_requestPaint,Ye=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,St,Et,It=!1,Tt=[],Ct=null,At=null,Rt=null,Ot=new Map,Nt=new Map,Pt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function Vt(){It=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==At&&jt(At)&&(At=null),null!==Rt&&jt(Rt)&&(Rt=null),Ot.forEach(Ut),Nt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==At&&zt(At,e),null!==Rt&&zt(Rt,e),Ot.forEach(t),Nt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Pt.shift()}var qt=k.ReactCurrentBatchConfig,Zt=!0;function Wt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Kt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Gt(e,t,n,r){if(Zt){var i=Qt(e,t,n,r);if(null===i)Zr(e,t,r,Ht,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Lt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Lt(At,e,t,n,r,i),!0;case"mouseover":return Rt=Lt(Rt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,Lt(Ot.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Nt.set(a,Lt(Nt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=Qt(e,t,n,r))&&Zr(e,t,r,Ht,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Zr(e,t,r,null,n)}}var Ht=null;function Qt(e,t,n,r){if(Ht=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ht=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Xt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(gn),kn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function En(){return Sn}var In=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(In),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Rn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=an(On),Pn=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Mn=null;l&&"documentMode"in document&&(Mn=document.documentMode);var Ln=l&&"TextEvent"in window&&!Mn,Fn=l&&(!Dn||Mn&&8<Mn&&11>=Mn),jn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ie(r),0<(t=Kr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Hn(e){jr(e,0)}function Qn(e){if(G(ki(e)))return e}function $n(e,t){if("change"===e)return t}var Yn=!1;if(l){var Xn;if(l){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Xn=Jn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Qn(Gn)){var t=[];Wn(t,Gn,e,we(e)),Oe(Hn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Gn)}function ar(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=H();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=H((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==H(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Sr={};function Er(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return _r[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Ir=Er("animationend"),Tr=Er("animationiteration"),Cr=Er("animationstart"),Ar=Er("transitionend"),Rr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Rr.set(e,t),s(t,[e])}for(var Pr=0;Pr<Or.length;Pr++){var Dr=Or[Pr];Nr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Nr(Ir,"onAnimationEnd"),Nr(Tr,"onAnimationIteration"),Nr(Cr,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(ze.apply(this,arguments),Le){if(!Le)throw Error(a(198));var l=Fe;Le=!1,Fe=null,je||(je=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch($t(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Zr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Oe((function(){var r=a,i=we(n),o=[];e:{var u=Rr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=An;break;case Ir:case Tr:case Cr:s=yn;break;case Ar:s=Rn;break;case"scroll":s=hn;break;case"wheel":s=Nn;break;case"copy":case"cut":case"paste":s=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ne(p,h))&&l.push(Wr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ki(s),d=null==c?u:ki(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==s&&Hr(o,u,s,l,!1),null!==c&&null!==f&&Hr(o,f,c,l,!0)}if("select"===(s=(u=r?ki(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=$n;else if(Zn(u))if(Yn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?ki(r):window,e){case"focusin":(Zn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(g=en()):(Xt="value"in(Yt=i)?Yt.value:Yt.textContent,Bn=!0)),0<(y=Kr(r,b)).length&&(b=new kn(b,e,null,n,i),o.push({event:b,listeners:y}),g?b.data=g:null!==(g=zn(n))&&(b.data=g))),(g=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Jt=Xt=Yt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ne(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Ne(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Hr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Ne(n,a))&&o.unshift(Wr(n,s,u)):i||null!=(s=Ne(n,a))&&o.push(Wr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace($r,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],_i=-1;function Si(e){return{current:e}}function Ei(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Ii(e,t){_i++,xi[_i]=e.current,e.current=t}var Ti={},Ci=Si(Ti),Ai=Si(!1),Ri=Ti;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ni(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Ei(Ai),Ei(Ci)}function Di(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ii(Ci,t),Ii(Ai,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ri=Ci.current,Ii(Ci,e),Ii(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Mi(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ai),Ei(Ci),Ii(Ci,e)):Ei(Ai),Ii(Ai,n)}var ji=null,Ui=!1,Vi=!1;function zi(e){null===ji?ji=[e]:ji.push(e)}function Bi(){if(!Vi&&null!==ji){Vi=!0;var e=0,t=bt;try{var n=ji;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ge(Je,Bi),i}finally{bt=t,Vi=!1}}return null}var qi=[],Zi=0,Wi=null,Ki=0,Gi=[],Hi=0,Qi=null,$i=1,Yi="";function Xi(e,t){qi[Zi++]=Ki,qi[Zi++]=Wi,Wi=e,Ki=t}function Ji(e,t,n){Gi[Hi++]=$i,Gi[Hi++]=Yi,Gi[Hi++]=Qi,Qi=e;var r=$i;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Yi=a+e}else $i=1<<a|n<<i|r,Yi=e}function ea(e){null!==e.return&&(Xi(e,1),Ji(e,1,0))}function ta(e){for(;e===Wi;)Wi=qi[--Zi],qi[Zi]=null,Ki=qi[--Zi],qi[Zi]=null;for(;e===Qi;)Qi=Gi[--Hi],Gi[Hi]=null,Yi=Gi[--Hi],Gi[Hi]=null,$i=Gi[--Hi],Gi[Hi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:$i,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=k.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Si(null),ga=null,ba=null,ka=null;function wa(){ka=ba=ga=null}function xa(e){var t=ya.current;Ei(ya),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ga=e,ka=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ku=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ga)throw Error(a(308));ba=e,ga.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Ia=null;function Ta(e){null===Ia?Ia=[e]:Ia.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ra=!1;function Oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Na(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cs)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function Ma(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Ra=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Ra=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ls|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Pa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(nc(t,e,i,r),Ma(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Pa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(nc(t,e,i,r),Ma(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Pa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(nc(t,e,r,n),Ma(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Ni(t)?Ri:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Za(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Oa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Ni(t)?Ri:Ci.current,i.context=Oi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ha(e){return(0,e._init)(e._payload)}function Qa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===N&&Ha(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case x:return(t=jc(t,e.mode,n)).return=e,t;case N:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case N:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Xi(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Xi(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Xi(i,v),c}function m(i,u,s,c){var l=M(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var b=d(i,v,g.value,c);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),u=o(b,u,m),null===f?l=b:f.sibling=b,f=b,v=y}if(g.done)return n(i,v),ia&&Xi(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Xi(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Xi(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===N&&Ha(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ka(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Mc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Dc(o.type,o.key,o.props,null,r.mode,s)).ref=Ka(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=jc(o,r.mode,s)).return=r,r=a}return u(r);case N:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(M(o))return m(r,a,o,s);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var $a=Qa(!0),Ya=Qa(!1),Xa={},Ja=Si(Xa),eo=Si(Xa),to=Si(Xa);function no(e){if(e===Xa)throw Error(a(174));return e}function ro(e,t){switch(Ii(to,t),Ii(eo,e),Ii(Ja,Xa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Ja),Ii(Ja,t)}function io(){Ei(Ja),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Ja.current),n=se(t,e.type);t!==n&&(Ii(eo,e),Ii(Ja,n))}function oo(e){eo.current===e&&(Ei(Ja),Ei(eo))}var uo=Si(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=k.ReactCurrentDispatcher,ho=k.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,bo=!1,ko=0,wo=0;function xo(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),bo){o=0;do{if(bo=!1,ko=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(bo)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==ko;return ko=0,e}function Io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Ls|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(ku=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ls|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ro(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(ku=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Oo(){}function No(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,ku=!0),r=r.queue,Zo(Mo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Do.bind(null,n,r,i,t),void 0,null),null===As)throw Error(a(349));0!==(30&po)||Po(n,t,i)}return i}function Po(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Lo(t)&&Fo(e)}function Mo(e,t,n){return n((function(){Lo(t)&&Fo(e)}))}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Aa(e,1);null!==t&&nc(t,e,1,-1)}function jo(e){var t=Io();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return To().memoizedState}function zo(e,t,n,r){var i=Io();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return zo(8390656,8,e,t)}function Zo(e,t){return Bo(2048,8,e,t)}function Wo(e,t){return Bo(4,2,e,t)}function Ko(e,t){return Bo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ho(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Go.bind(null,t,e),n)}function Qo(){}function $o(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ku=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ls|=n,e.baseState=!0),t)}function Jo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),au(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){bo=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ea,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Ea,useCallback:function(e,t){return Io().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=Io();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Io();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Io().memoizedState=e},useState:jo,useDebugValue:Qo,useDeferredValue:function(e){return Io().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Jo.bind(null,e[1]),Io().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Io();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===As)throw Error(a(349));0!==(30&po)||Po(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Mo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Io(),t=As.identifierPrefix;if(ia){var n=Yi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ea,useCallback:$o,useContext:Ea,useEffect:Zo,useImperativeHandle:Ho,useInsertionEffect:Wo,useLayoutEffect:Ko,useMemo:Yo,useReducer:Ao,useRef:Vo,useState:function(){return Ao(Co)},useDebugValue:Qo,useDeferredValue:function(e){return Xo(To(),mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:No,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ea,useCallback:$o,useContext:Ea,useEffect:Zo,useImperativeHandle:Ho,useInsertionEffect:Wo,useLayoutEffect:Ko,useMemo:Yo,useReducer:Ro,useRef:Vo,useState:function(){return Ro(Co)},useDebugValue:Qo,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Xo(t,mo.memoizedState,e)},useTransition:function(){return[Ro(Co)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:No,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Pa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Zs||(Zs=!0,Ws=r),hu(0,t)},n}function vu(e,t,n){(n=Pa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Ks?Ks=new Set([this]):Ks.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Pa(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bu=k.ReactCurrentOwner,ku=!1;function wu(e,t,n,r){t.child=null===e?Ya(t,null,n,r):$a(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Eo(),null===e||ku?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Zu(e,t,i))}function _u(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Nc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Su(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Zu(e,t,i)}return t.flags|=1,(e=Pc(a,r)).ref=t.ref,e.return=t,t.child=e}function Su(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(ku=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Zu(e,t,i);0!==(131072&e.flags)&&(ku=!0)}}return Tu(e,t,n,r,i)}function Eu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Ps,Ns),Ns|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Ps,Ns),Ns|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ii(Ps,Ns),Ns|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ii(Ps,Ns),Ns|=r;return wu(e,t,i,n),t.child}function Iu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Ni(n)?Ri:Ci.current;return a=Oi(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Eo(),null===e||ku?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Zu(e,t,i))}function Cu(e,t,n,r,i){if(Ni(n)){var a=!0;Li(t)}else a=!1;if(Sa(t,i),null===t.stateNode)qu(e,t),qa(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Oi(t,c=Ni(n)?Ri:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Za(t,o,r,c),Ra=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ai.current||Ra?("function"===typeof l&&(Va(t,n,l,r),s=t.memoizedState),(u=Ra||Ba(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Na(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ea(s):s=Oi(t,s=Ni(n)?Ri:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Za(t,o,r,s),Ra=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ai.current||Ra?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Ra||Ba(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Au(e,t,n,r,a,i)}function Au(e,t,n,r,i,a){Iu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Zu(e,t,a);r=t.stateNode,bu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Ru(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Ou(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Nu,Pu,Du,Mu={dehydrated:null,treeContext:null,retryLane:0};function Lu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ii(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Lc(s,i,0,null),e=Mc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Lu(n),t.memoizedState=Mu,e):ju(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Uu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,u),t.child.memoizedState=Lu(u),t.memoizedState=Mu,o);if(0===(1&t.mode))return Uu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Uu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),ku||s){if(null!==(r=As)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),nc(r,e,i,-1))}return vc(),Uu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Hi++]=$i,Gi[Hi++]=Yi,Gi[Hi++]=Qi,$i=e.id,Yi=e.overflow,Qi=t),(t=ju(t,r.children)).flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Pc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Pc(r,u):(u=Mc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Lu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Mu,i}return e=(u=e.child).sibling,i=Pc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ju(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uu(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=ju(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function zu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Bu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vu(e,n,t);else if(19===e.tag)Vu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zu(t,!0,n,null,a);break;case"together":zu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ls|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ku(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ku(t),null;case 1:case 17:return Ni(t.type)&&Pi(),Ku(t),null;case 3:return r=t.stateNode,io(),Ei(Ai),Ei(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Ku(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Pu(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ku(t),null}if(e=no(Ja.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":$(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Ur("scroll",r)}switch(n){case"input":K(r),J(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Nu(e,t),t.stateNode=e;e:{switch(s=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":$(e,r),i=Q(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&b(e,o,l,s))}switch(n){case"input":K(e),J(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Z(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ku(t),null;case 6:if(e&&null!=t.stateNode)Du(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Ja.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ku(t),null;case 13:if(Ei(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ku(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ds&&(Ds=3):vc())),null!==t.updateQueue&&(t.flags|=4),Ku(t),null);case 4:return io(),null===e&&Br(t.stateNode.containerInfo),Ku(t),null;case 10:return xa(t.type._context),Ku(t),null;case 19:if(Ei(uo),null===(o=t.memoizedState))return Ku(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Wu(o,!1);else{if(0!==Ds||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Wu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>Bs&&(t.flags|=128,r=!0,Wu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Ku(t),null}else 2*Ye()-o.renderingStartTime>Bs&&1073741824!==n&&(t.flags|=128,r=!0,Wu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=uo.current,Ii(uo,r?1&n|2:1&n),t):(Ku(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ns)&&(Ku(t),6&t.subtreeFlags&&(t.flags|=8192)):Ku(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Hu(e,t){switch(ta(t),t.tag){case 1:return Ni(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ai),Ei(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Nu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pu=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Ja.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Du=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qu=!1,$u=!1,Yu="function"===typeof WeakSet?WeakSet:Set,Xu=null;function Ju(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ds(e,t,n),n=n.sibling}function ds(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:$u||Ju(n,t);case 6:var r=ls,i=fs;ls=null,hs(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Bt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,hs(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!$u&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!$u&&(Ju(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Sc(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?($u=(r=$u)||null!==n.memoizedState,hs(e,t,n),$u=r):hs(e,t,n);break;default:hs(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Yu),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(a(160));ds(o,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Sc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ms(t,e),t=t.sibling}function ms(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ys(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(m){Sc(e,e.return,m)}try{ns(5,e,e.return)}catch(m){Sc(e,e.return,m)}}break;case 1:vs(t,e),ys(e),512&r&&null!==n&&Ju(n,n.return);break;case 5:if(vs(t,e),ys(e),512&r&&null!==n&&Ju(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Sc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&Y(i,o),be(s,u);var l=be(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):b(i,f,h,l)}switch(s){case"input":X(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Sc(e,e.return,m)}}break;case 6:if(vs(t,e),ys(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Sc(e,e.return,m)}}break;case 3:if(vs(t,e),ys(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Sc(e,e.return,m)}break;case 4:default:vs(t,e),ys(e);break;case 13:vs(t,e),ys(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zs=Ye())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?($u=(l=$u)||f,vs(t,e),$u=l):vs(t,e),ys(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Xu=e,f=e.child;null!==f;){for(h=Xu=f;null!==Xu;){switch(p=(d=Xu).child,d.tag){case 0:case 11:case 14:case 15:ns(4,d,d.return);break;case 1:Ju(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Sc(r,n,m)}}break;case 5:Ju(d,d.return);break;case 22:if(null!==d.memoizedState){ws(h);continue}}null!==p?(p.return=d,Xu=p):ws(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Sc(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Sc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vs(t,e),ys(e),4&r&&ps(e);case 21:}}function ys(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){Sc(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Xu=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==Xu;){var i=Xu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Qu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||$u;u=Qu;var c=$u;if(Qu=o,($u=s)&&!c)for(Xu=i;null!==Xu;)s=(o=Xu).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,Xu=s):xs(i);for(;null!==a;)Xu=a,bs(a,t,n),a=a.sibling;Xu=i,Qu=u,$u=c}ks(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Xu=a):ks(e)}}function ks(e){for(;null!==Xu;){var t=Xu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$u||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$u)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}$u||512&t.flags&&is(t)}catch(d){Sc(t,t.return,d)}}if(t===e){Xu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xu=n;break}Xu=t.return}}function ws(e){for(;null!==Xu;){var t=Xu;if(t===e){Xu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xu=n;break}Xu=t.return}}function xs(e){for(;null!==Xu;){var t=Xu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Sc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Sc(t,i,s)}}var a=t.return;try{is(t)}catch(s){Sc(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){Sc(t,o,s)}}}catch(s){Sc(t,t.return,s)}if(t===e){Xu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Xu=u;break}Xu=t.return}}var _s,Ss=Math.ceil,Es=k.ReactCurrentDispatcher,Is=k.ReactCurrentOwner,Ts=k.ReactCurrentBatchConfig,Cs=0,As=null,Rs=null,Os=0,Ns=0,Ps=Si(0),Ds=0,Ms=null,Ls=0,Fs=0,js=0,Us=null,Vs=null,zs=0,Bs=1/0,qs=null,Zs=!1,Ws=null,Ks=null,Gs=!1,Hs=null,Qs=0,$s=0,Ys=null,Xs=-1,Js=0;function ec(){return 0!==(6&Cs)?Ye():-1!==Xs?Xs:Xs=Ye()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cs)&&0!==Os?Os&-Os:null!==va.transition?(0===Js&&(Js=vt()),Js):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function nc(e,t,n,r){if(50<$s)throw $s=0,Ys=null,Error(a(185));yt(e,n,r),0!==(2&Cs)&&e===As||(e===As&&(0===(2&Cs)&&(Fs|=n),4===Ds&&uc(e,Os)),rc(e,r),1===n&&0===Cs&&0===(1&t.mode)&&(Bs=Ye()+500,Ui&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===As?Os:0);if(0===r)null!==n&&He(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&He(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(sc.bind(null,e)):zi(sc.bind(null,e)),oi((function(){0===(6&Cs)&&Bi()})),n=null;else{switch(kt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Xs=-1,Js=0,0!==(6&Cs))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===As?Os:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Cs;Cs|=2;var o=pc();for(As===e&&Os===t||(qs=null,Bs=Ye()+500,hc(e,t));;)try{gc();break}catch(s){dc(e,s)}wa(),Es.current=o,Cs=i,null!==Rs?t=0:(As=null,Os=0,t=Ds)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ms,hc(e,0),uc(e,r),rc(e,Ye()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ms,hc(e,0),uc(e,r),rc(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Vs,qs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=zs+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Vs,qs),t);break}wc(e,Vs,qs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ss(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Vs,qs),r);break}wc(e,Vs,qs);break;default:throw Error(a(329))}}}return rc(e,Ye()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Us;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Vs,Vs=n,null!==t&&oc(t)),e}function oc(e){null===Vs?Vs=e:Vs.push.apply(Vs,e)}function uc(e,t){for(t&=~js,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Cs))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return rc(e,Ye()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ms,hc(e,0),uc(e,t),rc(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Vs,qs),rc(e,Ye()),null}function cc(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&(Bs=Ye()+500,Ui&&Bi())}}function lc(e){null!==Hs&&0===Hs.tag&&0===(6&Cs)&&xc();var t=Cs;Cs|=1;var n=Ts.transition,r=bt;try{if(Ts.transition=null,bt=1,e)return e()}finally{bt=r,Ts.transition=n,0===(6&(Cs=t))&&Bi()}}function fc(){Ns=Ps.current,Ei(Ps)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Rs)for(n=Rs.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:io(),Ei(Ai),Ei(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(uo);break;case 10:xa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(As=e,Rs=e=Pc(e.current,null),Os=Ns=t,Ds=0,Ms=null,js=Fs=Ls=0,Vs=Us=null,null!==Ia){for(t=0;t<Ia.length;t++)if(null!==(r=(n=Ia[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ia=null}return e}function dc(e,t){for(;;){var n=Rs;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,bo=!1,ko=0,Is.current=null,null===n||null===n.return){Ds=1,Ms=t,Rs=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Os,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ds&&(Ds=2),null===Us?Us=[o]:Us.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,La(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ks||!Ks.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,La(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}kc(n)}catch(k){t=k,Rs===n&&null!==n&&(Rs=n=n.return);continue}break}}function pc(){var e=Es.current;return Es.current=ou,null===e?ou:e}function vc(){0!==Ds&&3!==Ds&&2!==Ds||(Ds=4),null===As||0===(268435455&Ls)&&0===(268435455&Fs)||uc(As,Os)}function mc(e,t){var n=Cs;Cs|=2;var r=pc();for(As===e&&Os===t||(qs=null,hc(e,t));;)try{yc();break}catch(i){dc(e,i)}if(wa(),Cs=n,Es.current=r,null!==Rs)throw Error(a(261));return As=null,Os=0,Ds}function yc(){for(;null!==Rs;)bc(Rs)}function gc(){for(;null!==Rs&&!Qe();)bc(Rs)}function bc(e){var t=_s(e.alternate,e,Ns);e.memoizedProps=e.pendingProps,null===t?kc(e):Rs=t,Is.current=null}function kc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gu(n,t,Ns)))return void(Rs=n)}else{if(null!==(n=Hu(n,t)))return n.flags&=32767,void(Rs=n);if(null===e)return Ds=6,void(Rs=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rs=t);Rs=t=e}while(null!==t);0===Ds&&(Ds=5)}function wc(e,t,n){var r=bt,i=Ts.transition;try{Ts.transition=null,bt=1,function(e,t,n,r){do{xc()}while(null!==Hs);if(0!==(6&Cs))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===As&&(Rs=As=null,Os=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gs||(Gs=!0,Ac(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ts.transition,Ts.transition=null;var u=bt;bt=1;var s=Cs;Cs|=4,Is.current=null,function(e,t){if(ei=Zt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Zt=!1,Xu=t;null!==Xu;)if(e=(t=Xu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xu=e;else for(;null!==Xu;){t=Xu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xu=e;break}Xu=t.return}v=ts,ts=!1}(e,n),ms(n,e),pr(ti),Zt=!!ei,ti=ei=null,e.current=n,gs(n,e,i),$e(),Cs=s,bt=u,Ts.transition=o}else e.current=n;if(Gs&&(Gs=!1,Hs=e,Qs=i),0===(o=e.pendingLanes)&&(Ks=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Zs)throw Zs=!1,e=Ws,Ws=null,e;0!==(1&Qs)&&0!==e.tag&&xc(),0!==(1&(o=e.pendingLanes))?e===Ys?$s++:($s=0,Ys=e):$s=0,Bi()}(e,t,n,r)}finally{Ts.transition=i,bt=r}return null}function xc(){if(null!==Hs){var e=kt(Qs),t=Ts.transition,n=bt;try{if(Ts.transition=null,bt=16>e?16:e,null===Hs)var r=!1;else{if(e=Hs,Hs=null,Qs=0,0!==(6&Cs))throw Error(a(331));var i=Cs;for(Cs|=4,Xu=e.current;null!==Xu;){var o=Xu,u=o.child;if(0!==(16&Xu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Xu=l;null!==Xu;){var f=Xu;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var h=f.child;if(null!==h)h.return=f,Xu=h;else for(;null!==Xu;){var d=(f=Xu).sibling,p=f.return;if(as(f),f===l){Xu=null;break}if(null!==d){d.return=p,Xu=d;break}Xu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Xu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Xu=u;else e:for(;null!==Xu;){if(0!==(2048&(o=Xu).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Xu=g;break e}Xu=o.return}}var b=e.current;for(Xu=b;null!==Xu;){var k=(u=Xu).child;if(0!==(2064&u.subtreeFlags)&&null!==k)k.return=u,Xu=k;else e:for(u=b;null!==Xu;){if(0!==(2048&(s=Xu).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(x){Sc(s,s.return,x)}if(s===u){Xu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Xu=w;break e}Xu=s.return}}if(Cs=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Ts.transition=t}}return!1}function _c(e,t,n){e=Da(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ks||!Ks.has(r))){t=Da(t,e=vu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,As===e&&(Os&n)===n&&(4===Ds||3===Ds&&(130023424&Os)===Os&&500>Ye()-zs?hc(e,0):js|=n),rc(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Aa(e,t))&&(yt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ic(e,n)}function Ac(e,t){return Ge(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Rc(e,t,n,r)}function Nc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Nc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return Mc(n.children,i,o,t);case S:u=8,i|=8;break;case E:return(e=Oc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case A:return(e=Oc(13,n,t,i)).elementType=A,e.lanes=o,e;case R:return(e=Oc(19,n,t,i)).elementType=R,e.lanes=o,e;case P:return Lc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:u=10;break e;case T:u=9;break e;case C:u=11;break e;case O:u=14;break e;case N:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Oc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,o,u,s){return e=new Uc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Oc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oa(a),e}function zc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ni(n))return Mi(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=Vc(n,r,!0,e,0,a,0,u,s)).context=Bc(null),n=e.current,(a=Pa(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Zc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Pa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(nc(e,i,o,a),Ma(e,i,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}_s=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)ku=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ku=!1,function(e,t,n){switch(t.tag){case 3:Ru(t),da();break;case 5:ao(t);break;case 1:Ni(t.type)&&Li(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fu(e,t,n):(Ii(uo,1&uo.current),null!==(e=Zu(e,t,n))?e.sibling:null);Ii(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Eu(e,t,n)}return Zu(e,t,n)}(e,t,n);ku=0!==(131072&e.flags)}else ku=!1,ia&&0!==(1048576&t.flags)&&Ji(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qu(e,t),e=t.pendingProps;var i=Oi(t,Ci.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ni(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oa(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=Au(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Nc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===O)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=_u(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Ru(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Na(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ou(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Ou(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ya(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Zu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Iu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ii(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ai.current){t=Zu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Pa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),_a(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),_a(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ea(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),_u(e,t,r,i=ma(r.type,i),n);case 15:return Su(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),qu(e,t),t.tag=1,Ni(r)?(e=!0,Li(t)):e=!1,Sa(t,n),qa(t,r,i),Wa(t,r,i,n),Au(null,t,r,!0,e,n);case 19:return Bu(e,t,n);case 22:return Eu(e,t,n)}throw Error(a(156,t.tag))};var Hc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Wc(o);u.call(e)}}Zc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Wc(s);u.call(e)}}var s=Vc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),lc((function(){Zc(t,s,n,r)})),s}(n,t,e,i,r);return Wc(o)}$c.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Zc(e,t,null,null)},$c.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Zc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Ye()),0===(6&Cs)&&(Bs=Ye()+500,Bi()))}break;case 13:lc((function(){var t=Aa(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Gc(e,1)}},xt=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},_t=function(e){if(13===e.tag){var t=tc(e),n=Aa(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},St=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ae=lc;var tl={usingClientEntryPoint:!1,Events:[bi,ki,wi,Ie,Te,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(a(200));return zc(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(a(299));var n=!1,r="",i=Hc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Hc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},361:function(e,t,n){var r;r=function(e){return function(){"use strict";var t={931:function(e,t,n){n.r(t),n.d(t,{default:function(){return s}});var r=n(639),i=n.n(r),a=["styles"];function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=function(e){e.styles;var t=u(e,a);return i().createElement("svg",o({width:"44",height:"44",xmlns:"http://www.w3.org/2000/svg",stroke:"#fff"},t),i().createElement("g",{fill:"none",fillRule:"evenodd",strokeWidth:"2"},i().createElement("circle",{cx:"22",cy:"22",r:"1"},i().createElement("animate",{attributeName:"r",begin:"0s",dur:"1.8s",values:"1; 20",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.165, 0.84, 0.44, 1",repeatCount:"indefinite"}),i().createElement("animate",{attributeName:"stroke-opacity",begin:"0s",dur:"1.8s",values:"1; 0",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.3, 0.61, 0.355, 1",repeatCount:"indefinite"})),i().createElement("circle",{cx:"22",cy:"22",r:"1"},i().createElement("animate",{attributeName:"r",begin:"-0.9s",dur:"1.8s",values:"1; 20",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.165, 0.84, 0.44, 1",repeatCount:"indefinite"}),i().createElement("animate",{attributeName:"stroke-opacity",begin:"-0.9s",dur:"1.8s",values:"1; 0",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.3, 0.61, 0.355, 1",repeatCount:"indefinite"}))))}},120:function(e,t,n){function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||function(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=u(n(639)),l=s(n(267)),f=s(n(486)),h=s(n(552)),d=s(n(832)),p=s(n(913)),v=s(n(342)),m=n(402);t.default=function(){var e=r((0,c.useState)(0),2),t=e[0],n=e[1],i=r((0,c.useState)(!0),2),a=i[0],o=i[1],u=r((0,c.useState)(!0),2),s=u[0],g=u[1],b=r((0,c.useState)(0),2),k=b[0],w=b[1],x=(0,v.default)(),_=(0,c.useRef)(),S=(0,c.useContext)(l.default),E=S.width,I=S.height,T=S.loop,C=S.currentIndex,A=S.isPaused,R=S.keyboardNavigation,O=S.preventDefault,N=S.storyContainerStyles,P=void 0===N?{}:N,D=S.onAllStoriesEnd,M=S.onPrevious,L=S.onNext,F=S.preloadCount,j=(0,c.useContext)(f.default).stories;(0,m.usePreLoader)(j,t,F),(0,c.useEffect)((function(){"number"===typeof C&&(C>=0&&C<j.length?z((function(){return C})):console.error("Index out of bounds. Current index was set to value more than the length of stories array.",C))}),[C]),(0,c.useEffect)((function(){"boolean"===typeof A&&o(A)}),[A]),(0,c.useEffect)((function(){if("undefined"!==typeof window&&window.document&&"boolean"===typeof R&&R)return document.addEventListener("keydown",U),function(){document.removeEventListener("keydown",U)}}),[R]);var U=function(e){"ArrowLeft"===e.key?B():"ArrowRight"===e.key&&q({isSkippedByUser:!0})},V=function(e,t){o("pause"===e),g(!!t)},z=function(e){n(e),V("pause",!0)},B=function(){void 0!=M&&M(),z((function(e){return e>0?e-1:e}))},q=function(e){void 0!=L&&(null===e||void 0===e?void 0:e.isSkippedByUser)&&L(),x()&&(T?Z():W())},Z=function(){z((function(e){return e>=j.length-1&&D&&D(t,j),(e+1)%j.length}))},W=function(){z((function(e){return e<j.length-1?e+1:(D&&D(t,j),e)}))},K=function(e){e.preventDefault(),_.current=setTimeout((function(){V("pause")}),200)},G=function(e){return function(t){t.preventDefault(),_.current&&clearTimeout(_.current),a?V("play"):"next"===e?q({isSkippedByUser:!0}):B()}};return c.default.createElement("div",{style:Object.assign(Object.assign(Object.assign({},y.container),P),{width:E,height:I})},c.default.createElement(h.default.Provider,{value:{bufferAction:s,videoDuration:k,currentId:t,pause:a,next:q}},c.default.createElement(p.default,null)),c.default.createElement(d.default,{action:V,bufferAction:s,playState:a,story:j[t],getVideoDuration:function(e){w(1e3*e)}}),!O&&c.default.createElement("div",{style:y.overlay},c.default.createElement("div",{style:{width:"50%",zIndex:999},onTouchStart:K,onTouchEnd:G("previous"),onMouseDown:K,onMouseUp:G("previous")}),c.default.createElement("div",{style:{width:"50%",zIndex:999},onTouchStart:K,onTouchEnd:G("next"),onMouseDown:K,onMouseUp:G("next")})))};var y={container:{display:"flex",flexDirection:"column",background:"#111",position:"relative",WebkitUserSelect:"none"},overlay:{position:"absolute",height:"inherit",width:"inherit",display:"flex"}}},463:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(639)),a={main:{display:"flex",alignItems:"center"},img:{width:40,height:40,borderRadius:40,marginRight:10,filter:"drop-shadow(0 0px 2px rgba(0, 0, 0, 0.5))",border:"2px solid rgba(255, 255, 255, 0.8)"},text:{display:"flex",flexDirection:"column",filter:"drop-shadow(0 0px 3px rgba(0, 0, 0, 0.9))"},heading:{fontSize:"1rem",color:"rgba(255, 255, 255, 0.9)",margin:0,marginBottom:2},subheading:{fontSize:"0.6rem",color:"rgba(255, 255, 255, 0.8)",margin:0}};t.default=function(e){var t=e.profileImage,n=e.heading,r=e.subheading;return i.default.createElement("div",{style:a.main},t&&i.default.createElement("img",{style:a.img,src:t}),i.default.createElement("span",{style:a.text},i.default.createElement("p",{style:a.heading},n),i.default.createElement("p",{style:a.subheading},r)))}},911:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=a(n(639)),s=o(n(424)),c=o(n(267)),l=o(n(552));t.default=function(e){var t=(0,u.useContext)(c.default).progressStyles,n=(0,u.useContext)(l.default),r=n.bufferAction,i=n.pause,a=e.width,o=e.active;return u.default.createElement(s.default,{width:a,pause:i,bufferAction:r},u.default.createElement("div",{style:Object.assign(Object.assign(Object.assign({},f.inner),t),function(t){switch(t.active){case 2:return{width:"100%"};case 1:return{transform:"scaleX(".concat(e.count/100,")")};default:return{width:0}}}({active:o}))}))};var f={inner:{background:"#fff",height:"100%",maxWidth:"100%",borderRadius:2,transformOrigin:"center left",WebkitBackfaceVisibility:"hidden",MozBackfaceVisibility:"hidden",msBackfaceVisibility:"hidden",backfaceVisibility:"hidden",WebkitPerspective:1e3,MozPerspective:1e3,msPerspective:1e3,perspective:1e3}}},913:function(e,t,n){function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||function(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=u(n(639)),l=s(n(911)),f=s(n(552)),h=s(n(267)),d=s(n(486)),p=n(335);t.default=function(){var e=r((0,c.useState)(0),2),t=e[0],n=e[1],i=(0,c.useRef)(),a=(0,c.useContext)(f.default),o=a.currentId,u=a.next,s=a.videoDuration,m=a.pause,y=a.bufferAction,g=(0,c.useContext)(h.default),b=g.defaultInterval,k=g.onStoryEnd,w=g.onStoryStart,x=g.progressContainerStyles,_=(0,c.useContext)(d.default).stories;(0,c.useEffect)((function(){n(0)}),[o,_]),(0,c.useEffect)((function(){return m||(S.current=requestAnimationFrame(I),i.current=(0,p.timestamp)()),function(){cancelAnimationFrame(S.current)}}),[o,m]);var S=(0,c.useRef)(),E=t,I=function e(){0===E&&T(),void 0==i.current&&(i.current=(0,p.timestamp)());var t=(0,p.timestamp)(),r=t-i.current;i.current=t,n((function(e){var t=A();return E=e+100*r/t})),E<100?S.current=requestAnimationFrame(e):(C(),cancelAnimationFrame(S.current),u())},T=function(){w&&w(o,_[o])},C=function(){k&&k(o,_[o])},A=function(){return"video"===_[o].type?s:"number"===typeof _[o].duration?_[o].duration:b},R={opacity:m&&!y?0:1};return c.default.createElement("div",{style:Object.assign(Object.assign(Object.assign({},v.progressArr),x),R)},_.map((function(e,n){return c.default.createElement(l.default,{key:n,count:t,width:1/_.length,active:n===o?1:n<o?2:0})})))};var v={progressArr:{display:"flex",justifyContent:"center",maxWidth:"100%",flexWrap:"nowrap",position:"absolute",width:"98%",padding:5,paddingTop:7,alignSelf:"center",zIndex:1001,filter:"drop-shadow(0 1px 8px #222)",transition:"opacity 400ms ease-in-out"}}},424:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=a(n(639)),s=o(n(267)),c=function(e){var t=e.width;return{width:"".concat(100*t,"%")}},l={progress:{height:2,maxWidth:"100%",background:"#555",margin:2,borderRadius:2,WebkitBackfaceVisibility:"hidden",MozBackfaceVisibility:"hidden",msBackfaceVisibility:"hidden",backfaceVisibility:"hidden"}};t.default=function(e){var t=(0,u.useContext)(s.default).progressWrapperStyles;return u.default.createElement("div",{style:Object.assign(Object.assign(Object.assign({},l.progress),t),c(e))},e.children)}},771:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=a(n(639)),s=o(n(267));t.default=function(e){var t=e.seeMoreContent,n=e.customCollapsed,r=(0,u.useContext)(s.default).keyboardNavigation;(0,u.useEffect)((function(){if("undefined"!==typeof window&&window.document&&"boolean"===typeof r&&r)return document.addEventListener("keydown",i),function(){document.removeEventListener("keydown",i)}}),[r]);var i=function(t){"ArrowUp"===t.key?(t.preventDefault(),e.toggleMore(!0)):"ArrowDown"!==t.key&&"Escape"!==t.key||(t.preventDefault(),e.toggleMore(!1))};return e.showContent?u.default.createElement("div",{style:c.seeMoreExpanded},u.default.createElement(t,{close:function(){return e.toggleMore(!1)}})):n?u.default.createElement(n,{action:e.action,toggleMore:e.toggleMore}):u.default.createElement("div",{style:c.seeMore,onClick:function(t){t.preventDefault(),t.stopPropagation(),e.toggleMore(!0)}},u.default.createElement("span",{style:c.seeMoreIcon},"\u2303"),u.default.createElement("span",{style:c.seeMoreText},"See more"))};var c={seeMore:{height:"10vh",background:"linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.2))",display:"flex",flexDirection:"column",width:"100%",alignItems:"center",justifyContent:"flex-end",bottom:0},seeMoreExpanded:{position:"absolute",top:0,left:0,width:"100%",height:"100%",boxSizing:"border-box",zIndex:99999},seeMoreText:{color:"white",textAlign:"center",letterSpacing:"0.1em",marginBottom:"2.2vh",textTransform:"capitalize",opacity:"1",fontSize:"0.8em",transition:"opacity 300ms ease-in-out"},seeMoreIcon:{color:"white",textAlign:"center",letterSpacing:"0.2em",marginBottom:"0.4vh",opacity:"1",filter:"drop-shadow(0 0 5px black)",textTransform:"capitalize",transition:"opacity 300ms ease-in-out"},seeMoreClose:{position:"absolute",filter:"drop-shadow(0 3px 2px #ccc)",right:"0.5rem",top:"0.5rem",fontSize:"1.5rem",opacity:"0.7",padding:"1rem"}}},353:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(639)),a=r(n(931));t.default=function(){return i.default.createElement(a.default,null)}},832:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=a(n(639)),s=o(n(267)),c={story:{display:"flex",position:"relative",overflow:"hidden",alignItems:"center"},storyContent:{width:"auto",maxWidth:"100%",maxHeight:"100%",margin:"auto"}};t.default=function(e){var t=(0,u.useContext)(s.default),n=t.width,r=t.height,i=t.loader,a=t.header,o=t.storyStyles,l=t.storyInnerContainerStyles,f=void 0===l?{}:l,h=function(t,n){if("UPDATE_VIDEO_DURATION"===t)return e.getVideoDuration(n.duration),{ack:"OK"}};return u.default.createElement("div",{style:Object.assign(Object.assign(Object.assign({},c.story),f),{width:n,height:r})},function(){var t=e.story.content,s={width:n,height:r,loader:i,header:a,storyStyles:o};return u.default.createElement(t,{action:e.action,isPaused:e.playState,story:e.story,config:s,messageHandler:h})}())}},267:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.initialContext=void 0;var i=r(n(639));t.initialContext={defaultInterval:4e3,width:360,height:640};var a=i.default.createContext(t.initialContext);t.default=a},552:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(639));t.default=i.default.createContext({currentId:0,videoDuration:0,bufferAction:!1,pause:!1,next:function(){}})},486:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.initialContext=void 0;var i=r(n(639));t.initialContext={stories:[]};var a=i.default.createContext(t.initialContext);t.default=a},370:function(e,t,n){function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||function(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),u=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return u(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WithSeeMore=t.WithHeader=void 0;var l=s(n(639)),f=c(n(120)),h=c(n(267)),d=c(n(486)),p=n(371),v=n(942),m=c(n(803)),y=c(n(763)),g=function(e){var t=e.renderers?e.renderers.concat(v.renderers):v.renderers,n={width:e.width,height:e.height,loader:e.loader,header:e.header,storyContainerStyles:e.storyContainerStyles,storyInnerContainerStyles:e.storyInnerContainerStyles,storyStyles:e.storyStyles,progressContainerStyles:e.progressContainerStyles,progressWrapperStyles:e.progressWrapperStyles,progressStyles:e.progressStyles,loop:e.loop,defaultInterval:e.defaultInterval,isPaused:e.isPaused,currentIndex:e.currentIndex,onStoryStart:e.onStoryStart,onStoryEnd:e.onStoryEnd,onAllStoriesEnd:e.onAllStoriesEnd,onNext:e.onNext,onPrevious:e.onPrevious,keyboardNavigation:e.keyboardNavigation,preventDefault:e.preventDefault,preloadCount:e.preloadCount},r=i((0,l.useState)({stories:b(e.stories,t)}),2),a=r[0],o=r[1];return(0,l.useEffect)((function(){o({stories:b(e.stories,t)})}),[e.stories,e.renderers]),l.default.createElement(h.default.Provider,{value:n},l.default.createElement(d.default.Provider,{value:a},l.default.createElement(f.default,null)))},b=function(e,t){return e.map((function(e){var n={};"string"===typeof e?(n.url=e,n.type="image"):"object"===r(e)&&(n=Object.assign(n,e));var i=(0,p.getRenderer)(n,t);return n.originalContent=n.content,n.content=i,n}))};g.defaultProps={width:360,height:640,defaultInterval:4e3,preloadCount:1},t.WithHeader=m.default,t.WithSeeMore=y.default,t.default=g},350:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.tester=t.renderer=void 0;var o=a(n(639));t.renderer=function(e){o.useEffect((function(){e.action("play")}),[e.story]);var t=e.story.originalContent;return o.createElement(t,Object.assign({},e))},t.tester=function(e){return{condition:!!e.content,priority:2}},t.default={renderer:t.renderer,tester:t.tester}},248:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.tester=t.renderer=void 0;var o=a(n(639));t.renderer=function(e){var t=e.story,n=e.action;return o.useEffect((function(){n("play")}),[t]),o.createElement("div",{style:u.storyContent},o.createElement("p",{style:u.text},"This story could not be loaded."))};var u={storyContent:{width:"100%",maxHeight:"100%",margin:"auto"},text:{textAlign:"center",color:"white",width:"90%",margin:"auto"}};t.tester=function(){return{condition:!0,priority:1}},t.default={renderer:t.renderer,tester:t.tester}},209:function(e,t,n){function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||function(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.tester=t.renderer=void 0;var c=u(n(639)),l=s(n(353)),f=s(n(803)),h=s(n(763));t.renderer=function(e){var t=e.story,n=e.action,i=(e.isPaused,e.config),a=r(c.useState(!1),2),o=a[0],u=a[1],s=i.width,p=i.height,v=i.loader,m=i.storyStyles,y=Object.assign(Object.assign({},d.storyContent),m||{});return c.createElement(f.default,Object.assign({},{story:t,globalHeader:i.header}),c.createElement(h.default,Object.assign({},{story:t,action:n}),c.createElement("div",null,c.createElement("img",{style:y,src:t.url,onLoad:function(){u(!0),n("play")}}),!o&&c.createElement("div",{style:{width:s,height:p,position:"absolute",left:0,top:0,background:"rgba(0, 0, 0, 0.9)",zIndex:9,display:"flex",justifyContent:"center",alignItems:"center",color:"#ccc"}},v||c.createElement(l.default,null)))))};var d={story:{display:"flex",position:"relative",overflow:"hidden"},storyContent:{width:"auto",maxWidth:"100%",maxHeight:"100%",margin:"auto"}};t.tester=function(e){return{condition:!e.content&&(!e.type||"image"===e.type),priority:2}},t.default={renderer:t.renderer,tester:t.tester}},544:function(e,t,n){function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||function(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.tester=t.renderer=void 0;var c=u(n(639)),l=s(n(353)),f=s(n(803)),h=s(n(763));t.renderer=function(e){var t=e.story,n=e.action,i=e.isPaused,a=e.config,o=e.messageHandler,u=r(c.useState(!1),2),s=u[0],p=u[1],v=r(c.useState(!1),2),m=v[0],y=v[1],g=a.width,b=a.height,k=a.loader,w=a.storyStyles,x=Object.assign(Object.assign({},d.storyContent),w||{}),_=c.useRef(null);return c.useEffect((function(){_.current&&(i?_.current.pause():_.current.play().catch((function(){})))}),[i]),c.createElement(f.default,Object.assign({},{story:t,globalHeader:a.header}),c.createElement(h.default,Object.assign({},{story:t,action:n}),c.createElement("div",{style:d.videoContainer},c.createElement("video",{ref:_,style:x,src:t.url,controls:!1,onLoadedData:function(){o("UPDATE_VIDEO_DURATION",{duration:_.current.duration}),p(!0),_.current.play().then((function(){n("play")})).catch((function(){y(!0),_.current.play().finally((function(){n("play")}))}))},playsInline:!0,onWaiting:function(){n("pause",!0)},onPlaying:function(){n("play",!0)},muted:m,autoPlay:!0,"webkit-playsinline":"true"}),!s&&c.createElement("div",{style:{width:g,height:b,position:"absolute",left:0,top:0,background:"rgba(0, 0, 0, 0.9)",zIndex:9,display:"flex",justifyContent:"center",alignItems:"center",color:"#ccc"}},k||c.createElement(l.default,null)))))};var d={storyContent:{width:"auto",maxWidth:"100%",maxHeight:"100%",margin:"auto"},videoContainer:{display:"flex",alignItems:"center",justifyContent:"center"}};t.tester=function(e){return{condition:"video"===e.type,priority:2}},t.default={renderer:t.renderer,tester:t.tester}},942:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.renderers=void 0;var i=r(n(209)),a=r(n(544)),o=r(n(248)),u=r(n(350));t.renderers=[i.default,a.default,u.default,o.default]},803:function(e,t,n){function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(639)),o=i(n(463));t.default=function(e){var t=e.story,n=e.globalHeader,i=e.children;return a.default.createElement(a.default.Fragment,null,i,t.header&&a.default.createElement("div",{style:{position:"absolute",left:12,top:20,zIndex:19}},"object"===r(t)?n?n(t.header):a.default.createElement(o.default,{heading:t.header.heading,subheading:t.header.subheading,profileImage:t.header.profileImage}):null))}},763:function(e,t,n){function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||function(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=u(n(639)),l=s(n(771));t.default=function(e){var t=e.story,n=e.action,i=e.customCollapsed,a=e.children,o=r((0,c.useState)(!1),2),u=o[0],s=o[1],f=l.default;return c.default.createElement(c.default.Fragment,null,a,t.seeMore&&c.default.createElement("div",{style:{position:"absolute",margin:"auto",bottom:u?"unset":0,zIndex:9999,width:"100%",height:u?"100%":"auto"}},c.default.createElement(f,{action:n,toggleMore:function(e){n(e?"pause":"play"),s(e)},showContent:u,seeMoreContent:t.seeMore,customCollapsed:i||t.seeMoreCollapsed})))}},371:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getRenderer=void 0,t.getRenderer=function(e,t){var n=t.map((function(t){return Object.assign(Object.assign({},t),{testerResult:t.tester(e)})})).filter((function(e){return e.testerResult.condition}));return n.sort((function(e,t){return t.testerResult.priority-e.testerResult.priority})),n[0].renderer}},335:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.timestamp=void 0,t.timestamp=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},342:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(639);t.default=function(){var e=(0,r.useRef)(!1);return(0,r.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),(0,r.useCallback)((function(){return e.current}),[])}},402:function(e,t,n){function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},u=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(R){l=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,o=Object.create(i.prototype),u=new T(r||[]);return a(o,"_invoke",{value:_(e,n,u)}),o}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}e.wrap=f;var d={};function p(){}function v(){}function m(){}var y={};l(y,u,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(C([])));b&&b!==t&&n.call(b,u)&&(y=b);var k=m.prototype=p.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function i(a,o,u,s){var c=h(e[a],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==r(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,u,s)}),(function(e){i("throw",e,u,s)})):t.resolve(f).then((function(e){l.value=e,u(l)}),(function(e){return i("throw",e,u,s)}))}s(c.arg)}var o;a(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function _(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return{value:void 0,done:!0}}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=S(o,n);if(u){if(u===d)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=h(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=h(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function C(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return v.prototype=m,a(k,"constructor",{value:m,configurable:!0}),a(m,"constructor",{value:v,configurable:!0}),v.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},w(x.prototype),l(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new x(f(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(k),l(k,c,"Generator"),l(k,u,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=C,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}var a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.usePreLoader=void 0;var o=n(639),u=new Set,s=function(e){return!!e.url&&!u.has(e.url)&&(void 0!==e.preloadResource?e.preloadResource:"video"!==e.type)};t.usePreLoader=function(e,t,n){(0,o.useEffect)((function(){var r=t+1,o=t+n+1,c=e.slice(r,o).filter(s);!function(e){e.forEach((function(e){u.add(e.url)}))}(c),function(e){a(void 0,void 0,void 0,i().mark((function t(){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.map((function(e){return new Promise((function(t,n){if(e.url){if("video"===e.type){var r=document.createElement("video");return r.src=e.url,r.onloadeddata=t,void(r.onerror=n)}var i=new Image;i.src=e.url,i.onload=t,i.onerror=n}}))})),t.next=3,Promise.all(n);case 3:case"end":return t.stop()}}),t)})))}(c)}),[t,n,e])}},639:function(t){t.exports=e}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var a=n[e]={exports:{}};return t[e].call(a.exports,a,a.exports,r),a.exports}return r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r(370)}()},e.exports=r(n(791))},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var k=b.prototype=new g;k.constructor=b,v(k,y.prototype),k.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:_.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=A(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function R(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N={current:null},P={transition:null},D={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:P,ReactCurrentOwner:_};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return N.current.useCallback(e,t)},t.useContext=function(e){return N.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return N.current.useDeferredValue(e)},t.useEffect=function(e,t){return N.current.useEffect(e,t)},t.useId=function(){return N.current.useId()},t.useImperativeHandle=function(e,t,n){return N.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.current.useMemo(e,t)},t.useReducer=function(e,t,n){return N.current.useReducer(e,t,n)},t.useRef=function(e){return N.current.useRef(e)},t.useState=function(e){return N.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,k(e),!v)if(null!==r(c))v=!0,P(x);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(I),I=-1),p=!0;var a=d;try{for(k(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),k(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,E=null,I=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function R(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?_():(S=!1,E=null)}}else S=!1}if("function"===typeof b)_=function(){b(R)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,N=O.port2;O.port1.onmessage=R,_=function(){N.postMessage(null)}}else _=function(){y(R,0)};function P(e){E=e,S||(S=!0,_())}function D(e,n){I=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,P(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(I),I=-1):m=!0,D(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,P(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},942:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(142);function i(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},439:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(878);var i=n(181),a=n(267);function o(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||(0,i.Z)(e,t)||(0,a.Z)()}},433:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);var i=n(199),a=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},142:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(2);function i(e){var t=function(e,t){if("object"!==(0,r.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==(0,r.Z)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,r.Z)(t)?t:String(t)}},2:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},462:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return xi},SDK_VERSION:function(){return La},_DEFAULT_ENTRY_NAME:function(){return _a},_addComponent:function(){return Ta},_addOrOverwriteComponent:function(){return Ca},_apps:function(){return Ea},_clearComponents:function(){return Na},_components:function(){return Ia},_getProvider:function(){return Ra},_registerComponent:function(){return Aa},_removeServiceInstance:function(){return Oa},deleteApp:function(){return Va},getApp:function(){return ja},getApps:function(){return Ua},initializeApp:function(){return Fa},onLog:function(){return qa},registerVersion:function(){return Ba},setLogLevel:function(){return Za}});var t=n(791),r=n(250),i=n(439),a=n(462),o=n(366);function u(e,t){if(null==e)return{};var n,r,i=(0,o.Z)(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function s(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=s(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var c=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=s(e))&&(r&&(r+=" "),r+=t);return r},l=n(110),f=n.n(l),h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d="object"===("undefined"===typeof window?"undefined":h(window))&&"object"===("undefined"===typeof document?"undefined":h(document))&&9===document.nodeType;function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function v(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function y(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function b(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,g(e,t)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var w={}.constructor;function x(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(x);if(e.constructor!==w)return e;var t={};for(var n in e)t[n]=x(e[n]);return t}function _(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=x(t),a=r.plugins.onCreateRule(e,i,n);return a||(e[0],null)}var S=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},E=function(e){if(!Array.isArray(e))return e;var t="";if(Array.isArray(e[0]))for(var n=0;n<e.length&&"!important"!==e[n];n++)t&&(t+=", "),t+=S(e[n]," ");else t=S(e,", ");return"!important"===e[e.length-1]&&(t+=" !important"),t};function I(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function T(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function C(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,a=void 0===i?0:i,o=t.fallbacks;!1===n.format&&(a=-1/0);var u=I(n),s=u.linebreak,c=u.space;if(e&&a++,o)if(Array.isArray(o))for(var l=0;l<o.length;l++){var f=o[l];for(var h in f){var d=f[h];null!=d&&(r&&(r+=s),r+=T(h+":"+c+E(d)+";",a))}}else for(var p in o){var v=o[p];null!=v&&(r&&(r+=s),r+=T(p+":"+c+E(v)+";",a))}for(var m in t){var y=t[m];null!=y&&"fallbacks"!==m&&(r&&(r+=s),r+=T(m+":"+c+E(y)+";",a))}return(r||n.allowEmpty)&&e?(r&&(r=""+s+r+s),T(""+e+c+"{"+r,--a)+T("}",a)):r}var A=/([[\].#*$><+~=|^:(),"'`\s])/g,R="undefined"!==typeof CSS&&CSS.escape,O=function(e){return R?R(e):e.replace(A,"\\$1")},N=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var a=null==i||!1===i,o=e in this.style;if(a&&!o&&!r)return this;var u=a&&o;if(u?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return u?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var s=this.options.sheet;return s&&s.attached,this},e}(),P=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var a=r.selector,o=r.scoped,u=r.sheet,s=r.generateId;return a?i.selectorText=a:!1!==o&&(i.id=s(k(k(i)),u),i.selectorText="."+O(i.id)),i}b(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=E(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?(0,a.Z)({},e,{allowEmpty:!0}):e;return C(this.selectorText,this.style,n)},y(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(N),D={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new P(e,t,n)}},M={indent:1,children:!0},L=/@([\w-]+)/,F=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var r=e.match(L);for(var i in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new ue((0,a.Z)({},n,{parent:this})),t)this.rules.add(i,t[i]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=M);var t=I(e).linebreak;if(null==e.indent&&(e.indent=M.indent),null==e.children&&(e.children=M.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),j=/@media|@supports\s+/,U={onCreateRule:function(e,t,n){return j.test(e)?new F(e,t,n):null}},V={indent:1,children:!0},z=/@keyframes\s+([\w-]+)/,B=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var r=e.match(z);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var i=n.scoped,o=n.sheet,u=n.generateId;for(var s in this.id=!1===i?this.name:O(u(this,o)),this.rules=new ue((0,a.Z)({},n,{parent:this})),t)this.rules.add(s,t[s],(0,a.Z)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=V);var t=I(e).linebreak;if(null==e.indent&&(e.indent=V.indent),null==e.children&&(e.children=V.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),q=/@keyframes\s+/,Z=/\$([\w-]+)/g,W=function(e,t){return"string"===typeof e?e.replace(Z,(function(e,n){return n in t?t[n]:e})):e},K=function(e,t,n){var r=e[t],i=W(r,n);i!==r&&(e[t]=i)},G={onCreateRule:function(e,t,n){return"string"===typeof e&&q.test(e)?new B(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&K(e,"animation-name",n.keyframes),"animation"in e&&K(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return W(e,r.keyframes);default:return e}}},H=function(e){function t(){return e.apply(this,arguments)||this}return b(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?(0,a.Z)({},e,{allowEmpty:!0}):e;return C(this.key,this.style,n)},t}(N),Q={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new H(e,t,n):null}},$=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=I(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=C(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return C(this.at,this.style,e)},e}(),Y=/@font-face/,X={onCreateRule:function(e,t,n){return Y.test(e)?new $(e,t,n):null}},J=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return C(this.key,this.style,e)},e}(),ee={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new J(e,t,n):null}},te=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),ne={"@charset":!0,"@import":!0,"@namespace":!0},re={onCreateRule:function(e,t,n){return e in ne?new te(e,t,n):null}},ie=[D,U,G,Q,X,ee,re],ae={process:!0},oe={force:!0,process:!0},ue=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var r=this.options,i=r.parent,o=r.sheet,u=r.jss,s=r.Renderer,c=r.generateId,l=r.scoped,f=(0,a.Z)({classes:this.classes,parent:i,sheet:o,jss:u,Renderer:s,generateId:c,scoped:l,name:e,keyframes:this.keyframes,selector:void 0},n),h=e;e in this.raw&&(h=e+"-d"+this.counter++),this.raw[h]=t,h in this.classes&&(f.selector="."+O(this.classes[h]));var d=_(h,t,f);if(!d)return null;this.register(d);var p=void 0===f.index?this.index.length:f.index;return this.index.splice(p,0,d),d},t.replace=function(e,t,n){var r=this.get(e),i=this.index.indexOf(r);r&&this.remove(r);var o=n;return-1!==i&&(o=(0,a.Z)({},n,{index:i})),this.add(e,t,o)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof P?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof B&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof P?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof B&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=ae);var i=this.options,a=i.jss.plugins,o=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var u=t.style;if(a.onUpdate(n,t,o,r),r.process&&u&&u!==t.style){for(var s in a.onProcessStyle(t.style,t,o),t.style){var c=t.style[s];c!==u[s]&&t.prop(s,c,oe)}for(var l in u){var f=t.style[l],h=u[l];null==f&&f!==h&&t.prop(l,null,oe)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=I(e).linebreak,a=0;a<this.index.length;a++){var o=this.index[a].toString(e);(o||r)&&(t&&(t+=i),t+=o)}return t},e}(),se=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=(0,a.Z)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new ue(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?r.renderable&&this.renderer.replaceRule(r.renderable,i):this.renderer.deleteRule(r)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),ce=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),le=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=(0,o.Z)(t,["attached"]),i=I(r).linebreak,a="",u=0;u<this.registry.length;u++){var s=this.registry[u];null!=n&&s.attached!==n||(a&&(a+=i),a+=s.toString(r))}return a},y(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),fe=new le,he="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),de="2f1acc6c3a606b082e5eef5e54414ffb";null==he[de]&&(he[de]=0);var pe=he[de]++,ve=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",a="";return r&&(r.options.classNamePrefix&&(a=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(a||"c")+pe+i+t:a+n.key+"-"+pe+(i?"-"+i:"")+"-"+t}},me=function(e){var t;return function(){return t||(t=e()),t}},ye=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},ge=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=E(n)),e.attributeStyleMap)e.attributeStyleMap.set(t,r);else{var i=r?r.indexOf("!important"):-1,a=i>-1?r.substr(0,i-1):r;e.style.setProperty(t,a,i>-1?"important":"")}}catch(o){return!1}return!0},be=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},ke=function(e,t){return e.selectorText=t,e.selectorText===t},we=me((function(){return document.querySelector("head")}));function xe(e){var t=fe.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=we(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var _e=me((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),Se=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(r){return!1}return e.cssRules[n]},Ee=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},Ie=function(){function e(e){this.getPropertyValue=ye,this.setProperty=ge,this.removeProperty=be,this.setSelector=ke,this.hasInsertedRules=!1,this.cssRules=[],e&&fe.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var a=_e();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=xe(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,a=i.parentNode;a&&a.insertBefore(e,i.nextSibling)}else we().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var a=Ee(n,t);if(!1===(i=Se(n,r.toString({children:!1}),a)))return!1;this.refCssRule(e,a,i)}return this.insertRules(r.rules,i),i}var o=e.toString();if(!o)return!1;var u=Ee(n,t),s=Se(n,o,u);return!1!==s&&(this.hasInsertedRules=!0,this.refCssRule(e,u,s),s)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof se&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),Te=0,Ce=function(){function e(e){this.id=Te++,this.version="10.9.2",this.plugins=new ce,this.options={id:{minify:!1},createGenerateId:ve,Renderer:d?Ie:null,plugins:[]},this.generateId=ve({minify:!1});for(var t=0;t<ie.length;t++)this.plugins.use(ie[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=(0,a.Z)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===fe.index?0:fe.index+1);var r=new se(e,(0,a.Z)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},t.removeStyleSheet=function(e){return e.detach(),fe.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var r=(0,a.Z)({},n,{name:e,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var i=_(e,t,r);return i&&this.plugins.onProcessRule(i),i},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),Ae=function(e){return new Ce(e)},Re="object"===typeof CSS&&null!=CSS&&"number"in CSS;function Oe(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var a=Oe(r);a&&(t||(t={}),t[n]=a)}}return t}Ae();function Ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var r=(0,a.Z)({},t);return Object.keys(n).forEach((function(e){n[e]&&(r[e]="".concat(t[e]," ").concat(n[e]))})),r}var Pe={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},De=Pe;var Me=t.createContext(null);function Le(){return t.useContext(Me)}var Fe="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__",je=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var Ue=Date.now(),Ve="fnValues"+Ue,ze="fnStyle"+ ++Ue,Be=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=_(e,{},n);return r[ze]=t,r},onProcessStyle:function(e,t){if(Ve in t||ze in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[Ve]=n,e},onUpdate:function(e,t,n,r){var i=t,a=i[ze];a&&(i.style=a(e)||{});var o=i[Ve];if(o)for(var u in o)i.prop(u,o[u](e),r)}}},qe="@global",Ze="@global ",We=function(){function e(e,t,n){for(var r in this.type="global",this.at=qe,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new ue((0,a.Z)({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),Ke=function(){function e(e,t,n){this.type="global",this.at=qe,this.isProcessed=!1,this.key=e,this.options=n;var r=e.substr(Ze.length);this.rule=n.jss.createRule(r,t,(0,a.Z)({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),Ge=/\s*,\s*/g;function He(e,t){for(var n=e.split(Ge),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var Qe=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===qe)return new We(e,t,n);if("@"===e[0]&&e.substr(0,Ze.length)===Ze)return new Ke(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,r=e.style,i=r?r[qe]:null;if(i){for(var o in i)t.addRule(o,i[o],(0,a.Z)({},n,{selector:He(o,e.selector)}));delete r[qe]}}(e,t),function(e,t){var n=e.options,r=e.style;for(var i in r)if("@"===i[0]&&i.substr(0,qe.length)===qe){var o=He(i.substr(qe.length),e.selector);t.addRule(o,r[i],(0,a.Z)({},n,{selector:o})),delete r[i]}}(e,t))}}},$e=/\s*,\s*/g,Ye=/&/g,Xe=/\$([\w-]+)/g;var Je=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?i.selector:r}}function t(e,t){for(var n=t.split($e),r=e.split($e),i="",a=0;a<n.length;a++)for(var o=n[a],u=0;u<r.length;u++){var s=r[u];i&&(i+=", "),i+=-1!==s.indexOf("&")?s.replace(Ye,o):o+" "+s}return i}function n(e,t,n){if(n)return(0,a.Z)({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var i=(0,a.Z)({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete i.name,i}return{onProcessStyle:function(r,i,o){if("style"!==i.type)return r;var u,s,c=i,l=c.options.parent;for(var f in r){var h=-1!==f.indexOf("&"),d="@"===f[0];if(h||d){if(u=n(c,l,u),h){var p=t(f,c.selector);s||(s=e(l,o)),p=p.replace(Xe,s);var v=c.key+"-"+f;"replaceRule"in l?l.replaceRule(v,r[f],(0,a.Z)({},u,{selector:p})):l.addRule(v,r[f],(0,a.Z)({},u,{selector:p}))}else d&&l.addRule(f,{},u).addRule(c.key,r[f],{selector:c.selector});delete r[f]}}return r}}},et=/[A-Z]/g,tt=/^ms-/,nt={};function rt(e){return"-"+e.toLowerCase()}var it=function(e){if(nt.hasOwnProperty(e))return nt[e];var t=e.replace(et,rt);return nt[e]=tt.test(t)?"-"+t:t};function at(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:it(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(at):t.fallbacks=at(e.fallbacks)),t}var ot=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=at(e[t]);return e}return at(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=it(t);return t===r?e:(n.prop(r,e),null)}}},ut=Re&&CSS?CSS.px:"px",st=Re&&CSS?CSS.ms:"ms",ct=Re&&CSS?CSS.percent:"%";function lt(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var ft=lt({"animation-delay":st,"animation-duration":st,"background-position":ut,"background-position-x":ut,"background-position-y":ut,"background-size":ut,border:ut,"border-bottom":ut,"border-bottom-left-radius":ut,"border-bottom-right-radius":ut,"border-bottom-width":ut,"border-left":ut,"border-left-width":ut,"border-radius":ut,"border-right":ut,"border-right-width":ut,"border-top":ut,"border-top-left-radius":ut,"border-top-right-radius":ut,"border-top-width":ut,"border-width":ut,"border-block":ut,"border-block-end":ut,"border-block-end-width":ut,"border-block-start":ut,"border-block-start-width":ut,"border-block-width":ut,"border-inline":ut,"border-inline-end":ut,"border-inline-end-width":ut,"border-inline-start":ut,"border-inline-start-width":ut,"border-inline-width":ut,"border-start-start-radius":ut,"border-start-end-radius":ut,"border-end-start-radius":ut,"border-end-end-radius":ut,margin:ut,"margin-bottom":ut,"margin-left":ut,"margin-right":ut,"margin-top":ut,"margin-block":ut,"margin-block-end":ut,"margin-block-start":ut,"margin-inline":ut,"margin-inline-end":ut,"margin-inline-start":ut,padding:ut,"padding-bottom":ut,"padding-left":ut,"padding-right":ut,"padding-top":ut,"padding-block":ut,"padding-block-end":ut,"padding-block-start":ut,"padding-inline":ut,"padding-inline-end":ut,"padding-inline-start":ut,"mask-position-x":ut,"mask-position-y":ut,"mask-size":ut,height:ut,width:ut,"min-height":ut,"max-height":ut,"min-width":ut,"max-width":ut,bottom:ut,left:ut,top:ut,right:ut,inset:ut,"inset-block":ut,"inset-block-end":ut,"inset-block-start":ut,"inset-inline":ut,"inset-inline-end":ut,"inset-inline-start":ut,"box-shadow":ut,"text-shadow":ut,"column-gap":ut,"column-rule":ut,"column-rule-width":ut,"column-width":ut,"font-size":ut,"font-size-delta":ut,"letter-spacing":ut,"text-decoration-thickness":ut,"text-indent":ut,"text-stroke":ut,"text-stroke-width":ut,"word-spacing":ut,motion:ut,"motion-offset":ut,outline:ut,"outline-offset":ut,"outline-width":ut,perspective:ut,"perspective-origin-x":ct,"perspective-origin-y":ct,"transform-origin":ct,"transform-origin-x":ct,"transform-origin-y":ct,"transform-origin-z":ct,"transition-delay":st,"transition-duration":st,"vertical-align":ut,"flex-basis":ut,"shape-margin":ut,size:ut,gap:ut,grid:ut,"grid-gap":ut,"row-gap":ut,"grid-row-gap":ut,"grid-column-gap":ut,"grid-template-rows":ut,"grid-template-columns":ut,"grid-auto-rows":ut,"grid-auto-columns":ut,"box-shadow-x":ut,"box-shadow-y":ut,"box-shadow-blur":ut,"box-shadow-spread":ut,"font-line-height":ut,"text-shadow-x":ut,"text-shadow-y":ut,"text-shadow-blur":ut});function ht(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=ht(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=ht(i,t[i],n);else for(var a in t)t[a]=ht(e+"-"+a,t[a],n);else if("number"===typeof t&&!1===isNaN(t)){var o=n[e]||ft[e];return!o||0===t&&o===ut?t.toString():"function"===typeof o?o(t).toString():""+t+o}return t}var dt=function(e){void 0===e&&(e={});var t=lt(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=ht(r,e[r],t);return e},onChangeValue:function(e,n){return ht(n,e,t)}}};function pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vt(e,t){if(e){if("string"===typeof e)return pt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pt(e,t):void 0}}function mt(e){return function(e){if(Array.isArray(e))return pt(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||vt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var yt="",gt="",bt="",kt="",wt=d&&"ontouchstart"in document.documentElement;if(d){var xt={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},_t=document.createElement("p").style;for(var St in xt)if(St+"Transform"in _t){yt=St,gt=xt[St];break}"Webkit"===yt&&"msHyphens"in _t&&(yt="ms",gt=xt.ms,kt="edge"),"Webkit"===yt&&"-apple-trailing-word"in _t&&(bt="apple")}var Et=yt,It=gt,Tt=bt,Ct=kt,At=wt;var Rt={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===Et?"-webkit-"+e:It+e)}},Ot={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===Et?It+"print-"+e:e)}},Nt=/[-\s]+(.)?/g;function Pt(e,t){return t?t.toUpperCase():""}function Dt(e){return e.replace(Nt,Pt)}function Mt(e){return Dt("-"+e)}var Lt,Ft={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===Et){var n="mask-image";if(Dt(n)in t)return e;if(Et+Mt(n)in t)return It+e}return e}},jt={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==Tt||At?e:It+e)}},Ut={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:It+e)}},Vt={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:It+e)}},zt={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===Et||"ms"===Et&&"edge"!==Ct?It+e:e)}},Bt={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===Et||"ms"===Et||"apple"===Tt?It+e:e)}},qt={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===Et?"WebkitColumn"+Mt(e)in t&&It+"column-"+e:"Moz"===Et&&("page"+Mt(e)in t&&"page-"+e))}},Zt={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===Et)return e;var n=e.replace("-inline","");return Et+Mt(n)in t&&It+n}},Wt={supportedProperty:function(e,t){return Dt(e)in t&&e}},Kt={supportedProperty:function(e,t){var n=Mt(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:Et+n in t?It+e:"Webkit"!==Et&&"Webkit"+n in t&&"-webkit-"+e}},Gt={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===Et?""+It+e:e)}},Ht={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===Et?It+"scroll-chaining":e)}},Qt={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},$t={supportedProperty:function(e,t){var n=Qt[e];return!!n&&(Et+Mt(n)in t&&It+n)}},Yt={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Xt=Object.keys(Yt),Jt=function(e){return It+e},en={supportedProperty:function(e,t,n){var r=n.multiple;if(Xt.indexOf(e)>-1){var i=Yt[e];if(!Array.isArray(i))return Et+Mt(i)in t&&It+i;if(!r)return!1;for(var a=0;a<i.length;a++)if(!(Et+Mt(i[0])in t))return!1;return i.map(Jt)}return!1}},tn=[Rt,Ot,Ft,jt,Ut,Vt,zt,Bt,qt,Zt,Wt,Kt,Gt,Ht,$t,en],nn=tn.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),rn=tn.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,mt(t.noPrefill)),e}),[]),an={};if(d){Lt=document.createElement("p");var on=window.getComputedStyle(document.documentElement,"");for(var un in on)isNaN(un)||(an[on[un]]=on[un]);rn.forEach((function(e){return delete an[e]}))}function sn(e,t){if(void 0===t&&(t={}),!Lt)return e;if(null!=an[e])return an[e];"transition"!==e&&"transform"!==e||(t[e]=e in Lt.style);for(var n=0;n<nn.length&&(an[e]=nn[n](e,Lt.style,t),!an[e]);n++);try{Lt.style[e]=""}catch(r){return!1}return an[e]}var cn,ln={},fn={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},hn=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function dn(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?sn(t):", "+sn(n);return r||(t||n)}function pn(e,t){var n=t;if(!cn||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=ln[r])return ln[r];try{cn.style[e]=n}catch(i){return ln[r]=!1,!1}if(fn[e])n=n.replace(hn,dn);else if(""===cn.style[e]&&("-ms-flex"===(n=It+n)&&(cn.style[e]="-ms-flexbox"),cn.style[e]=n,""===cn.style[e]))return ln[r]=!1,!1;return cn.style[e]="",ln[r]=n,ln[r]}d&&(cn=document.createElement("p"));var vn=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,a=sn(n);a&&a!==n&&(i=!0);var o=!1,u=pn(a,E(r));u&&u!==r&&(o=!0),(i||o)&&(i&&delete t[n],t[a||n]=u||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===Et?e:"@"+It+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return pn(t,E(e))||e}}};var mn=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),a=0;a<i.length;a++)r[i[a]]=t[i[a]];return r}}};var yn=Ae({plugins:[Be(),Qe(),Je(),ot(),dt(),"undefined"===typeof window?null:vn(),mn()]}),gn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,a=e.seed,o=void 0===a?"":a,u=""===o?"":"".concat(o,"-"),s=0,c=function(){return s+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==je.indexOf(e.key))return"Mui-".concat(e.key);var a="".concat(u).concat(r,"-").concat(e.key);return t.options.theme[Fe]&&""===o?"".concat(a,"-").concat(c()):a}return"".concat(u).concat(i).concat(c())}}(),bn={disableGeneration:!1,generateClassName:gn,jss:yn,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},kn=t.createContext(bn);var wn=-1e9;function xn(){return wn+=1}function _n(e){return e&&"object"===p(e)&&e.constructor===Object}function Sn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?(0,a.Z)({},e):e;return _n(e)&&_n(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(_n(t[i])&&i in e?r[i]=Sn(e[i],t[i],n):r[i]=t[i])})),r}function En(e){var t="function"===typeof e;return{create:function(n,r){var i;try{i=t?e(n):e}catch(s){throw s}if(!r||!n.overrides||!n.overrides[r])return i;var o=n.overrides[r],u=(0,a.Z)({},i);return Object.keys(o).forEach((function(e){u[e]=Sn(u[e],o[e])})),u},options:{}}}var In={};function Tn(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=Ne({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}function Cn(e,t){var n=e.state,r=e.theme,i=e.stylesOptions,o=e.stylesCreator,u=e.name;if(!i.disableGeneration){var s=De.get(i.sheetsManager,o,r);s||(s={refs:0,staticSheet:null,dynamicStyles:null},De.set(i.sheetsManager,o,r,s));var c=(0,a.Z)({},o.options,i,{theme:r,flip:"boolean"===typeof i.flip?i.flip:"rtl"===r.direction});c.generateId=c.serverGenerateClassName||c.generateClassName;var l=i.sheetsRegistry;if(0===s.refs){var f;i.sheetsCache&&(f=De.get(i.sheetsCache,o,r));var h=o.create(r,u);f||((f=i.jss.createStyleSheet(h,(0,a.Z)({link:!1},c))).attach(),i.sheetsCache&&De.set(i.sheetsCache,o,r,f)),l&&l.add(f),s.staticSheet=f,s.dynamicStyles=Oe(h)}if(s.dynamicStyles){var d=i.jss.createStyleSheet(s.dynamicStyles,(0,a.Z)({link:!0},c));d.update(t),d.attach(),n.dynamicSheet=d,n.classes=Ne({baseClasses:s.staticSheet.classes,newClasses:d.classes}),l&&l.add(d)}else n.classes=s.staticSheet.classes;s.refs+=1}}function An(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}function Rn(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var a=De.get(r.sheetsManager,i,n);a.refs-=1;var o=r.sheetsRegistry;0===a.refs&&(De.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(a.staticSheet),o&&o.remove(a.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),o&&o.remove(t.dynamicSheet))}}function On(e,n){var r,i=t.useRef([]),a=t.useMemo((function(){return{}}),n);i.current!==a&&(i.current=a,r=e()),t.useEffect((function(){return function(){r&&r()}}),[a])}function Nn(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.name,i=n.classNamePrefix,o=n.Component,s=n.defaultTheme,c=void 0===s?In:s,l=u(n,["name","classNamePrefix","Component","defaultTheme"]),f=En(e),h=r||i||"makeStyles";f.options={index:xn(),name:r,meta:h,classNamePrefix:h};var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Le()||c,i=(0,a.Z)({},t.useContext(kn),l),u=t.useRef(),s=t.useRef();On((function(){var t={name:r,state:{},stylesCreator:f,stylesOptions:i,theme:n};return Cn(t,e),s.current=!1,u.current=t,function(){Rn(t)}}),[n,f]),t.useEffect((function(){s.current&&An(u.current,e),s.current=!0}));var h=Tn(u.current,e.classes,o);return h};return d}function Pn(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,a=t.props[n];for(i in a)void 0===r[i]&&(r[i]=a[i]);return r}var Dn=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(r){var i=n.defaultTheme,o=n.withTheme,s=void 0!==o&&o,c=n.name,l=u(n,["defaultTheme","withTheme","name"]);var h=c,d=Nn(e,(0,a.Z)({defaultTheme:i,Component:r,name:c||r.displayName,classNamePrefix:h},l)),p=t.forwardRef((function(e,n){e.classes;var o,l=e.innerRef,f=u(e,["classes","innerRef"]),h=d((0,a.Z)({},r.defaultProps,e)),p=f;return("string"===typeof c||s)&&(o=Le()||i,c&&(p=Pn({theme:o,name:c,props:f})),s&&!p.theme&&(p.theme=o)),t.createElement(r,(0,a.Z)({ref:l||n,classes:h},p))}));return f()(p,r),p}},Mn=["xs","sm","md","lg","xl"];function Ln(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,r=e.unit,i=void 0===r?"px":r,o=e.step,s=void 0===o?5:o,c=u(e,["values","unit","step"]);function l(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function f(e,t){var r=Mn.indexOf(t);return r===Mn.length-1?l(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[Mn[r+1]]?n[Mn[r+1]]:t)-s/100).concat(i,")")}return(0,a.Z)({keys:Mn,values:n,up:l,down:function(e){var t=Mn.indexOf(e)+1,r=n[Mn[t]];return t===Mn.length?l("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-s/100).concat(i,")")},between:f,only:function(e){return f(e,e)},width:function(e){return n[e]}},c)}function Fn(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jn(e,t,n){var r;return(0,a.Z)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:","\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      "].join("\n")),(0,a.Z)({paddingLeft:t(2),paddingRight:t(2)},n,Fn({},e.up("sm"),(0,a.Z)({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(r={minHeight:56},Fn(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),Fn(r,e.up("sm"),{minHeight:64}),r)},n)}function Un(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}var Vn={black:"#000",white:"#fff"},zn={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},Bn={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},qn={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},Zn={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Wn={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Kn={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Gn={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function Hn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function Qn(e){if(e.type)return e;if("#"===e.charAt(0))return Qn(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(Un(3,e));var r=e.substring(t+1,e.length-1).split(",");return{type:n,values:r=r.map((function(e){return parseFloat(e)}))}}function $n(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function Yn(e){var t="hsl"===(e=Qn(e)).type?Qn(function(e){var t=(e=Qn(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",s=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(u+="a",s.push(t[3])),$n({type:u,values:s})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Xn(e,t){return e=Qn(e),t=Hn(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,$n(e)}function Jn(e,t){if(e=Qn(e),t=Hn(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return $n(e)}function er(e,t){if(e=Qn(e),t=Hn(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return $n(e)}var tr={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Vn.white,default:zn[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},nr={text:{primary:Vn.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:zn[800],default:"#303030"},action:{active:Vn.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function rr(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=er(e.main,i):"dark"===t&&(e.dark=Jn(e.main,a)))}function ir(e){var t=e.primary,n=void 0===t?{light:Bn[300],main:Bn[500],dark:Bn[700]}:t,r=e.secondary,i=void 0===r?{light:qn.A200,main:qn.A400,dark:qn.A700}:r,o=e.error,s=void 0===o?{light:Zn[300],main:Zn[500],dark:Zn[700]}:o,c=e.warning,l=void 0===c?{light:Wn[300],main:Wn[500],dark:Wn[700]}:c,f=e.info,h=void 0===f?{light:Kn[300],main:Kn[500],dark:Kn[700]}:f,d=e.success,p=void 0===d?{light:Gn[300],main:Gn[500],dark:Gn[700]}:d,v=e.type,m=void 0===v?"light":v,y=e.contrastThreshold,g=void 0===y?3:y,b=e.tonalOffset,k=void 0===b?.2:b,w=u(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function x(e){var t=function(e,t){var n=Yn(e),r=Yn(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,nr.text.primary)>=g?nr.text.primary:tr.text.primary;return t}var _=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=(0,a.Z)({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error(Un(4,t));if("string"!==typeof e.main)throw new Error(Un(5,JSON.stringify(e.main)));return rr(e,"light",n,k),rr(e,"dark",r,k),e.contrastText||(e.contrastText=x(e.main)),e},S={dark:nr,light:tr};return Sn((0,a.Z)({common:Vn,type:m,primary:_(n),secondary:_(i,"A400","A200","A700"),error:_(s),warning:_(l),info:_(h),success:_(p),grey:zn,contrastThreshold:g,getContrastText:x,augmentColor:_,tonalOffset:k},S[m]),w)}function ar(e){return Math.round(1e5*e)/1e5}function or(e){return ar(e)}var ur={textTransform:"uppercase"},sr='"Roboto", "Helvetica", "Arial", sans-serif';function cr(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?sr:r,o=n.fontSize,s=void 0===o?14:o,c=n.fontWeightLight,l=void 0===c?300:c,f=n.fontWeightRegular,h=void 0===f?400:f,d=n.fontWeightMedium,p=void 0===d?500:d,v=n.fontWeightBold,m=void 0===v?700:v,y=n.htmlFontSize,g=void 0===y?16:y,b=n.allVariants,k=n.pxToRem,w=u(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var x=s/14,_=k||function(e){return"".concat(e/g*x,"rem")},S=function(e,t,n,r,o){return(0,a.Z)({fontFamily:i,fontWeight:e,fontSize:_(t),lineHeight:n},i===sr?{letterSpacing:"".concat(ar(r/t),"em")}:{},o,b)},E={h1:S(l,96,1.167,-1.5),h2:S(l,60,1.2,-.5),h3:S(h,48,1.167,0),h4:S(h,34,1.235,.25),h5:S(h,24,1.334,0),h6:S(p,20,1.6,.15),subtitle1:S(h,16,1.75,.15),subtitle2:S(p,14,1.57,.1),body1:S(h,16,1.5,.15),body2:S(h,14,1.43,.15),button:S(p,14,1.75,.4,ur),caption:S(h,12,1.66,.4),overline:S(h,12,2.66,1,ur)};return Sn((0,a.Z)({htmlFontSize:g,pxToRem:_,round:or,fontFamily:i,fontSize:s,fontWeightLight:l,fontWeightRegular:h,fontWeightMedium:p,fontWeightBold:m},E),w,{clone:!1})}function lr(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var fr=["none",lr(0,2,1,-1,0,1,1,0,0,1,3,0),lr(0,3,1,-2,0,2,2,0,0,1,5,0),lr(0,3,3,-2,0,3,4,0,0,1,8,0),lr(0,2,4,-1,0,4,5,0,0,1,10,0),lr(0,3,5,-1,0,5,8,0,0,1,14,0),lr(0,3,5,-1,0,6,10,0,0,1,18,0),lr(0,4,5,-2,0,7,10,1,0,2,16,1),lr(0,5,5,-3,0,8,10,1,0,3,14,2),lr(0,5,6,-3,0,9,12,1,0,3,16,2),lr(0,6,6,-3,0,10,14,1,0,4,18,3),lr(0,6,7,-4,0,11,15,1,0,4,20,3),lr(0,7,8,-4,0,12,17,2,0,5,22,4),lr(0,7,8,-4,0,13,19,2,0,5,24,4),lr(0,7,9,-4,0,14,21,2,0,5,26,4),lr(0,8,9,-5,0,15,22,2,0,6,28,5),lr(0,8,10,-5,0,16,24,2,0,6,30,5),lr(0,8,11,-5,0,17,26,2,0,6,32,5),lr(0,9,11,-5,0,18,28,2,0,7,34,6),lr(0,9,12,-6,0,19,29,2,0,7,36,6),lr(0,10,13,-6,0,20,31,3,0,8,38,7),lr(0,10,13,-6,0,21,33,3,0,8,40,7),lr(0,10,14,-6,0,22,35,3,0,8,42,7),lr(0,11,14,-7,0,23,36,3,0,9,44,8),lr(0,11,15,-7,0,24,38,3,0,9,46,8)],hr={borderRadius:4};function dr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||vt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var pr={xs:0,sm:600,md:960,lg:1280,xl:1920},vr={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(pr[e],"px)")}};var mr=function(e,t){return t?Sn(e,t,{clone:!1}):e};var yr={m:"margin",p:"padding"},gr={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},br={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},kr=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!br[e])return[e];e=br[e]}var t=dr(e.split(""),2),n=t[0],r=t[1],i=yr[n],a=gr[r]||"";return Array.isArray(a)?a.map((function(e){return i+e})):[i+a]})),wr=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function xr(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function _r(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function Sr(e){var t=xr(e.theme);return Object.keys(e).map((function(n){if(-1===wr.indexOf(n))return null;var r=_r(kr(n),t),i=e[n];return function(e,t,n){if(Array.isArray(t)){var r=e.theme.breakpoints||vr;return t.reduce((function(e,i,a){return e[r.up(r.keys[a])]=n(t[a]),e}),{})}if("object"===p(t)){var i=e.theme.breakpoints||vr;return Object.keys(t).reduce((function(e,r){return e[i.up(r)]=n(t[r]),e}),{})}return n(t)}(e,i,r)})).reduce(mr,{})}Sr.propTypes={},Sr.filterProps=wr;function Er(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=xr({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}var Ir={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Tr={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Cr(e){return"".concat(Math.round(e),"ms")}var Ar={easing:Ir,duration:Tr,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,r=void 0===n?Tr.standard:n,i=t.easing,a=void 0===i?Ir.easeInOut:i,o=t.delay,s=void 0===o?0:o;u(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof r?r:Cr(r)," ").concat(a," ").concat("string"===typeof s?s:Cr(s))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}},Rr={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Or(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,i=void 0===r?{}:r,a=e.palette,o=void 0===a?{}:a,s=e.spacing,c=e.typography,l=void 0===c?{}:c,f=u(e,["breakpoints","mixins","palette","spacing","typography"]),h=ir(o),d=Ln(n),p=Er(s),v=Sn({breakpoints:d,direction:"ltr",mixins:jn(d,p,i),overrides:{},palette:h,props:{},shadows:fr,typography:cr(h,l),spacing:p,shape:hr,transitions:Ar,zIndex:Rr},f),m=arguments.length,y=new Array(m>1?m-1:0),g=1;g<m;g++)y[g-1]=arguments[g];return v=y.reduce((function(e,t){return Sn(e,t)}),v)}var Nr=Or();var Pr=function(e,t){return Dn(e,(0,a.Z)({defaultTheme:Nr},t))};function Dr(e){if("string"!==typeof e)throw new Error(Un(7));return e.charAt(0).toUpperCase()+e.slice(1)}var Mr=t.forwardRef((function(e,n){var r=e.children,i=e.classes,o=e.className,s=e.color,l=void 0===s?"inherit":s,f=e.component,h=void 0===f?"svg":f,d=e.fontSize,p=void 0===d?"medium":d,v=e.htmlColor,m=e.titleAccess,y=e.viewBox,g=void 0===y?"0 0 24 24":y,b=u(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return t.createElement(h,(0,a.Z)({className:c(i.root,o,"inherit"!==l&&i["color".concat(Dr(l))],"default"!==p&&"medium"!==p&&i["fontSize".concat(Dr(p))]),focusable:"false",viewBox:g,color:v,"aria-hidden":!m||void 0,role:m?"img":void 0,ref:n},b),r,m?t.createElement("title",null,m):null)}));Mr.muiName="SvgIcon";var Lr=Pr((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(Mr);var Fr=function(e,n){var r=function(n,r){return t.createElement(Lr,(0,a.Z)({ref:r},n),e)};return r.muiName=Lr.muiName,t.memo(t.forwardRef(r))}(t.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));var jr=t.forwardRef((function(e,n){var r=e.alt,i=e.children,o=e.classes,s=e.className,l=e.component,f=void 0===l?"div":l,h=e.imgProps,d=e.sizes,p=e.src,v=e.srcSet,m=e.variant,y=void 0===m?"circular":m,g=u(e,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),b=null,k=function(e){var n=e.src,r=e.srcSet,i=t.useState(!1),a=i[0],o=i[1];return t.useEffect((function(){if(n||r){o(!1);var e=!0,t=new Image;return t.src=n,t.srcSet=r,t.onload=function(){e&&o("loaded")},t.onerror=function(){e&&o("error")},function(){e=!1}}}),[n,r]),a}({src:p,srcSet:v}),w=p||v,x=w&&"error"!==k;return b=x?t.createElement("img",(0,a.Z)({alt:r,src:p,srcSet:v,sizes:d,className:o.img},h)):null!=i?i:w&&r?r[0]:t.createElement(Fr,{className:o.fallback}),t.createElement(f,(0,a.Z)({className:c(o.root,o.system,o[y],s,!x&&o.colorDefault),ref:n},g),b)})),Ur=Pr((function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},circle:{},circular:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}}),{name:"MuiAvatar"})(jr),Vr=n(488),zr=n(942);function Br(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var qr=n(142);function Zr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(0,qr.Z)(r.key),r)}}function Wr(e,t,n){return t&&Zr(e.prototype,t),n&&Zr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Kr=n(181);function Gr(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,Kr.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function Hr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qr(e,t){return Qr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Qr(e,t)}function $r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qr(e,t)}function Yr(e){return Yr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Yr(e)}function Xr(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var Jr=n(2);function ei(e,t){if(t&&("object"===(0,Jr.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Hr(e)}function ti(e){var t=Xr();return function(){var n,r=Yr(e);if(t){var i=Yr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ei(this,n)}}function ni(e,t,n){return ni=Xr()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Qr(i,n.prototype),i},ni.apply(null,arguments)}function ri(e){var t="function"===typeof Map?new Map:void 0;return ri=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return ni(e,arguments,Yr(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Qr(n,e)},ri(e)}var ii=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ai={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ii(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw new oi;var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},oi=function(e){$r(n,e);var t=ti(n);function n(){var e;return Br(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return Wr(n)}(ri(Error)),ui=function(e){return function(e){var t=ii(e);return ai.encodeByteArray(t,!0)}(e).replace(/\./g,"")},si=function(e){try{return ai.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ci(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&li(n)&&(e[n]=ci(e[n],t[n]));return e}function li(e){return"__proto__"!==e}var fi=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},hi=function(){try{return fi()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&si(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},di=function(){var e;return null===(e=hi())||void 0===e?void 0:e.config},pi=function(){function e(){var t=this;Br(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Wr(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function vi(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ui(JSON.stringify({alg:"none",type:"JWT"})),ui(JSON.stringify(a)),""].join(".")}function mi(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function yi(){var e,t=null===(e=hi())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function gi(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function bi(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function ki(){var e=mi();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function wi(){try{return"object"===typeof indexedDB}catch(e){return!1}}var xi=function(e){$r(n,e);var t=ti(n);function n(e,r,i){var a;return Br(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Hr(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Hr(a),_i.prototype.create),a}return Wr(n)}(ri(Error)),_i=function(){function e(t,n,r){Br(this,e),this.service=t,this.serviceName=n,this.errors=r}return Wr(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Si(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new xi(n,a,t);return o}}]),e}();function Si(e,t){return e.replace(Ei,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Ei=/\{\$([^}]+)}/g;function Ii(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ti(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ci(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Ai(u)&&Ai(s)){if(!Ci(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Ai(e){return null!==e&&"object"===typeof e}function Ri(e){for(var t=[],n=function(){var e=(0,i.Z)(a[r],2),n=e[0],o=e[1];Array.isArray(o)?o.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))},r=0,a=Object.entries(e);r<a.length;r++)n();return t.length?"&"+t.join("&"):""}function Oi(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=(0,i.Z)(n,2),a=r[0],o=r[1];t[decodeURIComponent(a)]=decodeURIComponent(o)}})),t}function Ni(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Pi(e,t){var n=new Di(e,t);return n.subscribe.bind(n)}var Di=function(){function e(t,n){var r=this;Br(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Wr(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Gr(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Mi),void 0===r.error&&(r.error=Mi),void 0===r.complete&&(r.complete=Mi);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Mi(){}function Li(e){return e&&e._delegate?e._delegate:e}function Fi(){Fi=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(T){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),u=new E(i||[]);return r(o,"_invoke",{value:w(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=c;var f={};function h(){}function d(){}function p(){}var v={};s(v,a,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(I([])));y&&y!==t&&n.call(y,a)&&(v=y);var g=p.prototype=h.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function i(r,a,o,u){var s=l(e[r],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==(0,Jr.Z)(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return{value:void 0,done:!0}}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=x(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function I(e){if(e||""===e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}throw new TypeError((0,Jr.Z)(e)+" is not iterable")}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=s(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,u,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(k.prototype),s(k.prototype,o,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(g),s(g,u,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=I,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var ji=n(433);function Ui(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Vi(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Ui(a,r,i,o,u,"next",e)}function u(e){Ui(a,r,i,o,u,"throw",e)}o(void 0)}))}}var zi=function(){function e(t,n,r){Br(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Wr(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Bi="[DEFAULT]",qi=function(){function e(t,n){Br(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Wr(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new pi;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Bi})}catch(c){}var t,n=Gr(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=(0,i.Z)(t.value,2),a=r[0],o=r[1],u=this.normalizeInstanceIdentifier(a);try{var s=this.getOrInitializeService({instanceIdentifier:u});o.resolve(s)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bi;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Vi(Fi().mark((function e(){var t;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat((0,ji.Z)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),(0,ji.Z)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bi;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bi;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var a,o=this.getOrInitializeService({instanceIdentifier:r,options:n}),u=Gr(this.instancesDeferred.entries());try{for(u.s();!(a=u.n()).done;){var s=(0,i.Z)(a.value,2),c=s[0],l=s[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(o)}}catch(h){u.e(h)}finally{u.f()}return o}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Gr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(SR){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Bi?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(SR){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bi;return this.component?this.component.multipleInstances?e:Bi:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Zi,Wi,Ki=function(){function e(t){Br(this,e),this.name=t,this.providers=new Map}return Wr(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new qi(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Gi=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Wi||(Wi={}));var Hi={debug:Wi.DEBUG,verbose:Wi.VERBOSE,info:Wi.INFO,warn:Wi.WARN,error:Wi.ERROR,silent:Wi.SILENT},Qi=Wi.INFO,$i=(Zi={},(0,zr.Z)(Zi,Wi.DEBUG,"log"),(0,zr.Z)(Zi,Wi.VERBOSE,"log"),(0,zr.Z)(Zi,Wi.INFO,"info"),(0,zr.Z)(Zi,Wi.WARN,"warn"),(0,zr.Z)(Zi,Wi.ERROR,"error"),Zi),Yi=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=$i[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Xi=function(){function e(t){Br(this,e),this.name=t,this._logLevel=Qi,this._logHandler=Yi,this._userLogHandler=null,Gi.push(this)}return Wr(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Wi))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Hi[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Wi.DEBUG].concat(t)),this._logHandler.apply(this,[this,Wi.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Wi.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Wi.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Wi.INFO].concat(t)),this._logHandler.apply(this,[this,Wi.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Wi.WARN].concat(t)),this._logHandler.apply(this,[this,Wi.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Wi.ERROR].concat(t)),this._logHandler.apply(this,[this,Wi.ERROR].concat(t))}}]),e}();function Ji(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ea(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ji(Object(n),!0).forEach((function(t){(0,zr.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ji(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ta,na;var ra=new WeakMap,ia=new WeakMap,aa=new WeakMap,oa=new WeakMap,ua=new WeakMap;var sa={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ia.get(e);if("objectStoreNames"===t)return e.objectStoreNames||aa.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fa(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function ca(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(na||(na=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ha(this),n),fa(ra.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return fa(e.apply(ha(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[ha(this),t].concat(r));return aa.set(a,t.sort?t.sort():[t]),fa(a)}}function la(e){return"function"===typeof e?ca(e):(e instanceof IDBTransaction&&function(e){if(!ia.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));ia.set(e,t)}}(e),t=e,(ta||(ta=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,sa):e);var t}function fa(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(fa(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&ra.set(t,e)})).catch((function(){})),ua.set(t,e),t}(e);if(oa.has(e))return oa.get(e);var t=la(e);return t!==e&&(oa.set(e,t),ua.set(t,e)),t}var ha=function(e){return ua.get(e)};var da,pa,va=["get","getKey","getAll","getAllKeys","count"],ma=["put","add","delete","clear"],ya=new Map;function ga(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(ya.get(t))return ya.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=ma.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||va.includes(n))){var a=function(){var e=Vi(Fi().mark((function e(t){var a,o,u,s,c,l,f=arguments;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return ya.set(t,a),a}}}sa=function(e){return ea(ea({},e),{},{get:function(t,n,r){return ga(t,n)||e.get(t,n,r)},has:function(t,n){return!!ga(t,n)||e.has(t,n)}})}(sa);var ba=function(){function e(t){Br(this,e),this.container=t}return Wr(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var ka="@firebase/app",wa="0.9.13",xa=new Xi("@firebase/app"),_a="[DEFAULT]",Sa=(da={},(0,zr.Z)(da,ka,"fire-core"),(0,zr.Z)(da,"@firebase/app-compat","fire-core-compat"),(0,zr.Z)(da,"@firebase/analytics","fire-analytics"),(0,zr.Z)(da,"@firebase/analytics-compat","fire-analytics-compat"),(0,zr.Z)(da,"@firebase/app-check","fire-app-check"),(0,zr.Z)(da,"@firebase/app-check-compat","fire-app-check-compat"),(0,zr.Z)(da,"@firebase/auth","fire-auth"),(0,zr.Z)(da,"@firebase/auth-compat","fire-auth-compat"),(0,zr.Z)(da,"@firebase/database","fire-rtdb"),(0,zr.Z)(da,"@firebase/database-compat","fire-rtdb-compat"),(0,zr.Z)(da,"@firebase/functions","fire-fn"),(0,zr.Z)(da,"@firebase/functions-compat","fire-fn-compat"),(0,zr.Z)(da,"@firebase/installations","fire-iid"),(0,zr.Z)(da,"@firebase/installations-compat","fire-iid-compat"),(0,zr.Z)(da,"@firebase/messaging","fire-fcm"),(0,zr.Z)(da,"@firebase/messaging-compat","fire-fcm-compat"),(0,zr.Z)(da,"@firebase/performance","fire-perf"),(0,zr.Z)(da,"@firebase/performance-compat","fire-perf-compat"),(0,zr.Z)(da,"@firebase/remote-config","fire-rc"),(0,zr.Z)(da,"@firebase/remote-config-compat","fire-rc-compat"),(0,zr.Z)(da,"@firebase/storage","fire-gcs"),(0,zr.Z)(da,"@firebase/storage-compat","fire-gcs-compat"),(0,zr.Z)(da,"@firebase/firestore","fire-fst"),(0,zr.Z)(da,"@firebase/firestore-compat","fire-fst-compat"),(0,zr.Z)(da,"fire-js","fire-js"),(0,zr.Z)(da,"firebase","fire-js-all"),da),Ea=new Map,Ia=new Map;function Ta(e,t){try{e.container.addComponent(t)}catch(n){xa.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Ca(e,t){e.container.addOrOverwriteComponent(t)}function Aa(e){var t=e.name;if(Ia.has(t))return xa.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ia.set(t,e);var n,r=Gr(Ea.values());try{for(r.s();!(n=r.n()).done;){Ta(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Ra(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Oa(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_a;Ra(e,t).clearInstance(n)}function Na(){Ia.clear()}var Pa=(pa={},(0,zr.Z)(pa,"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),(0,zr.Z)(pa,"bad-app-name","Illegal App name: '{$appName}"),(0,zr.Z)(pa,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,zr.Z)(pa,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,zr.Z)(pa,"no-options","Need to provide options, when not being deployed to hosting via source."),(0,zr.Z)(pa,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,zr.Z)(pa,"invalid-log-argument","First argument to `onLog` must be null or a function."),(0,zr.Z)(pa,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),(0,zr.Z)(pa,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),(0,zr.Z)(pa,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),(0,zr.Z)(pa,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),pa),Da=new _i("app","Firebase",Pa),Ma=function(){function e(t,n,r){var i=this;Br(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zi("app",(function(){return i}),"PUBLIC"))}return Wr(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Da.create("app-deleted",{appName:this._name})}}]),e}(),La="9.23.0";function Fa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:_a,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw Da.create("bad-app-name",{appName:String(a)});if(n||(n=di()),!n)throw Da.create("no-options");var o=Ea.get(a);if(o){if(Ci(n,o.options)&&Ci(i,o.config))return o;throw Da.create("duplicate-app",{appName:a})}var u,s=new Ki(a),c=Gr(Ia.values());try{for(c.s();!(u=c.n()).done;){var l=u.value;s.addComponent(l)}}catch(h){c.e(h)}finally{c.f()}var f=new Ma(n,i,s);return Ea.set(a,f),f}function ja(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_a,t=Ea.get(e);if(!t&&e===_a&&di())return Fa();if(!t)throw Da.create("no-app",{appName:e});return t}function Ua(){return Array.from(Ea.values())}function Va(e){return za.apply(this,arguments)}function za(){return(za=Vi(Fi().mark((function e(t){var n;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Ea.has(n)){e.next=6;break}return Ea.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ba(e,t,n){var r,i=null!==(r=Sa[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void xa.warn(u.join(" "))}Aa(new zi("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function qa(e,t){if(null!==e&&"function"!==typeof e)throw Da.create("invalid-log-argument");!function(e,t){var n,r=Gr(Gi);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Hi[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Wi[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Za(e){var t;t=e,Gi.forEach((function(e){e.setLogLevel(t)}))}var Wa="firebase-heartbeat-store",Ka=null;function Ga(){return Ka||(Ka=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=fa(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(fa(u.result),e.oldVersion,e.newVersion,fa(u.transaction),e)})),r&&u.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Wa)}}).catch((function(e){throw Da.create("idb-open",{originalErrorMessage:e.message})}))),Ka}function Ha(e){return Qa.apply(this,arguments)}function Qa(){return Qa=Vi(Fi().mark((function e(t){var n,r,i;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ga();case 3:return n=e.sent,e.next=6,n.transaction(Wa).objectStore(Wa).get(Xa(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof xi?xa.warn(e.t0.message):(i=Da.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),xa.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),Qa.apply(this,arguments)}function $a(e,t){return Ya.apply(this,arguments)}function Ya(){return Ya=Vi(Fi().mark((function e(t,n){var r,i,a,o;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ga();case 3:return r=e.sent,i=r.transaction(Wa,"readwrite"),a=i.objectStore(Wa),e.next=8,a.put(n,Xa(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof xi?xa.warn(e.t0.message):(o=Da.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),xa.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),Ya.apply(this,arguments)}function Xa(e){return"".concat(e.name,"!").concat(e.options.appId)}var Ja=function(){function e(t){var n=this;Br(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new io(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Wr(e,[{key:"triggerHeartbeat",value:function(){var e=Vi(Fi().mark((function e(){var t,n,r;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=eo(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Vi(Fi().mark((function e(){var t,n,r,i,a;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=eo(),n=to(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=ui(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function eo(){return(new Date).toISOString().substring(0,10)}function to(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Gr(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),ao(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),ao(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var no,ro,io=function(){function e(t){Br(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Wr(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Vi(Fi().mark((function e(){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(wi()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Vi(Fi().mark((function e(){var t;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Ha(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Vi(Fi().mark((function e(t){var n,r;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",$a(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Vi(Fi().mark((function e(t){var n,r;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",$a(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat((0,ji.Z)(r.heartbeats),(0,ji.Z)(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function ao(e){return ui(JSON.stringify({version:2,heartbeats:e})).length}no="",Aa(new zi("platform-logger",(function(e){return new ba(e)}),"PRIVATE")),Aa(new zi("heartbeat",(function(e){return new Ja(e)}),"PRIVATE")),Ba(ka,wa,no),Ba(ka,wa,"esm2017"),Ba("fire-js","");var oo=function(){function e(t,n){var r=this;Br(this,e),this._delegate=t,this.firebase=n,Ta(t,new zi("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Wr(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Va(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_a;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_a;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Ta(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Ca(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),uo=(ro={},(0,zr.Z)(ro,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,zr.Z)(ro,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ro),so=new _i("app-compat","Firebase",uo);var co=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Fa(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Ii(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Ba,setLogLevel:Za,onLog:qa,apps:null,SDK_VERSION:La,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Aa(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw so.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&ci(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Ii(n,e=e||_a))throw so.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(oo);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){ci(n,e)},createSubscribe:Pi,ErrorFactory:_i,deepExtend:ci}),n}(),lo=new Xi("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){lo.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var fo=self.firebase.SDK_VERSION;fo&&fo.indexOf("LITE")>=0&&lo.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var ho=co;!function(e){Ba("@firebase/app-compat","0.2.13",e)}();ho.registerVersion("firebase","9.23.0","app-compat");var po=n(878),vo=n(199),mo=n(267);function yo(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Yr(e)););return e}function go(){return go="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=yo(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},go.apply(this,arguments)}function bo(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var ko;Object.create;var wo="facebook.com",xo="github.com",_o="google.com",So="password",Eo="twitter.com",Io="EMAIL_SIGNIN",To="PASSWORD_RESET",Co="RECOVER_EMAIL",Ao="REVERT_SECOND_FACTOR_ADDITION",Ro="VERIFY_AND_CHANGE_EMAIL",Oo="VERIFY_EMAIL";function No(){return(0,zr.Z)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Po=function(){var e;return e={},(0,zr.Z)(e,"admin-restricted-operation","This operation is restricted to administrators only."),(0,zr.Z)(e,"argument-error",""),(0,zr.Z)(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),(0,zr.Z)(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),(0,zr.Z)(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),(0,zr.Z)(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),(0,zr.Z)(e,"cordova-not-ready","Cordova framework is not ready."),(0,zr.Z)(e,"cors-unsupported","This browser is not supported."),(0,zr.Z)(e,"credential-already-in-use","This credential is already associated with a different user account."),(0,zr.Z)(e,"custom-token-mismatch","The custom token corresponds to a different audience."),(0,zr.Z)(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),(0,zr.Z)(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),(0,zr.Z)(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),(0,zr.Z)(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),(0,zr.Z)(e,"email-already-in-use","The email address is already in use by another account."),(0,zr.Z)(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),(0,zr.Z)(e,"expired-action-code","The action code has expired."),(0,zr.Z)(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),(0,zr.Z)(e,"internal-error","An internal AuthError has occurred."),(0,zr.Z)(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),(0,zr.Z)(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),(0,zr.Z)(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),(0,zr.Z)(e,"invalid-auth-event","An internal AuthError has occurred."),(0,zr.Z)(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),(0,zr.Z)(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),(0,zr.Z)(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),(0,zr.Z)(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),(0,zr.Z)(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),(0,zr.Z)(e,"invalid-email","The email address is badly formatted."),(0,zr.Z)(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),(0,zr.Z)(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),(0,zr.Z)(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),(0,zr.Z)(e,"invalid-credential","The supplied auth credential is malformed or has expired."),(0,zr.Z)(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),(0,zr.Z)(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),(0,zr.Z)(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),(0,zr.Z)(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),(0,zr.Z)(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),(0,zr.Z)(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),(0,zr.Z)(e,"wrong-password","The password is invalid or the user does not have a password."),(0,zr.Z)(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),(0,zr.Z)(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),(0,zr.Z)(e,"invalid-provider-id","The specified provider ID is invalid."),(0,zr.Z)(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),(0,zr.Z)(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),(0,zr.Z)(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),(0,zr.Z)(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),(0,zr.Z)(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),(0,zr.Z)(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),(0,zr.Z)(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),(0,zr.Z)(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),(0,zr.Z)(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),(0,zr.Z)(e,"missing-continue-uri","A continue URL must be provided in the request."),(0,zr.Z)(e,"missing-iframe-start","An internal AuthError has occurred."),(0,zr.Z)(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),(0,zr.Z)(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),(0,zr.Z)(e,"missing-password","A non-empty password must be provided"),(0,zr.Z)(e,"missing-multi-factor-info","No second factor identifier is provided."),(0,zr.Z)(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),(0,zr.Z)(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),(0,zr.Z)(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),(0,zr.Z)(e,"app-deleted","This instance of FirebaseApp has been deleted."),(0,zr.Z)(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),(0,zr.Z)(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),(0,zr.Z)(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),(0,zr.Z)(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),(0,zr.Z)(e,"no-auth-event","An internal AuthError has occurred."),(0,zr.Z)(e,"no-such-provider","User was not linked to an account with the given provider."),(0,zr.Z)(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),(0,zr.Z)(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),(0,zr.Z)(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),(0,zr.Z)(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),(0,zr.Z)(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),(0,zr.Z)(e,"provider-already-linked","User can only be linked to one identity for the given provider."),(0,zr.Z)(e,"quota-exceeded","The project's quota for this operation has been exceeded."),(0,zr.Z)(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),(0,zr.Z)(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),(0,zr.Z)(e,"rejected-credential","The request contains malformed or mismatching credentials."),(0,zr.Z)(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),(0,zr.Z)(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),(0,zr.Z)(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),(0,zr.Z)(e,"timeout","The operation has timed out."),(0,zr.Z)(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),(0,zr.Z)(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),(0,zr.Z)(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),(0,zr.Z)(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),(0,zr.Z)(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),(0,zr.Z)(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),(0,zr.Z)(e,"unverified-email","The operation requires a verified email."),(0,zr.Z)(e,"user-cancelled","The user did not grant your application the permissions it requested."),(0,zr.Z)(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),(0,zr.Z)(e,"user-disabled","The user account has been disabled by an administrator."),(0,zr.Z)(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),(0,zr.Z)(e,"user-signed-out",""),(0,zr.Z)(e,"weak-password","The password must be 6 characters long or more."),(0,zr.Z)(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),(0,zr.Z)(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),(0,zr.Z)(e,"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),(0,zr.Z)(e,"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),(0,zr.Z)(e,"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),(0,zr.Z)(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),(0,zr.Z)(e,"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),(0,zr.Z)(e,"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),(0,zr.Z)(e,"invalid-req-type","Invalid request parameters."),(0,zr.Z)(e,"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend."),e},Do=No,Mo=new _i("auth","Firebase",No()),Lo=new Xi("@firebase/auth");function Fo(e){if(Lo.logLevel<=Wi.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Lo.warn.apply(Lo,["Auth (".concat(La,"): ").concat(e)].concat(n))}}function jo(e){if(Lo.logLevel<=Wi.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Lo.error.apply(Lo,["Auth (".concat(La,"): ").concat(e)].concat(n))}}function Uo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw qo.apply(void 0,[e].concat(n))}function Vo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return qo.apply(void 0,[e].concat(n))}function zo(e,t,n){var r=Object.assign(Object.assign({},Do()),(0,zr.Z)({},t,n));return new _i("auth","Firebase",r).create(t,{appName:e.name})}function Bo(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Uo(e,"argument-error"),zo(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function qo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=(0,ji.Z)(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat((0,ji.Z)(o)))}return Mo.create.apply(Mo,[e].concat(n))}function Zo(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw qo.apply(void 0,[t].concat(r))}}function Wo(e){var t="INTERNAL ASSERTION FAILED: "+e;throw jo(t),new Error(t)}function Ko(e,t){e||Wo(t)}function Go(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Ho(){return"http:"===Qo()||"https:"===Qo()}function Qo(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var $o=function(){function e(t,n){Br(this,e),this.shortDelay=t,this.longDelay=n,Ko(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mi())||bi()}return Wr(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Ho()||gi()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Yo(e,t){Ko(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Xo=function(){function e(){Br(this,e)}return Wr(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Wo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Wo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Wo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Jo=(ko={},(0,zr.Z)(ko,"CREDENTIAL_MISMATCH","custom-token-mismatch"),(0,zr.Z)(ko,"MISSING_CUSTOM_TOKEN","internal-error"),(0,zr.Z)(ko,"INVALID_IDENTIFIER","invalid-email"),(0,zr.Z)(ko,"MISSING_CONTINUE_URI","internal-error"),(0,zr.Z)(ko,"INVALID_PASSWORD","wrong-password"),(0,zr.Z)(ko,"MISSING_PASSWORD","missing-password"),(0,zr.Z)(ko,"EMAIL_EXISTS","email-already-in-use"),(0,zr.Z)(ko,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),(0,zr.Z)(ko,"INVALID_IDP_RESPONSE","invalid-credential"),(0,zr.Z)(ko,"INVALID_PENDING_TOKEN","invalid-credential"),(0,zr.Z)(ko,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),(0,zr.Z)(ko,"MISSING_REQ_TYPE","internal-error"),(0,zr.Z)(ko,"EMAIL_NOT_FOUND","user-not-found"),(0,zr.Z)(ko,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),(0,zr.Z)(ko,"EXPIRED_OOB_CODE","expired-action-code"),(0,zr.Z)(ko,"INVALID_OOB_CODE","invalid-action-code"),(0,zr.Z)(ko,"MISSING_OOB_CODE","internal-error"),(0,zr.Z)(ko,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),(0,zr.Z)(ko,"INVALID_ID_TOKEN","invalid-user-token"),(0,zr.Z)(ko,"TOKEN_EXPIRED","user-token-expired"),(0,zr.Z)(ko,"USER_NOT_FOUND","user-token-expired"),(0,zr.Z)(ko,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),(0,zr.Z)(ko,"INVALID_CODE","invalid-verification-code"),(0,zr.Z)(ko,"INVALID_SESSION_INFO","invalid-verification-id"),(0,zr.Z)(ko,"INVALID_TEMPORARY_PROOF","invalid-credential"),(0,zr.Z)(ko,"MISSING_SESSION_INFO","missing-verification-id"),(0,zr.Z)(ko,"SESSION_EXPIRED","code-expired"),(0,zr.Z)(ko,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),(0,zr.Z)(ko,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),(0,zr.Z)(ko,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),(0,zr.Z)(ko,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),(0,zr.Z)(ko,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),(0,zr.Z)(ko,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),(0,zr.Z)(ko,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),(0,zr.Z)(ko,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),(0,zr.Z)(ko,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),(0,zr.Z)(ko,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),(0,zr.Z)(ko,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),(0,zr.Z)(ko,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),(0,zr.Z)(ko,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),(0,zr.Z)(ko,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),(0,zr.Z)(ko,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),(0,zr.Z)(ko,"MISSING_CLIENT_TYPE","missing-client-type"),(0,zr.Z)(ko,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),(0,zr.Z)(ko,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),(0,zr.Z)(ko,"INVALID_REQ_TYPE","invalid-req-type"),ko),eu=new $o(3e4,6e4);function tu(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function nu(e,t,n,r){return ru.apply(this,arguments)}function ru(){return ru=Vi(Fi().mark((function e(t,n,r,i){var a,o=arguments;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",iu(t,a,Vi(Fi().mark((function e(){var a,o,u,s;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Ri(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Xo.fetch()(su(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),ru.apply(this,arguments)}function iu(e,t,n){return au.apply(this,arguments)}function au(){return au=Vi(Fi().mark((function e(t,n,r){var a,o,u,s,c,l,f,h,d,p;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,a=Object.assign(Object.assign({},Jo),n),e.prev=2,o=new cu(t),e.next=6,Promise.race([r(),o.promise]);case 6:return u=e.sent,o.clearNetworkTimeout(),e.next=10,u.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw lu(t,"account-exists-with-different-credential",s);case 13:if(!u.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(c=u.ok?s.errorMessage:s.error.message,l=c.split(" : "),f=(0,i.Z)(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw lu(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw lu(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw lu(t,"user-disabled",s);case 29:if(p=a[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw zo(t,p,d);case 34:Uo(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof xi)){e.next=41;break}throw e.t0;case 41:Uo(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),au.apply(this,arguments)}function ou(e,t,n,r){return uu.apply(this,arguments)}function uu(){return uu=Vi(Fi().mark((function e(t,n,r,i){var a,o,u=arguments;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,nu(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Uo(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),uu.apply(this,arguments)}function su(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Yo(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var cu=function(){function e(t){var n=this;Br(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Vo(n.auth,"network-request-failed"))}),eu.get())}))}return Wr(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function lu(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Vo(e,t,r);return i.customData._tokenResponse=n,i}function fu(e,t){return hu.apply(this,arguments)}function hu(){return hu=Vi(Fi().mark((function e(t,n){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nu(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),hu.apply(this,arguments)}function du(e,t){return pu.apply(this,arguments)}function pu(){return pu=Vi(Fi().mark((function e(t,n){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nu(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),pu.apply(this,arguments)}function vu(e,t){return mu.apply(this,arguments)}function mu(){return mu=Vi(Fi().mark((function e(t,n){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nu(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),mu.apply(this,arguments)}function yu(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function gu(){return gu=Vi(Fi().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Li(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Zo((a=ku(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:yu(bu(a.auth_time)),issuedAtTime:yu(bu(a.iat)),expirationTime:yu(bu(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),gu.apply(this,arguments)}function bu(e){return 1e3*Number(e)}function ku(e){var t=e.split("."),n=(0,i.Z)(t,3),r=n[0],a=n[1],o=n[2];if(void 0===r||void 0===a||void 0===o)return jo("JWT malformed, contained fewer than 3 sections"),null;try{var u=si(a);return u?JSON.parse(u):(jo("Failed to decode base64 JWT payload"),null)}catch(s){return jo("Caught error parsing JWT payload as JSON",null===s||void 0===s?void 0:s.toString()),null}}function wu(e,t){return xu.apply(this,arguments)}function xu(){return xu=Vi(Fi().mark((function e(t,n){var r=arguments;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof xi&&_u(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),xu.apply(this,arguments)}function _u(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Su=function(){function e(t){Br(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Wr(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Vi(Fi().mark((function t(){return Fi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Vi(Fi().mark((function e(){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Eu=function(){function e(t,n){Br(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Wr(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=yu(this.lastLoginAt),this.creationTime=yu(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Iu(e){return Tu.apply(this,arguments)}function Tu(){return Tu=Vi(Fi().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,wu(t,vu(r,{idToken:i}));case 6:Zo(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Ru(o.providerUserInfo):[],s=Au(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Eu(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Tu.apply(this,arguments)}function Cu(){return(Cu=Vi(Fi().mark((function e(t){var n;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Li(t),e.next=3,Iu(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Au(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat((0,ji.Z)(n),(0,ji.Z)(t))}function Ru(e){return e.map((function(e){var t=e.providerId,n=bo(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Ou(e,t){return Nu.apply(this,arguments)}function Nu(){return Nu=Vi(Fi().mark((function e(t,n){var r;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,iu(t,{},Vi(Fi().mark((function e(){var r,i,a,o,u,s;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ri({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=su(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Xo.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Nu.apply(this,arguments)}var Pu=function(){function e(){Br(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Wr(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Zo(e.idToken,"internal-error"),Zo("undefined"!==typeof e.idToken,"internal-error"),Zo("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=ku(e);return Zo(t,"internal-error"),Zo("undefined"!==typeof t.exp,"internal-error"),Zo("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Vi(Fi().mark((function e(t){var n,r=arguments;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Zo(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Vi(Fi().mark((function e(t,n){var r,i,a,o;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ou(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Wo("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Zo("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Zo("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Zo("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Du(e,t){Zo("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Mu=function(){function e(t){Br(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=bo(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Su(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?(0,ji.Z)(a.providerData):[],this.metadata=new Eu(a.createdAt||void 0,a.lastLoginAt||void 0)}return Wr(e,[{key:"getIdToken",value:function(){var e=Vi(Fi().mark((function e(t){var n;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wu(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Zo(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return gu.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Cu.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Zo(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){Zo(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Vi(Fi().mark((function e(t){var n,r,i=arguments;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Iu(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Vi(Fi().mark((function e(){var t;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,wu(this,fu(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,k=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;Zo(b&&_,t,"internal-error");var S=Pu.fromJSON(this.name,_);Zo("string"===typeof b,t,"internal-error"),Du(f,t.name),Du(h,t.name),Zo("boolean"===typeof k,t,"internal-error"),Zo("boolean"===typeof w,t,"internal-error"),Du(d,t.name),Du(p,t.name),Du(v,t.name),Du(m,t.name),Du(y,t.name),Du(g,t.name);var E=new e({uid:b,auth:t,email:h,emailVerified:k,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(E.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=Vi(Fi().mark((function t(n,r){var i,a,o,u=arguments;return Fi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Pu).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Iu(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Lu=new Map;function Fu(e){Ko(e instanceof Function,"Expected a class definition");var t=Lu.get(e);return t?(Ko(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Lu.set(e,t),t)}var ju=function(){function e(){Br(this,e),this.type="NONE",this.storage={}}return Wr(e,[{key:"_isAvailable",value:function(){var e=Vi(Fi().mark((function e(){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Vi(Fi().mark((function e(t,n){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Vi(Fi().mark((function e(t){var n;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Vi(Fi().mark((function e(t){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();ju.type="NONE";var Uu=ju;function Vu(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var zu=function(){function e(t,n,r){Br(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Vu(this.userKey,a.apiKey,o),this.fullPersistenceKey=Vu("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Wr(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Vi(Fi().mark((function e(){var t;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Mu._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Vi(Fi().mark((function e(t){var n;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Vi(Fi().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return Fi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Fu(Uu),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Vi(Fi().mark((function e(t){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Fu(Uu),u=Vu(i,n.config.apiKey,n.name),s=null,c=Gr(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=Mu._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Vi(Fi().mark((function e(t){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Bu(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ku(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(qu(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Hu(t))return"Blackberry";if(Qu(t))return"Webos";if(Zu(t))return"Safari";if((t.includes("chrome/")||Wu(t))&&!t.includes("edge/"))return"Chrome";if(Gu(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function qu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mi();return/firefox\//i.test(e)}function Zu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mi(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Wu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mi();return/crios\//i.test(e)}function Ku(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mi();return/iemobile/i.test(e)}function Gu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mi();return/android/i.test(e)}function Hu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mi();return/blackberry/i.test(e)}function Qu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mi();return/webos/i.test(e)}function $u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mi();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Yu(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mi();return $u(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Xu(){return ki()&&10===document.documentMode}function Ju(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mi();return $u(e)||Gu(e)||Qu(e)||Hu(e)||/windows phone/i.test(e)||Ku(e)}function es(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Bu(mi());break;case"Worker":t="".concat(Bu(mi()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(La,"/").concat(r)}function ts(e){return ns.apply(this,arguments)}function ns(){return ns=Vi(Fi().mark((function e(t){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nu(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),ns.apply(this,arguments)}function rs(e,t){return is.apply(this,arguments)}function is(){return is=Vi(Fi().mark((function e(t,n){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nu(t,"GET","/v2/recaptchaConfig",tu(t,n)));case 1:case"end":return e.stop()}}),e)}))),is.apply(this,arguments)}function as(e){return void 0!==e&&void 0!==e.getResponse}function os(e){return void 0!==e&&void 0!==e.enterprise}var us=Wr((function e(t){if(Br(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function ss(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Vo("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function cs(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var ls="https://www.google.com/recaptcha/enterprise.js?render=",fs="NO_RECAPTCHA",hs=function(){function e(t){Br(this,e),this.type="recaptcha-enterprise",this.auth=ys(t)}return Wr(e,[{key:"verify",value:function(){var e=Vi(Fi().mark((function e(){var t,n,r,i,a,o=this,u=arguments;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;os(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n(fs)}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=Vi(Fi().mark((function e(t){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=Vi(Fi().mark((function e(n,r){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:rs(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new us(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=u.length>0&&void 0!==u[0]?u[0]:"verify",n=u.length>1&&void 0!==u[1]&&u[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&os(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));ss(ls+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ds(e,t,n){return ps.apply(this,arguments)}function ps(){return ps=Vi(Fi().mark((function e(t,n,r){var i,a,o,u,s=arguments;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.length>3&&void 0!==s[3]&&s[3],a=new hs(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return u=Object.assign({},n),i?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",u);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),ps.apply(this,arguments)}var vs=function(){function e(t){Br(this,e),this.auth=t,this.queue=[]}return Wr(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Vi(Fi().mark((function e(t){var n,r,i,a,o,u,s;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=Gr(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=Gr(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ms=function(){function e(t,n,r,i){Br(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gs(this),this.idTokenSubscription=new gs(this),this.beforeStateQueue=new vs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Mo,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return Wr(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Fu(t)),this._initializationPromise=this.queue(Vi(Fi().mark((function r(){var i,a;return Fi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,zu.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Vi(Fi().mark((function e(){var t;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Vi(Fi().mark((function e(t){var n,r,i,a,o,u,s;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Zo(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Vi(Fi().mark((function e(t){var n;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Vi(Fi().mark((function e(t){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Iu(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Vi(Fi().mark((function e(){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Vi(Fi().mark((function e(t){var n;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Li(t):null)&&Zo(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Vi(Fi().mark((function e(t){var n,r=this,i=arguments;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Zo(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Vi(Fi().mark((function e(){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Vi(Fi().mark((function e(){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Vi(Fi().mark((function n(){return Fi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Fu(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"initializeRecaptchaConfig",value:function(){var e=Vi(Fi().mark((function e(){var t,n;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rs(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"});case 2:t=e.sent,n=new us(t),null==this.tenantId?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new hs(this).verify();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new _i("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Vi(Fi().mark((function e(t,n){var r;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Vi(Fi().mark((function e(t){var n;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Zo(n=t&&Fu(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,zu.create(this,[Fu(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Vi(Fi().mark((function e(t){var n,r;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Vi(Fi().mark((function e(){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Vi(Fi().mark((function e(t){var n=this;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Vi(Fi().mark((function e(){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Zo(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Vi(Fi().mark((function e(t){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Zo(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=es(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Vi(Fi().mark((function e(){var t,n,r,i;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,zr.Z)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Vi(Fi().mark((function e(){var t,n;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&Fo("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ys(e){return Li(e)}var gs=function(){function e(t){var n=this;Br(this,e),this.auth=t,this.observer=null,this.addObserver=Pi((function(e){return n.observer=e}))}return Wr(e,[{key:"next",get:function(){return Zo(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function bs(e,t,n){var r=ys(e);Zo(r._canInitEmulator,r,"emulator-config-failed"),Zo(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var a=!!(null===n||void 0===n?void 0:n.disableWarnings),o=ks(t),u=function(e){var t=ks(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){var o=a[1];return{host:o,port:ws(r.substr(o.length+1))}}var u=r.split(":"),s=(0,i.Z)(u,2);return{host:s[0],port:ws(s[1])}}(t),s=u.host,c=u.port,l=null===c?"":":".concat(c);r.config.emulator={url:"".concat(o,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})}),a||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ks(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ws(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var xs=function(){function e(t,n){Br(this,e),this.providerId=t,this.signInMethod=n}return Wr(e,[{key:"toJSON",value:function(){return Wo("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Wo("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Wo("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Wo("not implemented")}}]),e}();function _s(e,t){return Ss.apply(this,arguments)}function Ss(){return Ss=Vi(Fi().mark((function e(t,n){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nu(t,"POST","/v1/accounts:resetPassword",tu(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ss.apply(this,arguments)}function Es(e,t){return Is.apply(this,arguments)}function Is(){return Is=Vi(Fi().mark((function e(t,n){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nu(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Is.apply(this,arguments)}function Ts(e,t){return Cs.apply(this,arguments)}function Cs(){return Cs=Vi(Fi().mark((function e(t,n){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nu(t,"POST","/v1/accounts:update",tu(t,n)));case 1:case"end":return e.stop()}}),e)}))),Cs.apply(this,arguments)}function As(e,t){return Rs.apply(this,arguments)}function Rs(){return Rs=Vi(Fi().mark((function e(t,n){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ou(t,"POST","/v1/accounts:signInWithPassword",tu(t,n)));case 1:case"end":return e.stop()}}),e)}))),Rs.apply(this,arguments)}function Os(e,t){return Ns.apply(this,arguments)}function Ns(){return Ns=Vi(Fi().mark((function e(t,n){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nu(t,"POST","/v1/accounts:sendOobCode",tu(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ns.apply(this,arguments)}function Ps(e,t){return Ds.apply(this,arguments)}function Ds(){return Ds=Vi(Fi().mark((function e(t,n){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Os(t,n));case 1:case"end":return e.stop()}}),e)}))),Ds.apply(this,arguments)}function Ms(e,t){return Ls.apply(this,arguments)}function Ls(){return Ls=Vi(Fi().mark((function e(t,n){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Os(t,n));case 1:case"end":return e.stop()}}),e)}))),Ls.apply(this,arguments)}function Fs(e,t){return js.apply(this,arguments)}function js(){return js=Vi(Fi().mark((function e(t,n){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Os(t,n));case 1:case"end":return e.stop()}}),e)}))),js.apply(this,arguments)}function Us(e,t){return Vs.apply(this,arguments)}function Vs(){return Vs=Vi(Fi().mark((function e(t,n){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Os(t,n));case 1:case"end":return e.stop()}}),e)}))),Vs.apply(this,arguments)}function zs(e,t){return Bs.apply(this,arguments)}function Bs(){return Bs=Vi(Fi().mark((function e(t,n){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ou(t,"POST","/v1/accounts:signInWithEmailLink",tu(t,n)));case 1:case"end":return e.stop()}}),e)}))),Bs.apply(this,arguments)}function qs(e,t){return Zs.apply(this,arguments)}function Zs(){return Zs=Vi(Fi().mark((function e(t,n){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ou(t,"POST","/v1/accounts:signInWithEmailLink",tu(t,n)));case 1:case"end":return e.stop()}}),e)}))),Zs.apply(this,arguments)}var Ws=function(e){$r(n,e);var t=ti(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Br(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Wr(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Vi(Fi().mark((function e(t){var n,r,i;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,ds(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",As(t,i));case 11:return e.abrupt("return",As(t,r).catch(function(){var e=Vi(Fi().mark((function e(n){var i;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,ds(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",As(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",zs(t,{email:this._email,oobCode:this._password}));case 13:Uo(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Vi(Fi().mark((function e(t,n){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Es(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",qs(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Uo(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(xs);function Ks(e,t){return Gs.apply(this,arguments)}function Gs(){return Gs=Vi(Fi().mark((function e(t,n){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ou(t,"POST","/v1/accounts:signInWithIdp",tu(t,n)));case 1:case"end":return e.stop()}}),e)}))),Gs.apply(this,arguments)}var Hs=function(e){$r(n,e);var t=ti(n);function n(){var e;return Br(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Wr(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Ks(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Ks(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Ks(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ri(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Uo("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=bo(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(xs);function Qs(e,t){return $s.apply(this,arguments)}function $s(){return $s=Vi(Fi().mark((function e(t,n){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nu(t,"POST","/v1/accounts:sendVerificationCode",tu(t,n)));case 1:case"end":return e.stop()}}),e)}))),$s.apply(this,arguments)}function Ys(){return Ys=Vi(Fi().mark((function e(t,n){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ou(t,"POST","/v1/accounts:signInWithPhoneNumber",tu(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ys.apply(this,arguments)}function Xs(){return Xs=Vi(Fi().mark((function e(t,n){var r;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ou(t,"POST","/v1/accounts:signInWithPhoneNumber",tu(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw lu(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Xs.apply(this,arguments)}var Js=(0,zr.Z)({},"USER_NOT_FOUND","user-not-found");function ec(){return ec=Vi(Fi().mark((function e(t,n){var r;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",ou(t,"POST","/v1/accounts:signInWithPhoneNumber",tu(t,r),Js));case 2:case"end":return e.stop()}}),e)}))),ec.apply(this,arguments)}var tc=function(e){$r(n,e);var t=ti(n);function n(e){var r;return Br(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Wr(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Ys.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Xs.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return ec.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(xs);var nc=function(){function e(t){var n,r,i,a,o,u;Br(this,e);var s=Oi(Ni(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Zo(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return Wr(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Oi(Ni(e)).link,n=t?Oi(Ni(t)).deep_link_id:null,r=Oi(Ni(e)).deep_link_id;return(r?Oi(Ni(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(SR){return null}}}]),e}();var rc=function(){function e(){Br(this,e),this.providerId=e.PROVIDER_ID}return Wr(e,null,[{key:"credential",value:function(e,t){return Ws._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=nc.parseLink(t);return Zo(n,"argument-error"),Ws._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();rc.PROVIDER_ID="password",rc.EMAIL_PASSWORD_SIGN_IN_METHOD="password",rc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var ic=function(){function e(t){Br(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Wr(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),ac=function(e){$r(n,e);var t=ti(n);function n(){var e;return Br(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Wr(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return(0,ji.Z)(this.scopes)}}]),n}(ic),oc=function(e){$r(n,e);var t=ti(n);function n(){return Br(this,n),t.apply(this,arguments)}return Wr(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Zo(e.idToken||e.accessToken,"argument-error"),Hs._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Zo("providerId"in t&&"signInMethod"in t,"argument-error"),Hs._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(ac),uc=function(e){$r(n,e);var t=ti(n);function n(){return Br(this,n),t.call(this,"facebook.com")}return Wr(n,null,[{key:"credential",value:function(e){return Hs._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(SR){return null}}}]),n}(ac);uc.FACEBOOK_SIGN_IN_METHOD="facebook.com",uc.PROVIDER_ID="facebook.com";var sc=function(e){$r(n,e);var t=ti(n);function n(){var e;return Br(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Wr(n,null,[{key:"credential",value:function(e,t){return Hs._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(SR){return null}}}]),n}(ac);sc.GOOGLE_SIGN_IN_METHOD="google.com",sc.PROVIDER_ID="google.com";var cc=function(e){$r(n,e);var t=ti(n);function n(){return Br(this,n),t.call(this,"github.com")}return Wr(n,null,[{key:"credential",value:function(e){return Hs._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(SR){return null}}}]),n}(ac);cc.GITHUB_SIGN_IN_METHOD="github.com",cc.PROVIDER_ID="github.com";var lc=function(e){$r(n,e);var t=ti(n);function n(e,r){var i;return Br(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Wr(n,[{key:"_getIdTokenResponse",value:function(e){return Ks(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Ks(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Ks(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(xs),fc=function(e){$r(n,e);var t=ti(n);function n(e){return Br(this,n),Zo(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Wr(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=lc.fromJSON(e);return Zo(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return lc._create(r,n)}catch(i){return null}}}]),n}(ic),hc=function(e){$r(n,e);var t=ti(n);function n(){return Br(this,n),t.call(this,"twitter.com")}return Wr(n,null,[{key:"credential",value:function(e,t){return Hs._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(SR){return null}}}]),n}(ac);function dc(e,t){return pc.apply(this,arguments)}function pc(){return pc=Vi(Fi().mark((function e(t,n){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ou(t,"POST","/v1/accounts:signUp",tu(t,n)));case 1:case"end":return e.stop()}}),e)}))),pc.apply(this,arguments)}hc.TWITTER_SIGN_IN_METHOD="twitter.com",hc.PROVIDER_ID="twitter.com";var vc=function(){function e(t){Br(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Wr(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Vi(Fi().mark((function t(n,r,i){var a,o,u,s,c=arguments;return Fi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Mu._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=mc(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Vi(Fi().mark((function t(n,r,i){var a;return Fi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=mc(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function mc(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function yc(){return yc=Vi(Fi().mark((function e(t){var n,r,i,a;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ys(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new vc({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,dc(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,vc._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),yc.apply(this,arguments)}var gc=function(e){$r(n,e);var t=ti(n);function n(e,r,i,a){var o,u;return Br(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Hr(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Wr(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(xi);function bc(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw gc._fromErrorAndOperation(e,n,t,r);throw n}))}function kc(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function wc(e,t){return xc.apply(this,arguments)}function xc(){return xc=Vi(Fi().mark((function e(t,n){var r,i,a,o;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Li(t),e.next=3,Ec(!0,r,n);case 3:return e.t0=du,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=kc(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),xc.apply(this,arguments)}function _c(e,t){return Sc.apply(this,arguments)}function Sc(){return Sc=Vi(Fi().mark((function e(t,n){var r,i,a=arguments;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=wu,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",vc._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Sc.apply(this,arguments)}function Ec(e,t,n){return Ic.apply(this,arguments)}function Ic(){return(Ic=Vi(Fi().mark((function e(t,n,r){var i,a;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Iu(n);case 2:i=kc(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Zo(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tc(e,t){return Cc.apply(this,arguments)}function Cc(){return Cc=Vi(Fi().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,wu(t,bc(i,a,n,t),r);case 6:return Zo((o=e.sent).idToken,i,"internal-error"),Zo(u=ku(o.idToken),i,"internal-error"),s=u.sub,Zo(t.uid===s,i,"user-mismatch"),e.abrupt("return",vc._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Uo(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Cc.apply(this,arguments)}function Ac(e,t){return Rc.apply(this,arguments)}function Rc(){return Rc=Vi(Fi().mark((function e(t,n){var r,i,a,o,u=arguments;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,bc(t,i,n);case 4:return a=e.sent,e.next=7,vc._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Rc.apply(this,arguments)}function Oc(e,t){return Nc.apply(this,arguments)}function Nc(){return Nc=Vi(Fi().mark((function e(t,n){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ac(ys(t),n));case 1:case"end":return e.stop()}}),e)}))),Nc.apply(this,arguments)}function Pc(e,t){return Dc.apply(this,arguments)}function Dc(){return(Dc=Vi(Fi().mark((function e(t,n){var r;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Li(t),e.next=3,Ec(!1,r,n.providerId);case 3:return e.abrupt("return",_c(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mc(e,t){return Lc.apply(this,arguments)}function Lc(){return(Lc=Vi(Fi().mark((function e(t,n){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Tc(Li(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fc(e,t){return jc.apply(this,arguments)}function jc(){return jc=Vi(Fi().mark((function e(t,n){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ou(t,"POST","/v1/accounts:signInWithCustomToken",tu(t,n)));case 1:case"end":return e.stop()}}),e)}))),jc.apply(this,arguments)}function Uc(){return Uc=Vi(Fi().mark((function e(t,n){var r,i,a;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ys(t),e.next=3,Fc(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,vc._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),Uc.apply(this,arguments)}var Vc=function(){function e(t,n){Br(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Wr(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?zc._fromServerResponse(e,t):"totpInfo"in t?Bc._fromServerResponse(e,t):Uo(e,"internal-error")}}]),e}(),zc=function(e){$r(n,e);var t=ti(n);function n(e){var r;return Br(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Wr(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Vc),Bc=function(e){$r(n,e);var t=ti(n);function n(e){return Br(this,n),t.call(this,"totp",e)}return Wr(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Vc);function qc(e,t,n){var r;Zo((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Zo("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Zo(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Zo(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Zc(){return Zc=Vi(Fi().mark((function e(t,n,r){var i,a,o,u;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=ys(t),o={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=11;break}return e.next=5,ds(a,o,"getOobCode",!0);case 5:return u=e.sent,r&&qc(a,u,r),e.next=9,Ms(a,u);case 9:e.next=14;break;case 11:return r&&qc(a,o,r),e.next=14,Ms(a,o).catch(function(){var e=Vi(Fi().mark((function e(t){var n;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow."),e.next=4,ds(a,o,"getOobCode",!0);case 4:return n=e.sent,r&&qc(a,n,r),e.next=8,Ms(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:case"end":return e.stop()}}),e)}))),Zc.apply(this,arguments)}function Wc(){return Wc=Vi(Fi().mark((function e(t,n,r){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_s(Li(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),Wc.apply(this,arguments)}function Kc(){return Kc=Vi(Fi().mark((function e(t,n){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ts(Li(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),Kc.apply(this,arguments)}function Gc(e,t){return Hc.apply(this,arguments)}function Hc(){return Hc=Vi(Fi().mark((function e(t,n){var r,i,a,o;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Li(t),e.next=3,_s(r,{oobCode:n});case 3:i=e.sent,Zo(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Zo(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Zo(i.mfaInfo,r,"internal-error");case 13:Zo(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Vc._fromServerResponse(ys(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),Hc.apply(this,arguments)}function Qc(){return Qc=Vi(Fi().mark((function e(t,n){var r,i;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gc(Li(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),Qc.apply(this,arguments)}function $c(e,t,n){return Yc.apply(this,arguments)}function Yc(){return Yc=Vi(Fi().mark((function e(t,n,r){var i,a,o,u,s,c,l;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=ys(t),o={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,ds(a,o,"signUpPassword");case 5:s=e.sent,u=dc(a,s),e.next=10;break;case 9:u=dc(a,o).catch(function(){var e=Vi(Fi().mark((function e(t){var n;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,ds(a,o,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",dc(a,n));case 8:return e.abrupt("return",Promise.reject(t));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,u.catch((function(e){return Promise.reject(e)}));case 12:return c=e.sent,e.next=15,vc._fromIdTokenResponse(a,"signIn",c);case 15:return l=e.sent,e.next=18,a._updateCurrentUser(l.user);case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)}))),Yc.apply(this,arguments)}function Xc(){return Xc=Vi(Fi().mark((function e(t,n,r){var i,a,o,u,s;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=function(e,t){Zo(t.handleCodeInApp,a,"argument-error"),t&&qc(a,e,t)},a=ys(t),o={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=12;break}return e.next=6,ds(a,o,"getOobCode",!0);case 6:return s=e.sent,u(s,r),e.next=10,Fs(a,s);case 10:e.next=15;break;case 12:return u(o,r),e.next=15,Fs(a,o).catch(function(){var e=Vi(Fi().mark((function e(t){var n;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,ds(a,o,"getOobCode",!0);case 4:return n=e.sent,u(n,r),e.next=8,Fs(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:case"end":return e.stop()}}),e)}))),Xc.apply(this,arguments)}function Jc(){return Jc=Vi(Fi().mark((function e(t,n,r){var i,a;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Li(t),Zo((a=rc.credentialWithLink(n,r||Go()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Oc(i,a));case 4:case"end":return e.stop()}}),e)}))),Jc.apply(this,arguments)}function el(e,t){return tl.apply(this,arguments)}function tl(){return tl=Vi(Fi().mark((function e(t,n){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nu(t,"POST","/v1/accounts:createAuthUri",tu(t,n)));case 1:case"end":return e.stop()}}),e)}))),tl.apply(this,arguments)}function nl(){return nl=Vi(Fi().mark((function e(t,n){var r,i,a,o;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ho()?Go():"http://localhost",i={identifier:n,continueUri:r},e.next=4,el(Li(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),nl.apply(this,arguments)}function rl(){return(rl=Vi(Fi().mark((function e(t,n){var r,i,a,o;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Li(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&qc(r.auth,a,n),e.next=8,Ps(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function il(){return(il=Vi(Fi().mark((function e(t,n,r){var i,a,o,u;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Li(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&qc(i.auth,o,r),e.next=8,Us(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function al(e,t){return ol.apply(this,arguments)}function ol(){return ol=Vi(Fi().mark((function e(t,n){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nu(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),ol.apply(this,arguments)}function ul(){return(ul=Vi(Fi().mark((function e(t,n){var r,i,a,o,u,s,c;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Li(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,wu(a,al(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sl(e,t,n){return cl.apply(this,arguments)}function cl(){return cl=Vi(Fi().mark((function e(t,n,r){var i,a,o,u;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,wu(t,Es(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),cl.apply(this,arguments)}var ll=Wr((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Br(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),fl=function(e){$r(n,e);var t=ti(n);function n(e,r,i,a){var o;return Br(this,n),(o=t.call(this,e,r,i)).username=a,o}return Wr(n)}(ll),hl=function(e){$r(n,e);var t=ti(n);function n(e,r){return Br(this,n),t.call(this,e,"facebook.com",r)}return Wr(n)}(ll),dl=function(e){$r(n,e);var t=ti(n);function n(e,r){return Br(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Wr(n)}(fl),pl=function(e){$r(n,e);var t=ti(n);function n(e,r){return Br(this,n),t.call(this,e,"google.com",r)}return Wr(n)}(ll),vl=function(e){$r(n,e);var t=ti(n);function n(e,r,i){return Br(this,n),t.call(this,e,"twitter.com",r,i)}return Wr(n)}(fl);function ml(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=ku(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new ll(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new hl(a,i);case"github.com":return new dl(a,i);case"google.com":return new pl(a,i);case"twitter.com":return new vl(a,i,e.screenName||null);case"custom":case"anonymous":return new ll(a,null);default:return new ll(a,r,i)}}(n)}var yl=function(){function e(t,n,r){Br(this,e),this.type=t,this.credential=n,this.auth=r}return Wr(e,[{key:"toJSON",value:function(){var e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:(0,zr.Z)({},e,this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),gl=function(){function e(t,n,r){Br(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Wr(e,[{key:"resolveSignIn",value:function(){var e=Vi(Fi().mark((function e(t){var n;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=ys(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Vc._fromServerResponse(r,e)}));Zo(i.mfaPendingCredential,r,"internal-error");var o=yl._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Vi(Fi().mark((function e(t){var a,u,s;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,vc._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Zo(n.user,r,"internal-error"),e.abrupt("return",vc._forOperation(n.user,n.operationType,u));case 17:Uo(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function bl(e,t){return nu(e,"POST","/v2/accounts/mfaEnrollment:start",tu(e,t))}function kl(e,t){return nu(e,"POST","/v2/accounts/mfaEnrollment:start",tu(e,t))}function wl(e,t){return nu(e,"POST","/v2/accounts/mfaEnrollment:finalize",tu(e,t))}function xl(e,t){return nu(e,"POST","/v2/accounts/mfaEnrollment:withdraw",tu(e,t))}var _l=function(){function e(t){var n=this;Br(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Vc._fromServerResponse(t.auth,e)})))}))}return Wr(e,[{key:"getSession",value:function(){var e=Vi(Fi().mark((function e(){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=yl,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Vi(Fi().mark((function e(t,n){var r,i,a;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,wu(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Vi(Fi().mark((function e(t){var n,r,i;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,wu(this.user,xl(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Sl=new WeakMap;var El="__sak",Il=function(){function e(t,n){Br(this,e),this.storageRetriever=t,this.type=n}return Wr(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(El,"1"),this.storage.removeItem(El),Promise.resolve(!0)):Promise.resolve(!1)}catch(SR){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Tl=function(e){$r(n,e);var t=ti(n);function n(){var e;return Br(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=mi();return Zu(e)||$u(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Ju(),e._shouldAllowMigration=!0,e}return Wr(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Xu()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Vi(Fi().mark((function e(t,r){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,go(Yr(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Vi(Fi().mark((function e(t){var r;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,go(Yr(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Vi(Fi().mark((function e(t){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,go(Yr(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Il);Tl.type="LOCAL";var Cl=Tl,Al=function(e){$r(n,e);var t=ti(n);function n(){return Br(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Wr(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Il);Al.type="SESSION";var Rl=Al;function Ol(e){return Promise.all(e.map(function(){var e=Vi(Fi().mark((function e(t){var n;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Nl=function(){function e(t){Br(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Wr(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Vi(Fi().mark((function e(t){var n,r,i,a,o,u,s,c;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Vi(Fi().mark((function e(t){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Ol(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Pl(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Nl.receivers=[];var Dl=function(){function e(t){Br(this,e),this.target=t,this.handlers=new Set}return Wr(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Vi(Fi().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Pl("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Ml(){return window}function Ll(e){Ml().location.href=e}function Fl(){return"undefined"!==typeof Ml().WorkerGlobalScope&&"function"===typeof Ml().importScripts}function jl(){return Ul.apply(this,arguments)}function Ul(){return(Ul=Vi(Fi().mark((function e(){var t;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Vl(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var zl="firebaseLocalStorageDb",Bl="firebaseLocalStorage",ql="fbase_key",Zl=function(){function e(t){Br(this,e),this.request=t}return Wr(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Wl(e,t){return e.transaction([Bl],t?"readwrite":"readonly").objectStore(Bl)}function Kl(){var e=indexedDB.deleteDatabase(zl);return new Zl(e).toPromise()}function Gl(){var e=indexedDB.open(zl,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Bl,{keyPath:ql})}catch(r){n(r)}})),e.addEventListener("success",Vi(Fi().mark((function n(){var r;return Fi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Bl)){n.next=12;break}return r.close(),n.next=5,Kl();case 5:return n.t0=t,n.next=8,Gl();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Hl(e,t,n){return Ql.apply(this,arguments)}function Ql(){return Ql=Vi(Fi().mark((function e(t,n,r){var i,a;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Wl(t,!0).put((i={},(0,zr.Z)(i,ql,n),(0,zr.Z)(i,"value",r),i)),e.abrupt("return",new Zl(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Ql.apply(this,arguments)}function $l(e,t){return Yl.apply(this,arguments)}function Yl(){return Yl=Vi(Fi().mark((function e(t,n){var r,i;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wl(t,!1).get(n),e.next=3,new Zl(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Yl.apply(this,arguments)}function Xl(e,t){var n=Wl(e,!0).delete(t);return new Zl(n).toPromise()}var Jl=function(){function e(){Br(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Wr(e,[{key:"_openDb",value:function(){var e=Vi(Fi().mark((function e(){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Gl();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Vi(Fi().mark((function e(t){var n,r;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Vi(Fi().mark((function e(){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fl()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Vi(Fi().mark((function e(){var t=this;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Nl._getInstance(Fl()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Vi(Fi().mark((function e(n,r){var i;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Vi(Fi().mark((function e(t,n){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Vi(Fi().mark((function e(){var t,n,r;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jl();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Dl(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Vi(Fi().mark((function e(t){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Vl()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Vi(Fi().mark((function e(){var t;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Gl();case 5:return t=e.sent,e.next=8,Hl(t,El,"1");case 8:return e.next=10,Xl(t,El);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Vi(Fi().mark((function e(t){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Vi(Fi().mark((function e(t,n){var r=this;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Vi(Fi().mark((function e(){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Hl(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Vi(Fi().mark((function e(t){var n;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return $l(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Vi(Fi().mark((function e(t){var n=this;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Vi(Fi().mark((function e(){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Xl(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Vi(Fi().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Wl(e,!1).getAll();return new Zl(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Gr(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Vi(Fi().mark((function t(){return Fi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Jl.type="LOCAL";var ef=Jl;function tf(e,t){return nu(e,"POST","/v2/accounts/mfaSignIn:start",tu(e,t))}function nf(e,t){return nu(e,"POST","/v2/accounts/mfaSignIn:finalize",tu(e,t))}var rf=1e12,af=function(){function e(t){Br(this,e),this.auth=t,this.counter=rf,this._widgets=new Map}return Wr(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new of(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||rf;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||rf;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Vi(Fi().mark((function e(t){var n,r;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||rf,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),of=function(){function e(t,n,r){var i=this;Br(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Zo(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Wr(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var uf=cs("rcb"),sf=new $o(3e4,6e4),cf="https://www.google.com/recaptcha/api.js?",lf=function(){function e(){var t;Br(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=Ml().grecaptcha)||void 0===t?void 0:t.render)}return Wr(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Zo(ff(n),e,"argument-error"),this.shouldResolveImmediately(n)&&as(Ml().grecaptcha)?Promise.resolve(Ml().grecaptcha):new Promise((function(r,i){var a=Ml().setTimeout((function(){i(Vo(e,"network-request-failed"))}),sf.get());Ml()[uf]=function(){Ml().clearTimeout(a),delete Ml()[uf];var o=Ml().grecaptcha;if(o&&as(o)){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Vo(e,"internal-error"))},ss("".concat(cf,"?").concat(Ri({onload:uf,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Vo(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=Ml().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function ff(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var hf=function(){function e(){Br(this,e)}return Wr(e,[{key:"load",value:function(){var e=Vi(Fi().mark((function e(t){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new af(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),df="recaptcha",pf={theme:"light",type:"image"},vf=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},pf),r=arguments.length>2?arguments[2]:void 0;Br(this,e),this.parameters=n,this.type=df,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ys(r),this.isInvisible="invisible"===this.parameters.size,Zo("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Zo(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new hf:new lf,this.validateStartingState()}return Wr(e,[{key:"verify",value:function(){var e=Vi(Fi().mark((function e(){var t,n,r,i=this;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Zo(!this.parameters.sitekey,this.auth,"argument-error"),Zo(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Zo("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Ml()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Zo(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Vi(Fi().mark((function e(){var t,n;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Vi(Fi().mark((function e(){var t;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zo(Ho()&&!Fl(),this.auth,"internal-error"),e.next=3,mf();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,ts(this.auth);case 8:Zo(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Zo(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function mf(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var yf=function(){function e(t,n){Br(this,e),this.verificationId=t,this.onConfirmation=n}return Wr(e,[{key:"confirm",value:function(e){var t=tc._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function gf(){return gf=Vi(Fi().mark((function e(t,n,r){var i,a;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ys(t),e.next=3,xf(i,n,Li(r));case 3:return a=e.sent,e.abrupt("return",new yf(a,(function(e){return Oc(i,e)})));case 5:case"end":return e.stop()}}),e)}))),gf.apply(this,arguments)}function bf(e,t,n){return kf.apply(this,arguments)}function kf(){return(kf=Vi(Fi().mark((function e(t,n,r){var i,a;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Li(t),e.next=3,Ec(!1,i,"phone");case 3:return e.next=5,xf(i.auth,n,Li(r));case 5:return a=e.sent,e.abrupt("return",new yf(a,(function(e){return Pc(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wf(){return(wf=Vi(Fi().mark((function e(t,n,r){var i,a;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Li(t),e.next=3,xf(i.auth,n,Li(r));case 3:return a=e.sent,e.abrupt("return",new yf(a,(function(e){return Mc(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xf(e,t,n){return _f.apply(this,arguments)}function _f(){return _f=Vi(Fi().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Zo("string"===typeof a,t,"argument-error"),Zo(r.type===df,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Zo("enroll"===u.type,t,"internal-error"),e.next=13,bl(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Zo("signin"===u.type,t,"internal-error"),Zo(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,tf(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Qs(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),_f.apply(this,arguments)}function Sf(){return(Sf=Vi(Fi().mark((function e(t,n){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_c(Li(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ef=function(){function e(t){Br(this,e),this.providerId=e.PROVIDER_ID,this.auth=ys(t)}return Wr(e,[{key:"verifyPhoneNumber",value:function(e,t){return xf(this.auth,e,Li(t))}}],[{key:"credential",value:function(e,t){return tc._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?tc._fromTokenResponse(n,r):null}}]),e}();function If(e,t){return t?Fu(t):(Zo(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ef.PROVIDER_ID="phone",Ef.PHONE_SIGN_IN_METHOD="phone";var Tf=function(e){$r(n,e);var t=ti(n);function n(e){var r;return Br(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Wr(n,[{key:"_getIdTokenResponse",value:function(e){return Ks(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Ks(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Ks(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(xs);function Cf(e){return Ac(e.auth,new Tf(e),e.bypassAuthState)}function Af(e){var t=e.auth,n=e.user;return Zo(n,t,"internal-error"),Tc(n,new Tf(e),e.bypassAuthState)}function Rf(e){return Of.apply(this,arguments)}function Of(){return Of=Vi(Fi().mark((function e(t){var n,r;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Zo(r=t.user,n,"internal-error"),e.abrupt("return",_c(r,new Tf(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Of.apply(this,arguments)}var Nf=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Br(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Wr(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Vi(Fi().mark((function t(n,r){return Fi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Vi(Fi().mark((function e(t){var n,r,i,a,o,u,s;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Cf;case"linkViaPopup":case"linkViaRedirect":return Rf;case"reauthViaPopup":case"reauthViaRedirect":return Af;default:Uo(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Ko(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Ko(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Pf=new $o(2e3,1e4);function Df(e,t,n){return Mf.apply(this,arguments)}function Mf(){return Mf=Vi(Fi().mark((function e(t,n,r){var i,a,o;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ys(t),Bo(t,n,ic),a=If(i,r),o=new Uf(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Mf.apply(this,arguments)}function Lf(){return(Lf=Vi(Fi().mark((function e(t,n,r){var i,a,o;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bo((i=Li(t)).auth,n,ic),a=If(i.auth,r),o=new Uf(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ff(e,t,n){return jf.apply(this,arguments)}function jf(){return(jf=Vi(Fi().mark((function e(t,n,r){var i,a,o;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bo((i=Li(t)).auth,n,ic),a=If(i.auth,r),o=new Uf(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Uf=function(e){$r(n,e);var t=ti(n);function n(e,r,i,a,o){var u;return Br(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Hr(u),u}return Wr(n,[{key:"executeNotNull",value:function(){var e=Vi(Fi().mark((function e(){var t;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Zo(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Vi(Fi().mark((function e(){var t,n=this;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ko(1===this.filter.length,"Popup operations only handle one event"),t=Pl(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Vo(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Vo(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Vo(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,Pf.get())}()}}]),n}(Nf);Uf.currentPopupAction=null;var Vf=new Map,zf=function(e){$r(n,e);var t=ti(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Br(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Wr(n,[{key:"execute",value:function(){var e=Vi(Fi().mark((function e(){var t,r;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Vf.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Bf(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,go(Yr(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Vf.set(this.auth._key(),t);case 21:return this.bypassAuthState||Vf.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Vi(Fi().mark((function e(t){var r;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",go(Yr(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",go(Yr(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Vi(Fi().mark((function e(){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Nf);function Bf(e,t){return qf.apply(this,arguments)}function qf(){return qf=Vi(Fi().mark((function e(t,n){var r,i,a;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hf(n),i=Gf(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),qf.apply(this,arguments)}function Zf(e,t){return Wf.apply(this,arguments)}function Wf(){return Wf=Vi(Fi().mark((function e(t,n){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gf(t)._set(Hf(n),"true"));case 1:case"end":return e.stop()}}),e)}))),Wf.apply(this,arguments)}function Kf(e,t){Vf.set(e._key(),t)}function Gf(e){return Fu(e._redirectPersistence)}function Hf(e){return Vu("pendingRedirect",e.config.apiKey,e.name)}function Qf(e,t,n){return function(e,t,n){return $f.apply(this,arguments)}(e,t,n)}function $f(){return $f=Vi(Fi().mark((function e(t,n,r){var i,a;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ys(t),Bo(t,n,ic),e.next=4,i._initializationPromise;case 4:return a=If(i,r),e.next=7,Zf(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)}))),$f.apply(this,arguments)}function Yf(e,t,n){return function(e,t,n){return Xf.apply(this,arguments)}(e,t,n)}function Xf(){return(Xf=Vi(Fi().mark((function e(t,n,r){var i,a,o;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bo((i=Li(t)).auth,n,ic),e.next=4,i.auth._initializationPromise;case 4:return a=If(i.auth,r),e.next=7,Zf(a,i.auth);case 7:return e.next=9,ah(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jf(e,t,n){return function(e,t,n){return eh.apply(this,arguments)}(e,t,n)}function eh(){return(eh=Vi(Fi().mark((function e(t,n,r){var i,a,o;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bo((i=Li(t)).auth,n,ic),e.next=4,i.auth._initializationPromise;case 4:return a=If(i.auth,r),e.next=7,Ec(!1,i,n.providerId);case 7:return e.next=9,Zf(a,i.auth);case 9:return e.next=11,ah(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function th(e,t){return nh.apply(this,arguments)}function nh(){return nh=Vi(Fi().mark((function e(t,n){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ys(t)._initializationPromise;case 2:return e.abrupt("return",rh(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),nh.apply(this,arguments)}function rh(e,t){return ih.apply(this,arguments)}function ih(){return ih=Vi(Fi().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=ys(t),a=If(i,n),o=new zf(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),ih.apply(this,arguments)}function ah(e){return oh.apply(this,arguments)}function oh(){return(oh=Vi(Fi().mark((function e(t){var n;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Pl("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var uh=function(){function e(t){Br(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Wr(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ch(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!ch(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Vo(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(sh(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(sh(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function sh(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function ch(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function lh(e){return fh.apply(this,arguments)}function fh(){return fh=Vi(Fi().mark((function e(t){var n,r=arguments;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",nu(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),fh.apply(this,arguments)}var hh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dh=/^https?/;function ph(){return ph=Vi(Fi().mark((function e(t){var n,r,i,a,o;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,lh(t);case 4:n=e.sent,r=n.authorizedDomains,i=Gr(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!vh(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Uo(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),ph.apply(this,arguments)}function vh(e){var t=Go(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!dh.test(r))return!1;if(hh.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var mh=new $o(3e4,6e4);function yh(){var e=Ml().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=(0,ji.Z)(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var gh=null;function bh(e){return gh=gh||function(e){return new Promise((function(t,n){var r,i,a;function o(){yh(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){yh(),n(Vo(e,"network-request-failed"))},timeout:mh.get()})}if(null===(i=null===(r=Ml().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Ml().gapi)||void 0===a?void 0:a.load)){var u=cs("iframefcb");return Ml()[u]=function(){gapi.load?o():n(Vo(e,"network-request-failed"))},ss("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw gh=null,e}))}(e),gh}var kh=new $o(5e3,15e3),wh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _h(e){var t=e.config;Zo(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Yo(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:La},i=xh.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Ri(r).slice(1))}function Sh(e){return Eh.apply(this,arguments)}function Eh(){return Eh=Vi(Fi().mark((function e(t){var n,r;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bh(t);case 2:return n=e.sent,Zo(r=Ml().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:_h(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wh,dontclear:!0},(function(e){return new Promise(function(){var n=Vi(Fi().mark((function n(r,i){var a,o,u;return Fi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Ml().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Vo(t,"network-request-failed"),o=Ml().setTimeout((function(){i(a)}),kh.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Eh.apply(this,arguments)}var Ih={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Th="_blank",Ch="http://localhost",Ah=function(){function e(t){Br(this,e),this.window=t,this.associatedEvent=null}return Wr(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Rh(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,o=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",c=Object.assign(Object.assign({},Ih),{width:r.toString(),height:a.toString(),top:o,left:u}),l=mi().toLowerCase();n&&(s=Wu(l)?Th:n),qu(l)&&(t=t||Ch,c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=(0,i.Z)(t,2),r=n[0],a=n[1];return"".concat(e).concat(r,"=").concat(a,",")}),"");if(Yu(l)&&"_self"!==s)return Oh(t||"",s),new Ah(null);var h=window.open(t||"",s,f);Zo(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Ah(h)}function Oh(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Nh=encodeURIComponent("fac");function Ph(e,t,n,r,i,a){return Dh.apply(this,arguments)}function Dh(){return Dh=Vi(Fi().mark((function e(t,n,r,a,o,u){var s,c,l,f,h,d,p,v,m,y,g,b,k;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Zo(t.config.authDomain,t,"auth-domain-config-required"),Zo(t.config.apiKey,t,"invalid-api-key"),s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:a,v:La,eventId:o},n instanceof ic)for(n.setDefaultLanguage(t.languageCode),s.providerId=n.providerId||"",Ti(n.getCustomParameters())||(s.customParameters=JSON.stringify(n.getCustomParameters())),c=0,l=Object.entries(u||{});c<l.length;c++)f=(0,i.Z)(l[c],2),h=f[0],d=f[1],s[h]=d;for(n instanceof ac&&(p=n.getScopes().filter((function(e){return""!==e}))).length>0&&(s.scopes=p.join(",")),t.tenantId&&(s.tid=t.tenantId),v=s,m=0,y=Object.keys(v);m<y.length;m++)g=y[m],void 0===v[g]&&delete v[g];return e.next=10,t._getAppCheckToken();case 10:return b=e.sent,k=b?"#".concat(Nh,"=").concat(encodeURIComponent(b)):"",e.abrupt("return","".concat(Mh(t),"?").concat(Ri(v).slice(1)).concat(k));case 13:case"end":return e.stop()}}),e)}))),Dh.apply(this,arguments)}function Mh(e){var t=e.config;return t.emulator?Yo(t,"emulator/auth/handler"):"https://".concat(t.authDomain,"/").concat("__/auth/handler")}var Lh="webStorageSupport",Fh=function(){function e(){Br(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Rl,this._completeRedirectFn=rh,this._overrideRedirectResult=Kf}return Wr(e,[{key:"_openPopup",value:function(){var e=Vi(Fi().mark((function e(t,n,r,i){var a,o;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ko(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,Ph(t,n,r,Go(),i);case 3:return o=e.sent,e.abrupt("return",Rh(t,o,Pl()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Vi(Fi().mark((function e(t,n,r,i){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,Ph(t,n,r,Go(),i);case 4:return Ll(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Ko(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Vi(Fi().mark((function e(t){var n,r;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sh(t);case 2:return n=e.sent,r=new uh(t),n.register("authEvent",(function(e){return Zo(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Lh,{type:Lh},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Uo(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return ph.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Ju()||Zu()||$u()}}]),e}(),jh=Fh,Uh=function(){function e(t){Br(this,e),this.factorId=t}return Wr(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Wo("unexpected MultiFactorSessionType")}}}]),e}(),Vh=function(e){$r(n,e);var t=ti(n);function n(e){var r;return Br(this,n),(r=t.call(this,"phone")).credential=e,r}return Wr(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return nu(e,"POST","/v2/accounts/mfaEnrollment:finalize",tu(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return nu(e,"POST","/v2/accounts/mfaSignIn:finalize",tu(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Uh),zh=function(){function e(){Br(this,e)}return Wr(e,null,[{key:"assertion",value:function(e){return Vh._fromCredential(e)}}]),e}();zh.FACTOR_ID="phone";var Bh=function(){function e(){Br(this,e)}return Wr(e,null,[{key:"assertionForEnrollment",value:function(e,t){return qh._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return qh._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=Vi(Fi().mark((function e(t){var n,r;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zo("undefined"!==typeof(n=t).auth,"internal-error"),e.next=4,kl(n.auth,{idToken:n.credential,totpEnrollmentInfo:{}});case 4:return r=e.sent,e.abrupt("return",Zh._fromStartTotpMfaEnrollmentResponse(r,n.auth));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();Bh.FACTOR_ID="totp";var qh=function(e){$r(n,e);var t=ti(n);function n(e,r,i){var a;return Br(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return Wr(n,[{key:"_finalizeEnroll",value:function(){var e=Vi(Fi().mark((function e(t,n,r){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zo("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",wl(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=Vi(Fi().mark((function e(t,n){var r;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zo(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",nf(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(Uh),Zh=function(){function e(t,n,r,i,a,o,u){Br(this,e),this.sessionInfo=o,this.auth=u,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return Wr(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(Wh(e)||Wh(t))&&(r=!0),r&&(Wh(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),Wh(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function Wh(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var Kh="@firebase/auth",Gh="0.23.2",Hh=function(){function e(t){Br(this,e),this.auth=t,this.internalListeners=new Map}return Wr(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Vi(Fi().mark((function e(t){var n;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Zo(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var Qh;!function(e){var t;null===(t=hi())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function $h(){return window}Qh="Browser",Aa(new zi("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,u=o.apiKey,s=o.authDomain;Zo(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:u,authDomain:s,clientPlatform:Qh,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:es(Qh)},l=new ms(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Fu);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Aa(new zi("auth-internal",(function(e){return function(e){return new Hh(e)}(ys(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Ba(Kh,Gh,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Qh)),Ba(Kh,Gh,"esm2017");function Yh(e,t,n){return Xh.apply(this,arguments)}function Xh(){return Xh=Vi(Fi().mark((function e(t,n,r){var i,a,o,u,s;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=$h(),o=a.BuildInfo,Ko(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,id(n.sessionId);case 4:return u=e.sent,s={},$u()?s.ibi=o.packageName:Gu()?s.apn=o.packageName:Uo(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",Ph(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),Xh.apply(this,arguments)}function Jh(){return Jh=Vi(Fi().mark((function e(t){var n,r,i;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$h(),r=n.BuildInfo,i={},$u()?i.iosBundleId=r.packageName:Gu()?i.androidPackageName=r.packageName:Uo(t,"operation-not-supported-in-this-environment"),e.next=5,lh(t,i);case 5:case"end":return e.stop()}}),e)}))),Jh.apply(this,arguments)}function ed(e){var t=$h().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mi();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function td(e,t,n){return nd.apply(this,arguments)}function nd(){return nd=Vi(Fi().mark((function e(t,n,r){var i,a,o;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=$h(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(Vo(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Gu()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),nd.apply(this,arguments)}function rd(e){var t,n,r,i,a,o,u,s,c,l,f=$h();Zo("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Zo("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Zo("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Zo("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Zo("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function id(e){return ad.apply(this,arguments)}function ad(){return(ad=Vi(Fi().mark((function e(t){var n,r,i;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=od(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function od(e){if(Ko(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var ud=function(e){$r(n,e);var t=ti(n);function n(){var e;return Br(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Wr(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),go(Yr(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Vi(Fi().mark((function e(){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(uh);function sd(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:dd(),postBody:null,tenantId:e.tenantId,error:Vo(e,"no-auth-event")}}function cd(e,t){return pd()._set(vd(e),t)}function ld(e){return fd.apply(this,arguments)}function fd(){return fd=Vi(Fi().mark((function e(t){var n;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pd()._get(vd(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,pd()._remove(vd(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),fd.apply(this,arguments)}function hd(e,t){var n,r,i=function(e){var t=md(e),n=t.link?decodeURIComponent(t.link):void 0,r=md(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return md(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=md(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?Vo(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function dd(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function pd(){return Fu(Cl)}function vd(e){return Vu("authEvent",e.config.apiKey,e.name)}function md(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=(t=n,(0,po.Z)(t)||(0,vo.Z)(t)||(0,Kr.Z)(t)||(0,mo.Z)());r[0];return Oi(r.slice(1).join("?"))}var yd=function(){function e(){Br(this,e),this._redirectPersistence=Rl,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=rh,this._overrideRedirectResult=Kf}return Wr(e,[{key:"_initialize",value:function(){var e=Vi(Fi().mark((function e(t){var n,r;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new ud(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Uo(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Vi(Fi().mark((function e(t,n,r,i){var a,o,u,s;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rd(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Vf.clear(),e.next=10,this._originValidation(t);case 10:return o=sd(t,r,i),e.next=13,cd(t,o);case 13:return e.next=15,Yh(t,o,n);case 15:return u=e.sent,e.next=18,ed(u);case 18:return s=e.sent,e.abrupt("return",td(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Jh.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=$h(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Vi(Fi().mark((function n(){return Fi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ld(e);case 2:t.onEvent(bd());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Vi(Fi().mark((function n(r){var i,a;return Fi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,ld(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=hd(i,r.url)),t.onEvent(a||bd());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");$h().handleOpenURL=function(){var e=Vi(Fi().mark((function e(t){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),gd=yd;function bd(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Vo("no-auth-event")}}function kd(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function wd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mi();return!("file:"!==kd()&&"ionic:"!==kd()&&"capacitor:"!==kd()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function xd(){return ki()&&11===(null===document||void 0===document?void 0:document.documentMode)}function _d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mi();return/Edge\/\d+/.test(e)}function Sd(){try{var e=self.localStorage,t=Pl();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mi();return xd()||_d(e)}()||wi()}catch(n){return Ed()&&wi()}return!1}function Ed(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Id(){return("http:"===kd()||"https:"===kd()||gi()||wd())&&!(bi()||yi())&&Sd()&&!Ed()}function Td(){return wd()&&"undefined"!==typeof document}function Cd(){return Ad.apply(this,arguments)}function Ad(){return(Ad=Vi(Fi().mark((function e(){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Td()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Rd={LOCAL:"local",NONE:"none",SESSION:"session"},Od=Zo,Nd="persistence";function Pd(e,t){Od(Object.values(Rd).includes(t),e,"invalid-persistence-type"),bi()?Od(t!==Rd.SESSION,e,"unsupported-persistence-type"):yi()?Od(t===Rd.NONE,e,"unsupported-persistence-type"):Ed()?Od(t===Rd.NONE||t===Rd.LOCAL&&wi(),e,"unsupported-persistence-type"):Od(t===Rd.NONE||Sd(),e,"unsupported-persistence-type")}function Dd(e){return Md.apply(this,arguments)}function Md(){return Md=Vi(Fi().mark((function e(t){var n,r;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Ld(),r=Vu(Nd,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),Md.apply(this,arguments)}function Ld(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var Fd=Zo,jd=function(){function e(){Br(this,e),this.browserResolver=Fu(jh),this.cordovaResolver=Fu(gd),this.underlyingResolver=null,this._redirectPersistence=Rl,this._completeRedirectFn=rh,this._overrideRedirectResult=Kf}return Wr(e,[{key:"_initialize",value:function(){var e=Vi(Fi().mark((function e(t){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Vi(Fi().mark((function e(t,n,r,i){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Vi(Fi().mark((function e(t,n,r,i){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Td()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Fd(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Vi(Fi().mark((function e(){var t;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Cd();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ud(e){return e.unwrap()}function Vd(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new Wd(e,function(e,t){var n,r=Li(e),i=t;return Zo(t.customData.operationType,r,"argument-error"),Zo(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),gl._fromError(r,i)}(e,t));else if(r){var i=zd(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function zd(e){var t=(e instanceof xi?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof xi)&&"temporaryProof"in t&&"phoneNumber"in t)return Ef.credentialFromResult(e);var n,r=t.providerId;if(!r||r===So)return null;switch(r){case _o:n=sc;break;case wo:n=uc;break;case xo:n=cc;break;case Eo:n=hc;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?lc._create(r,u):Hs._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new oc(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof xi?n.credentialFromError(e):n.credentialFromResult(e)}function Bd(e,t){return t.catch((function(t){throw t instanceof xi&&Vd(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,zd(t)),additionalUserInfo:ml(e),user:Kd.getOrCreate(r)}}))}function qd(e,t){return Zd.apply(this,arguments)}function Zd(){return Zd=Vi(Fi().mark((function e(t,n){var r;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Bd(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),Zd.apply(this,arguments)}var Wd=function(){function e(t,n){Br(this,e),this.resolver=n,this.auth=t.wrapped()}return Wr(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Bd(Ud(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Kd=function(){function e(t){Br(this,e),this._delegate=t,this.multiFactor=function(e){var t=Li(e);return Sl.has(t)||Sl.set(t,_l._fromUser(t)),Sl.get(t)}(t)}return Wr(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Vi(Fi().mark((function e(t){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bd(this.auth,Pc(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Vi(Fi().mark((function e(t,n){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qd(this.auth,bf(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Vi(Fi().mark((function e(t){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bd(this.auth,Ff(this._delegate,t,jd)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Vi(Fi().mark((function e(t){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dd(ys(this.auth));case 2:return e.abrupt("return",Jf(this._delegate,t,jd));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Vi(Fi().mark((function e(t){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bd(this.auth,Mc(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return qd(this.auth,function(e,t,n){return wf.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Bd(this.auth,function(e,t,n){return Lf.apply(this,arguments)}(this._delegate,e,jd))}},{key:"reauthenticateWithRedirect",value:function(){var e=Vi(Fi().mark((function e(t){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dd(ys(this.auth));case 2:return e.abrupt("return",Yf(this._delegate,t,jd));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return rl.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Vi(Fi().mark((function e(t){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wc(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return sl(Li(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return sl(Li(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Sf.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return ul.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return il.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Kd.USER_MAP=new WeakMap;var Gd=Zo,Hd=function(){function e(t,n){if(Br(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Gd(r,"invalid-api-key",{appName:t.name}),Gd(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?jd:void 0;this._delegate=n.initialize({options:{persistence:$d(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Po),this.linkUnderlyingAuth()}return Wr(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Kd.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){bs(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Kc.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Gc(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Wc.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Vi(Fi().mark((function e(t,n){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bd(this._delegate,$c(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return nl.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=nc.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Vi(Fi().mark((function e(){var t;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gd(Id(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,th(this._delegate,jd);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Bd(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){ys(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Qd(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Qd(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Xc.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Zc.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Vi(Fi().mark((function e(t){var n,r;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Pd(this._delegate,t),e.t0=t,e.next=e.t0===Rd.SESSION?4:e.t0===Rd.LOCAL?6:e.t0===Rd.NONE?11:13;break;case 4:return n=Rl,e.abrupt("break",14);case 6:return e.next=8,Fu(ef)._isAvailable();case 8:return r=e.sent,n=r?ef:Cl,e.abrupt("break",14);case 11:return n=Uu,e.abrupt("break",14);case 13:return e.abrupt("return",Uo("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Bd(this._delegate,function(e){return yc.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Bd(this._delegate,Oc(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Bd(this._delegate,function(e,t){return Uc.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Bd(this._delegate,function(e,t,n){return Oc(Li(e),rc.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Bd(this._delegate,function(e,t,n){return Jc.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return qd(this._delegate,function(e,t,n){return gf.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Vi(Fi().mark((function e(t){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gd(Id(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Bd(this._delegate,Df(this._delegate,t,jd)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Vi(Fi().mark((function e(t){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gd(Id(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Dd(this._delegate);case 3:return e.abrupt("return",Qf(this._delegate,t,jd));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Qc.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Qd(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Kd.getOrCreate(e))},error:t,complete:n}}function $d(e,t){var n=function(e,t){var n=Ld();if(!n)return[];var r=Vu(Nd,e,t);switch(n.getItem(r)){case Rd.NONE:return[Uu];case Rd.LOCAL:return[ef,Rl];case Rd.SESSION:return[Rl];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(ef)||n.push(ef),"undefined"!==typeof window)for(var r=0,i=[Cl,Rl];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Uu)||n.push(Uu),n}Hd.Persistence=Rd;var Yd=function(){function e(){Br(this,e),this.providerId="phone",this._delegate=new Ef(Ud(ho.auth()))}return Wr(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Ef.credential(e,t)}}]),e}();Yd.PHONE_SIGN_IN_METHOD=Ef.PHONE_SIGN_IN_METHOD,Yd.PROVIDER_ID=Ef.PROVIDER_ID;var Xd,Jd=Zo,ep=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ho.app();Br(this,e),Jd(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new vf(t,n,i.auth()),this.type=this._delegate.type}return Wr(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(Xd=ho).INTERNAL.registerComponent(new zi("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Hd(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Io,PASSWORD_RESET:To,RECOVER_EMAIL:Co,REVERT_SECOND_FACTOR_ADDITION:Ao,VERIFY_AND_CHANGE_EMAIL:Ro,VERIFY_EMAIL:Oo}},EmailAuthProvider:rc,FacebookAuthProvider:uc,GithubAuthProvider:cc,GoogleAuthProvider:sc,OAuthProvider:oc,SAMLAuthProvider:fc,PhoneAuthProvider:Yd,PhoneMultiFactorGenerator:zh,RecaptchaVerifier:ep,TwitterAuthProvider:hc,Auth:Hd,AuthCredential:xs,Error:xi}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Xd.registerVersion("@firebase/auth-compat","0.4.2");var tp,np="firebasestorage.googleapis.com",rp=function(e){$r(n,e);var t=ti(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Br(this,n),(i=t.call(this,ip(e),"Firebase Storage: ".concat(r," (").concat(ip(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(Hr(i),n.prototype),i}return Wr(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return ip(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(xi);function ip(e){return"storage/"+e}function ap(){return new rp(tp.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function op(){return new rp(tp.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function up(){return new rp(tp.CANCELED,"User canceled the upload/download.")}function sp(){return new rp(tp.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function cp(e){return new rp(tp.INVALID_ARGUMENT,e)}function lp(){return new rp(tp.APP_DELETED,"The Firebase app was deleted.")}function fp(e){return new rp(tp.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function hp(e,t){return new rp(tp.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function dp(e){throw new rp(tp.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(tp||(tp={}));var pp,vp=function(){function e(t,n){Br(this,e),this.bucket=t,this.path_=n}return Wr(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r,i;try{r=e.makeFromUrl(t,n)}catch(a){return new e(t,"")}if(""===r.path)return r;throw i=t,new rp(tp.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var u=n.replace(/[.]/g,"\\."),s=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(u,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===np?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<s.length;c++){var l=s[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new rp(tp.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return r}}]),e}(),mp=function(){function e(t){Br(this,e),this.promise_=Promise.reject(t)}return Wr(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function yp(e){return"string"===typeof e||e instanceof String}function gp(e){return bp()&&e instanceof Blob}function bp(){return"undefined"!==typeof Blob&&!yi()}function kp(e,t,n,r){if(r<t)throw cp("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw cp("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function wp(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function xp(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function _p(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(pp||(pp={}));var Sp=function(){function e(t,n,r,i,a,o,u,s,c,l,f){var h=this,d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];Br(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return Wr(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(s){i(s)}else if(null!==a){var u=ap();u.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,u)):i(u)}else{if(n.canceled)i(e.appDelete_?lp():up());else i(op())}};this.canceled_?t(0,new Ep(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,u=0;function s(){return 2===u}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,s())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(s()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(u=2),clearTimeout(i),f(0)):e||(u=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new Ep(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===pp.NO_ERROR,a=r.getStatus();if(!n||_p(a,e.additionalRetryCodes_)&&e.retry){var o=r.getErrorCode()===pp.ABORT;t(!1,new Ep(!1,null,o))}else{var u=-1!==e.successCodes_.indexOf(a);t(!0,new Ep(u,r))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),Ep=Wr((function e(t,n,r){Br(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function Ip(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}function Tp(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}function Cp(e,t){t&&(e["X-Firebase-GMPID"]=t)}function Ap(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}function Rp(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],u=xp(e.urlParams),s=e.url+u,c=Object.assign({},e.headers);return Cp(c,t),Ip(c,n),Tp(c,a),Ap(c,r),new Sp(s,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}function Op(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Np(){for(var e=Op(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(bp())return new Blob(n);throw new rp(tp.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function Pp(e){if("undefined"===typeof atob)throw t="base-64",new rp(tp.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}var Dp={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Mp=Wr((function e(t,n){Br(this,e),this.data=t,this.contentType=n||null}));function Lp(e,t){switch(e){case Dp.RAW:return new Mp(Fp(t));case Dp.BASE64:case Dp.BASE64URL:return new Mp(jp(e,t));case Dp.DATA_URL:return new Mp(function(e){var t=new Up(e);return t.base64?jp(Dp.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw hp(Dp.DATA_URL,"Malformed data URL.")}return Fp(t)}(t.rest)}(t),new Up(t).contentType)}throw ap()}function Fp(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function jp(e,t){switch(e){case Dp.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw hp(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Dp.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw hp(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=Pp(t)}catch(c){if(c.message.includes("polyfill"))throw c;throw hp(e,"Invalid character found")}for(var u=new Uint8Array(o.length),s=0;s<o.length;s++)u[s]=o.charCodeAt(s);return u}var Up=Wr((function e(t){Br(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw hp(Dp.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var Vp=function(){function e(t,n){Br(this,e);var r=0,i="";gp(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return Wr(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(gp(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(bp()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(Np.apply(null,i))}var a=n.map((function(e){return yp(e)?Lp(Dp.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var u=new Uint8Array(o),s=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)u[s++]=e[t]})),new e(u,!0)}}]),e}();function zp(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function Bp(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function qp(e,t){return t}var Zp=Wr((function e(t,n,r,i){Br(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||qp})),Wp=null;function Kp(){if(Wp)return Wp;var e=[];e.push(new Zp("bucket")),e.push(new Zp("generation")),e.push(new Zp("metageneration")),e.push(new Zp("name","fullPath",!0));var t=new Zp("name");t.xform=function(e,t){return function(e){return!yp(e)||e.length<2?e:Bp(e)}(t)},e.push(t);var n=new Zp("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Zp("timeCreated")),e.push(new Zp("updated")),e.push(new Zp("md5Hash",null,!0)),e.push(new Zp("cacheControl",null,!0)),e.push(new Zp("contentDisposition",null,!0)),e.push(new Zp("contentEncoding",null,!0)),e.push(new Zp("contentLanguage",null,!0)),e.push(new Zp("contentType",null,!0)),e.push(new Zp("metadata","customMetadata",!0)),Wp=e}function Gp(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new vp(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Hp(e,t,n){var r=zp(t);return null===r?null:Gp(e,r,n)}function Qp(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}function $p(e,t,n){var r=zp(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes){var i,a=Gr(n.prefixes);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),u=e._makeStorageReference(new vp(t,o));r.prefixes.push(u)}}catch(h){a.e(h)}finally{a.f()}}if(n.items){var s,c=Gr(n.items);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=e._makeStorageReference(new vp(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var Yp=Wr((function e(t,n,r,i){Br(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function Xp(e){if(!e)throw ap()}function Jp(e,t){return function(n,r){var i=Hp(e,r,t);return Xp(null!==i),i}}function ev(e,t){return function(n,r){var i=Hp(e,r,t);return Xp(null!==i),function(e,t,n,r){var i=zp(t);if(null===i)return null;if(!yp(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return wp("/b/"+o(i)+"/o/"+o(a),n,r)+xp({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function tv(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new rp(tp.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new rp(tp.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new rp(tp.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new rp(tp.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function nv(e){var t=tv(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new rp(tp.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function rv(e,t,n){var r=wp(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new Yp(r,"GET",Jp(e,n),i);return a.errorHandler=nv(t),a}function iv(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=wp(t.bucketOnlyServerUrl(),e.host,e._protocol),u=e.maxOperationRetryTime,s=new Yp(o,"GET",function(e,t){return function(n,r){var i=$p(e,t,r);return Xp(null!==i),i}}(e,t.bucket),u);return s.urlParams=a,s.errorHandler=tv(t),s}function av(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function ov(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var u=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+u;var s=av(t,r,i),c="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Qp(s,n)+"\r\n--"+u+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",l="\r\n--"+u+"--",f=Vp.getBlob(c,r,l);if(null===f)throw sp();var h={name:s.fullPath},d=wp(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new Yp(d,"POST",Jp(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=tv(t),v}var uv=Wr((function e(t,n,r,i){Br(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function sv(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){Xp(!1)}return Xp(!!n&&-1!==(t||["active"]).indexOf(n)),n}var cv=262144;function lv(e,t,n,r,i,a,o,u){var s=new uv(0,0);if(o?(s.current=o.current,s.total=o.total):(s.current=0,s.total=r.size()),r.size()!==s.total)throw new rp(tp.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var c=s.total-s.current,l=c;i>0&&(l=Math.min(l,i));var f=s.current,h=f+l,d={"X-Goog-Upload-Command":0===l?"finalize":c===l?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(s.current)},p=r.slice(f,h);if(null===p)throw sp();var v=t.maxUploadRetryTime,m=new Yp(n,"POST",(function(e,n){var i,o=sv(e,["active","final"]),u=s.current+l,c=r.size();return i="final"===o?Jp(t,a)(e,n):null,new uv(u,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=u||null,m.errorHandler=tv(e),m}var fv={STATE_CHANGED:"state_changed"},hv={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function dv(e){switch(e){case"running":case"pausing":case"canceling":return hv.RUNNING;case"paused":return hv.PAUSED;case"success":return hv.SUCCESS;case"canceled":return hv.CANCELED;default:return hv.ERROR}}var pv=Wr((function e(t,n,r){Br(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function vv(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var mv=function(){function e(){var t=this;Br(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=pp.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=pp.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=pp.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return Wr(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw dp("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw dp("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw dp("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw dp("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw dp("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),yv=function(e){$r(n,e);var t=ti(n);function n(){return Br(this,n),t.apply(this,arguments)}return Wr(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(mv);function gv(){return new yv}var bv=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Br(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=Kp(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){if(r._request=void 0,r._chunkMultiplier=1,e._codeEquals(tp.CANCELED))r._needToFetchStatus=!0,r.completeTransitions_();else{var t=r.isExponentialBackoffExpired();if(_p(e.status,[])){if(!t)return r.sleepTime=Math.max(2*r.sleepTime,1e3),r._needToFetchStatus=!0,void r.completeTransitions_();e=op()}r._error=e,r._transition("error")}},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals(tp.CANCELED)?r.completeTransitions_():(r._error=e,r._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return Wr(e,[{key:"isExponentialBackoffExpired",value:function(){return this.sleepTime>this.maxSleepTime}},{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){var e=this;"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((function(){e.pendingTimeout=void 0,e._continueUpload()}),this.sleepTime):this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=(0,i.Z)(n,2),a=r[0],o=r[1];switch(t._state){case"running":e(a,o);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=av(t,r,i),u={name:o.fullPath},s=wp(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=Qp(o,n),f=e.maxUploadRetryTime,h=new Yp(s,"POST",(function(e){var t;sv(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){Xp(!1)}return Xp(yp(t)),t}),f);return h.urlParams=u,h.headers=c,h.body=l,h.errorHandler=tv(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,gv,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new Yp(n,"POST",(function(e){var t=sv(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){Xp(!1)}n||Xp(!1);var i=Number(n);return Xp(!isNaN(i)),new uv(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=tv(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,gv,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=cv*this._chunkMultiplier,n=new uv(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=lv(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(s){return e._error=s,void e._transition("error")}var u=e._ref.storage._makeRequest(o,gv,i,a,!1);e._request=u,u.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){2*(cv*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=rv(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,gv,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=ov(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,gv,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=up(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=dv(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new pv(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(dv(this._state)){case hv.SUCCESS:vv(this._resolve.bind(null,this.snapshot))();break;case hv.CANCELED:case hv.ERROR:vv(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(dv(this._state)){case hv.RUNNING:case hv.PAUSED:e.next&&vv(e.next.bind(e,this.snapshot))();break;case hv.SUCCESS:e.complete&&vv(e.complete.bind(e))();break;default:e.error&&vv(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),kv=function(){function e(t,n){Br(this,e),this._service=t,this._location=n instanceof vp?n:vp.makeFromUrl(n,t.host)}return Wr(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new vp(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return Bp(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new vp(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw fp(e)}}]),e}();function wv(e,t,n){return xv.apply(this,arguments)}function xv(){return(xv=Vi(Fi().mark((function e(t,n,r){var i,a,o,u;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,_v(t,o);case 3:if(u=e.sent,(i=n.prefixes).push.apply(i,(0,ji.Z)(u.prefixes)),(a=n.items).push.apply(a,(0,ji.Z)(u.items)),null==u.nextPageToken){e.next=9;break}return e.next=9,wv(t,n,u.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _v(e,t){null!=t&&"number"===typeof t.maxResults&&kp("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=iv(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,gv)}function Sv(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=wp(t.fullServerUrl(),e.host,e._protocol),a=Qp(n,r),o=e.maxOperationRetryTime,u=new Yp(i,"PATCH",Jp(e,r),o);return u.headers={"Content-Type":"application/json; charset=utf-8"},u.body=a,u.errorHandler=nv(t),u}(e.storage,e._location,t,Kp());return e.storage.makeRequestWithTokens(n,gv)}function Ev(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=wp(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new Yp(r,"GET",ev(e,n),i);return a.errorHandler=nv(t),a}(e.storage,e._location,Kp());return e.storage.makeRequestWithTokens(t,gv).then((function(e){if(null===e)throw new rp(tp.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function Iv(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=wp(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new Yp(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=nv(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,gv)}function Tv(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new vp(e._location.bucket,n);return new kv(e.storage,r)}function Cv(e,t){if(e instanceof Nv){var n=e;if(null==n._bucket)throw new rp(tp.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new kv(n,n._bucket);return null!=t?Cv(r,t):r}return void 0!==t?Tv(e,t):e}function Av(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Nv)return new kv(e,t);throw cp("To use ref(service, url), the first argument must be a Storage instance.")}return Cv(e,t)}function Rv(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:vp.makeFromBucketSpec(n,e)}function Ov(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:vi(i,e.app.options.projectId))}var Nv=function(){function e(t,n,r,i,a){Br(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=np,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?vp.makeFromBucketSpec(i,this._host):Rv(this._host,this.app.options)}return Wr(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=vp.makeFromBucketSpec(this._url,e):this._bucket=Rv(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){kp("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){kp("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=Vi(Fi().mark((function e(){var t,n;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Vi(Fi().mark((function e(){var t,n;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new kv(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new mp(lp());var o=Rp(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=Vi(Fi().mark((function e(t,n){var r,a,o,u;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,a=(0,i.Z)(r,2),o=a[0],u=a[1],e.abrupt("return",this._makeRequest(t,n,o,u).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),Pv="@firebase/storage",Dv="0.11.2",Mv="storage";function Lv(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new bv(e,new Vp(t),n)}(e=Li(e),t,n)}function Fv(e){return function(e){e._throwIfRoot("getMetadata");var t=rv(e.storage,e._location,Kp());return e.storage.makeRequestWithTokens(t,gv)}(e=Li(e))}function jv(e){return function(e){var t={prefixes:[],items:[]};return wv(e,t).then((function(){return t}))}(e=Li(e))}function Uv(e,t){return Av(e=Li(e),t)}function Vv(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};Ov(e,t,n,r)}function zv(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new Nv(r,i,a,n,La)}Aa(new zi(Mv,zv,"PUBLIC").setMultipleInstances(!0)),Ba(Pv,Dv,""),Ba(Pv,Dv,"esm2017");var Bv=function(){function e(t,n,r){Br(this,e),this._delegate=t,this.task=n,this.ref=r}return Wr(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),qv=function(){function e(t,n){Br(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Wr(e,[{key:"snapshot",get:function(){return new Bv(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new Bv(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new Bv(e,i,i._ref))}:{next:t.next?function(e){return t.next(new Bv(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),Zv=function(){function e(t,n){Br(this,e),this._delegate=t,this._service=n}return Wr(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new Wv(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new Wv(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),Wv=function(){function e(t,n){Br(this,e),this._delegate=t,this.storage=n}return Wr(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return Tv(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new qv(Lv(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dp.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=Lp(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new qv(new bv(this._delegate,new Vp(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return jv(this._delegate).then((function(t){return new Zv(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return _v(e=Li(e),t)}(this._delegate,e||void 0).then((function(e){return new Zv(e,t.storage)}))}},{key:"getMetadata",value:function(){return Fv(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return Sv(e=Li(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return Ev(Li(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),Iv(Li(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw fp(e)}}]),e}(),Kv=function(){function e(t,n){Br(this,e),this.app=t,this._delegate=n}return Wr(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(Gv(e))throw cp("ref() expected a child path but got a URL, use refFromURL instead.");return new Wv(Uv(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!Gv(e))throw cp("refFromURL() expected a full URL but got a child path, use ref() instead.");try{vp.makeFromUrl(e,this._delegate.host)}catch(t){throw cp("refFromUrl() expected a valid full URL but got an invalid one.")}return new Wv(Uv(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Vv(this._delegate,e,t,n)}}]),e}();function Gv(e){return/^[A-Za-z]+:\/\//.test(e)}function Hv(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new Kv(r,i)}!function(e){var t={TaskState:hv,TaskEvent:fv,StringFormat:Dp,Storage:Kv,Reference:Wv};e.INTERNAL.registerComponent(new zi("storage-compat",Hv,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.3.2")}(ho);var Qv,$v="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Yv={},Xv=Xv||{},Jv=$v||self;function em(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function tm(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var nm="closure_uid_"+(1e9*Math.random()>>>0),rm=0;function im(e,t,n){return e.call.apply(e.bind,arguments)}function am(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function om(e,t,n){return(om=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?im:am).apply(null,arguments)}function um(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function sm(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function cm(){this.s=this.s,this.o=this.o}cm.prototype.s=!1,cm.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,nm)&&e[nm]||(e[nm]=++rm))},cm.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var lm=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function fm(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function hm(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(em(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function dm(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}dm.prototype.h=function(){this.defaultPrevented=!0};var pm=function(){if(!Jv.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Jv.addEventListener("test",(function(){}),t),Jv.removeEventListener("test",(function(){}),t)}catch(n){}return e}();function vm(e){return/^[\s\xa0]*$/.test(e)}function mm(){var e=Jv.navigator;return e&&(e=e.userAgent)?e:""}function ym(e){return-1!=mm().indexOf(e)}function gm(e){return gm[" "](e),e}gm[" "]=function(){};var bm,km,wm=ym("Opera"),xm=ym("Trident")||ym("MSIE"),_m=ym("Edge"),Sm=_m||xm,Em=ym("Gecko")&&!(-1!=mm().toLowerCase().indexOf("webkit")&&!ym("Edge"))&&!(ym("Trident")||ym("MSIE"))&&!ym("Edge"),Im=-1!=mm().toLowerCase().indexOf("webkit")&&!ym("Edge");function Tm(){var e=Jv.document;return e?e.documentMode:void 0}e:{var Cm="",Am=function(){var e=mm();return Em?/rv:([^\);]+)(\)|;)/.exec(e):_m?/Edge\/([\d\.]+)/.exec(e):xm?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Im?/WebKit\/(\S+)/.exec(e):wm?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Am&&(Cm=Am?Am[1]:""),xm){var Rm=Tm();if(null!=Rm&&Rm>parseFloat(Cm)){bm=String(Rm);break e}}bm=Cm}if(Jv.document&&xm){var Om=Tm();km=Om||(parseInt(bm,10)||void 0)}else km=void 0;var Nm=km;function Pm(e,t){if(dm.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Em){e:{try{gm(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Dm[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Pm.$.h.call(this)}}sm(Pm,dm);var Dm={2:"touch",3:"pen",4:"mouse"};Pm.prototype.h=function(){Pm.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Mm="closure_listenable_"+(1e6*Math.random()|0),Lm=0;function Fm(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Lm,this.fa=this.ia=!1}function jm(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Um(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Vm(e){var t={};for(var n in e)t[n]=e[n];return t}var zm="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Bm(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<zm.length;a++)n=zm[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function qm(e){this.src=e,this.g={},this.h=0}function Zm(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=lm(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(jm(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Wm(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}qm.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Wm(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new Fm(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var Km="closure_lm_"+(1e6*Math.random()|0),Gm={};function Hm(e,t,n,r,i){if(r&&r.once)return $m(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Hm(e,t[a],n,r,i);return null}return n=ry(n),e&&e[Mm]?e.O(t,n,tm(r)?!!r.capture:!!r,i):Qm(e,t,n,!1,r,i)}function Qm(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=tm(i)?!!i.capture:!!i,u=ty(e);if(u||(e[Km]=u=new qm(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=ey;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)pm||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Jm(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function $m(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)$m(e,t[a],n,r,i);return null}return n=ry(n),e&&e[Mm]?e.P(t,n,tm(r)?!!r.capture:!!r,i):Qm(e,t,n,!0,r,i)}function Ym(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Ym(e,t[a],n,r,i);else r=tm(r)?!!r.capture:!!r,n=ry(n),e&&e[Mm]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Wm(a=e.g[t],n,r,i))&&(jm(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=ty(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Wm(t,n,r,i)),(n=-1<e?t[e]:null)&&Xm(n))}function Xm(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Mm])Zm(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Jm(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ty(t))?(Zm(n,e),0==n.h&&(n.src=null,t[Km]=null)):jm(e)}}}function Jm(e){return e in Gm?Gm[e]:Gm[e]="on"+e}function ey(e,t){if(e.fa)e=!0;else{t=new Pm(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Xm(e),e=n.call(r,t)}return e}function ty(e){return(e=e[Km])instanceof qm?e:null}var ny="__closure_events_fn_"+(1e9*Math.random()>>>0);function ry(e){return"function"===typeof e?e:(e[ny]||(e[ny]=function(t){return e.handleEvent(t)}),e[ny])}function iy(){cm.call(this),this.i=new qm(this),this.S=this,this.J=null}function ay(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new dm(t,e);else if(t instanceof dm)t.target=t.target||e;else{var i=t;Bm(t=new dm(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=oy(o,r,!0,t)&&i}if(i=oy(o=t.g=e,r,!0,t)&&i,i=oy(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=oy(o=t.g=n[a],r,!1,t)&&i}function oy(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var u=o.listener,s=o.la||o.src;o.ia&&Zm(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}sm(iy,cm),iy.prototype[Mm]=!0,iy.prototype.removeEventListener=function(e,t,n,r){Ym(this,e,t,n,r)},iy.prototype.N=function(){if(iy.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)jm(n[r]);delete t.g[e],t.h--}}this.J=null},iy.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},iy.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var uy=Jv.JSON.stringify,sy=function(){function e(t,n){Br(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Wr(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function cy(){var e=yy,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var ly=function(){function e(){Br(this,e),this.h=this.g=null}return Wr(e,[{key:"add",value:function(e,t){var n=fy.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),fy=new sy((function(){return new hy}),(function(e){return e.reset()})),hy=function(){function e(){Br(this,e),this.next=this.g=this.h=null}return Wr(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function dy(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function py(e){Jv.setTimeout((function(){throw e}),0)}var vy,my=!1,yy=new ly,gy=function(){var e=Jv.Promise.resolve(void 0);vy=function(){e.then(by)}},by=function(){for(var e;e=cy();){try{e.h.call(e.g)}catch(n){py(n)}var t=fy;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}my=!1};function ky(e,t){iy.call(this),this.h=e||1,this.g=t||Jv,this.j=om(this.qb,this),this.l=Date.now()}function wy(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function xy(e,t,n){if("function"===typeof e)n&&(e=om(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=om(e.handleEvent,e)}return 2147483647<Number(t)?-1:Jv.setTimeout(e,t||0)}function _y(e){e.g=xy((function(){e.g=null,e.i&&(e.i=!1,_y(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}sm(ky,iy),(Qv=ky.prototype).ga=!1,Qv.T=null,Qv.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ay(this,"tick"),this.ga&&(wy(this),this.start()))}},Qv.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Qv.N=function(){ky.$.N.call(this),wy(this),delete this.g};var Sy=function(e){$r(n,e);var t=ti(n);function n(e,r){var i;return Br(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Wr(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:_y(this)}},{key:"N",value:function(){go(Yr(n.prototype),"N",this).call(this),this.g&&(Jv.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(cm);function Ey(e){cm.call(this),this.h=e,this.g={}}sm(Ey,cm);var Iy=[];function Ty(e,t,n,r){Array.isArray(n)||(n&&(Iy[0]=n.toString()),n=Iy);for(var i=0;i<n.length;i++){var a=Hm(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Cy(e){Um(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Xm(e)}),e),e.g={}}function Ay(){this.g=!0}function Ry(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return uy(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Ey.prototype.N=function(){Ey.$.N.call(this),Cy(this)},Ey.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ay.prototype.Ea=function(){this.g=!1},Ay.prototype.info=function(){};var Oy={},Ny=null;function Py(){return Ny=Ny||new iy}function Dy(e){dm.call(this,Oy.Ta,e)}function My(e){var t=Py();ay(t,new Dy(t))}function Ly(e,t){dm.call(this,Oy.STAT_EVENT,e),this.stat=t}function Fy(e){var t=Py();ay(t,new Ly(t,e))}function jy(e,t){dm.call(this,Oy.Ua,e),this.size=t}function Uy(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Jv.setTimeout((function(){e()}),t)}Oy.Ta="serverreachability",sm(Dy,dm),Oy.STAT_EVENT="statevent",sm(Ly,dm),Oy.Ua="timingevent",sm(jy,dm);var Vy={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},zy={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function By(){}function qy(e){return e.h||(e.h=e.i())}function Zy(){}By.prototype.h=null;var Wy,Ky={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Gy(){dm.call(this,"d")}function Hy(){dm.call(this,"c")}function Qy(){}function $y(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Ey(this),this.P=Xy,e=Sm?125:void 0,this.V=new ky(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Yy}function Yy(){this.i=null,this.g="",this.h=!1}sm(Gy,dm),sm(Hy,dm),sm(Qy,By),Qy.prototype.g=function(){return new XMLHttpRequest},Qy.prototype.i=function(){return{}},Wy=new Qy;var Xy=45e3,Jy={},eg={};function tg(e,t,n){e.L=1,e.v=kg(vg(t)),e.s=n,e.S=!0,ng(e,null)}function ng(e,t){e.G=Date.now(),og(e),e.A=vg(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Pg(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Yy,e.g=Db(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Sy(om(e.Pa,e,e.g),e.O)),Ty(e.U,e.g,"readystatechange",e.nb),t=e.I?Vm(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),My(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function rg(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function ig(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=ag(e,n))==eg){4==t&&(e.o=4,Fy(14),i=!1),Ry(e.j,e.m,null,"[Incomplete Response]");break}if(r==Jy){e.o=4,Fy(15),Ry(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ry(e.j,e.m,r,null),fg(e,r)}rg(e)&&r!=eg&&r!=Jy&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Fy(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ib(t),t.M=!0,Fy(11))):(Ry(e.j,e.m,n,"[Invalid Chunked Response]"),lg(e),cg(e))}function ag(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?eg:(n=Number(t.substring(n,r)),isNaN(n)?Jy:(r+=1)+n>t.length?eg:(t=t.slice(r,r+n),e.C=r+n,t))}function og(e){e.Y=Date.now()+e.P,ug(e,e.P)}function ug(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Uy(om(e.lb,e),t)}function sg(e){e.B&&(Jv.clearTimeout(e.B),e.B=null)}function cg(e){0==e.l.H||e.J||Ab(e.l,e)}function lg(e){sg(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,wy(e.V),Cy(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function fg(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Vg(n.i,e)))if(!e.K&&Vg(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Cb(n),gb(n)}Eb(n),Fy(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Uy(om(n.ib,n),6e3));if(1>=Ug(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else Ob(n,11)}else if((e.K||n.g==e)&&Cb(n),!vm(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var u=a[4];null!=u&&(n.Ga=u,n.l.info("SVER="+n.Ga));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(zg(f,f.h),f.h=null))}if(r.F){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,bg(r.I,r.F,h))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=Pb(r,r.J?r.pa:null,r.Y),d.K){Bg(r.i,d);var p=d,v=r.L;v&&p.setTimeout(v),p.B&&(sg(p),og(p)),r.g=d}else Sb(r);0<n.j.length&&kb(n)}else"stop"!=a[0]&&"close"!=a[0]||Ob(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Ob(n,7):yb(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}My()}catch(a){}}function hg(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(em(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(em(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(em(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Qv=$y.prototype).setTimeout=function(e){this.P=e},Qv.nb=function(e){e=e.target;var t=this.M;t&&3==fb(e)?t.l():this.Pa(e)},Qv.Pa=function(e){try{if(e==this.g)e:{var t=fb(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||Sm||this.g&&(this.h.h||this.g.ja()||hb(this.g)))){this.J||4!=t||7==n||My(),sg(this);var r=this.g.da();this.ca=r;t:if(rg(this)){var i=hb(this.g);e="";var a=i.length,o=4==fb(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){lg(this),cg(this);var u="";break t}this.h.i=new Jv.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vm(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Fy(12),lg(this),cg(this);break e}Ry(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fg(this,r)}this.S?(ig(this,t,u),Sm&&this.i&&3==t&&(Ty(this.U,this.V,"tick",this.mb),this.V.start())):(Ry(this.j,this.m,u,null),fg(this,u)),4==t&&lg(this),this.i&&!this.J&&(4==t?Ab(this.l,this):(this.i=!1,og(this)))}else(function(e){var t={};e=(e.g&&2<=fb(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!vm(e[n])){var r=dy(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<u.indexOf("Unknown SID")?(this.o=3,Fy(12)):(this.o=0,Fy(13)),lg(this),cg(this)}}}catch(t){}},Qv.mb=function(){if(this.g){var e=fb(this.g),t=this.g.ja();this.C<t.length&&(sg(this),ig(this,e,t),this.i&&4!=e&&og(this))}},Qv.cancel=function(){this.J=!0,lg(this)},Qv.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(My(),Fy(17)),lg(this),this.o=2,cg(this)):ug(this,this.Y-e)};var dg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pg(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof pg){this.h=e.h,mg(this,e.j),this.s=e.s,this.g=e.g,yg(this,e.m),this.l=e.l;var t=e.i,n=new Ag;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),gg(this,n),this.o=e.o}else e&&(t=String(e).match(dg))?(this.h=!1,mg(this,t[1]||"",!0),this.s=wg(t[2]||""),this.g=wg(t[3]||"",!0),yg(this,t[4]),this.l=wg(t[5]||"",!0),gg(this,t[6]||"",!0),this.o=wg(t[7]||"")):(this.h=!1,this.i=new Ag(null,this.h))}function vg(e){return new pg(e)}function mg(e,t,n){e.j=n?wg(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function yg(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function gg(e,t,n){t instanceof Ag?(e.i=t,function(e,t){t&&!e.j&&(Rg(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Og(this,t),Pg(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=xg(t,Tg)),e.i=new Ag(t,e.h))}function bg(e,t,n){e.i.set(t,n)}function kg(e){return bg(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function wg(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function xg(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,_g),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function _g(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}pg.prototype.toString=function(){var e=[],t=this.j;t&&e.push(xg(t,Sg,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(xg(t,Sg,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(xg(n,"/"==n.charAt(0)?Ig:Eg,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",xg(n,Cg)),e.join("")};var Sg=/[#\/\?@]/g,Eg=/[#\?:]/g,Ig=/[#\?]/g,Tg=/[#\?@]/g,Cg=/#/g;function Ag(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Rg(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Og(e,t){Rg(e),t=Dg(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Ng(e,t){return Rg(e),t=Dg(e,t),e.g.has(t)}function Pg(e,t,n){Og(e,t),0<n.length&&(e.i=null,e.g.set(Dg(e,t),fm(n)),e.h+=n.length)}function Dg(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Qv=Ag.prototype).add=function(e,t){Rg(this),this.i=null,e=Dg(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Qv.forEach=function(e,t){Rg(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Qv.ta=function(){Rg(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Qv.Z=function(e){Rg(this);var t=[];if("string"===typeof e)Ng(this,e)&&(t=t.concat(this.g.get(Dg(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Qv.set=function(e,t){return Rg(this),this.i=null,Ng(this,e=Dg(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Qv.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Qv.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Mg=Wr((function e(t,n){Br(this,e),this.g=t,this.map=n}));function Lg(e){this.l=e||Fg,Jv.PerformanceNavigationTiming?e=0<(e=Jv.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Jv.g&&Jv.g.Ka&&Jv.g.Ka()&&Jv.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Fg=10;function jg(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ug(e){return e.h?1:e.g?e.g.size:0}function Vg(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function zg(e,t){e.g?e.g.add(t):e.h=t}function Bg(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function qg(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Gr(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return fm(e.i)}Lg.prototype.cancel=function(){if(this.i=qg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Gr(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var Zg,Wg=function(){function e(){Br(this,e)}return Wr(e,[{key:"stringify",value:function(e){return Jv.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return Jv.JSON.parse(e,void 0)}}]),e}();function Kg(){this.g=new Wg}function Gg(e,t,n){var r=n||"";try{hg(e,(function(e,n){var i=e;tm(e)&&(i=uy(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Hg(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Qg(e){this.l=e.fc||null,this.j=e.ob||!1}function $g(e,t){iy.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Yg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}sm(Qg,By),Qg.prototype.g=function(){return new $g(this.l,this.j)},Qg.prototype.i=(Zg={},function(){return Zg}),sm($g,iy);var Yg=0;function Xg(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Jg(e){e.readyState=4,e.l=null,e.j=null,e.A=null,eb(e)}function eb(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Qv=$g.prototype).open=function(e,t){if(this.readyState!=Yg)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,eb(this)},Qv.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Jv).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Qv.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Jg(this)),this.readyState=Yg},Qv.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,eb(this)),this.g&&(this.readyState=3,eb(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Jv.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Xg(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Qv.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Jg(this):eb(this),3==this.readyState&&Xg(this)}},Qv.Za=function(e){this.g&&(this.response=this.responseText=e,Jg(this))},Qv.Ya=function(e){this.g&&(this.response=e,Jg(this))},Qv.ka=function(){this.g&&Jg(this)},Qv.setRequestHeader=function(e,t){this.v.append(e,t)},Qv.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Qv.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty($g.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var tb=Jv.JSON.parse;function nb(e){iy.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=rb,this.L=this.M=!1}sm(nb,iy);var rb="",ib=/^https?$/i,ab=["POST","PUT"];function ob(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,ub(e),cb(e)}function ub(e){e.F||(e.F=!0,ay(e,"complete"),ay(e,"error"))}function sb(e){if(e.h&&"undefined"!=typeof Xv&&(!e.C[1]||4!=fb(e)||2!=e.da()))if(e.v&&4==fb(e))xy(e.La,0,e);else if(ay(e,"readystatechange"),4==fb(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(dg)[1]||null;!a&&Jv.self&&Jv.self.location&&(a=Jv.self.location.protocol.slice(0,-1)),i=!ib.test(a?a.toLowerCase():"")}t=i}if(t)ay(e,"complete"),ay(e,"success");else{e.m=6;try{var o=2<fb(e)?e.g.statusText:""}catch(u){o=""}e.j=o+" ["+e.da()+"]",ub(e)}}finally{cb(e)}}}function cb(e,t){if(e.g){lb(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||ay(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function lb(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Jv.clearTimeout(e.A),e.A=null)}function fb(e){return e.g?e.g.readyState:0}function hb(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case rb:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(yk){return null}}function db(e){var t="";return Um(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function pb(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=db(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):bg(e,t,n))}function vb(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function mb(e){this.Ga=0,this.j=[],this.l=new Ay,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=vb("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=vb("baseRetryDelayMs",5e3,e),this.hb=vb("retryDelaySeedMs",1e4,e),this.eb=vb("forwardChannelMaxRetries",2,e),this.xa=vb("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Lg(e&&e.concurrentRequestLimit),this.Ja=new Kg,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function yb(e){if(bb(e),3==e.H){var t=e.W++,n=vg(e.I);if(bg(n,"SID",e.K),bg(n,"RID",t),bg(n,"TYPE","terminate"),xb(e,n),(t=new $y(e,e.l,t)).L=2,t.v=kg(vg(n)),n=!1,Jv.navigator&&Jv.navigator.sendBeacon)try{n=Jv.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&Jv.Image&&((new Image).src=t.v,n=!0),n||(t.g=Db(t.l,null),t.g.ha(t.v)),t.G=Date.now(),og(t)}Nb(e)}function gb(e){e.g&&(Ib(e),e.g.cancel(),e.g=null)}function bb(e){gb(e),e.u&&(Jv.clearTimeout(e.u),e.u=null),Cb(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Jv.clearTimeout(e.m),e.m=null)}function kb(e){if(!jg(e.i)&&!e.m){e.m=!0;var t=e.Na;vy||gy(),my||(vy(),my=!0),yy.add(t,e),e.C=0}}function wb(e,t){var n;n=t?t.m:e.W++;var r=vg(e.I);bg(r,"SID",e.K),bg(r,"RID",n),bg(r,"AID",e.V),xb(e,r),e.o&&e.s&&pb(r,e.o,e.s),n=new $y(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=_b(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),zg(e.i,n),tg(n,r,t)}function xb(e,t){e.na&&Um(e.na,(function(e,n){bg(t,n,e)})),e.h&&hg({},(function(e,n){bg(t,n,e)}))}function _b(e,t,n){n=Math.min(e.j.length,n);var r=e.h?om(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].g,l=i[s].map;if(0>(c-=a))a=Math.max(0,i[s].g-100),u=!1;else try{Gg(l,o,"req"+c+"_")}catch(Ck){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function Sb(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;vy||gy(),my||(vy(),my=!0),yy.add(t,e),e.A=0}}function Eb(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Uy(om(e.Ma,e),Rb(e,e.A)),e.A++,!0)}function Ib(e){null!=e.B&&(Jv.clearTimeout(e.B),e.B=null)}function Tb(e){e.g=new $y(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=vg(e.wa);bg(t,"RID","rpc"),bg(t,"SID",e.K),bg(t,"AID",e.V),bg(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&bg(t,"TO",e.qa),bg(t,"TYPE","xmlhttp"),xb(e,t),e.o&&e.s&&pb(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=kg(vg(t)),n.s=null,n.S=!0,ng(n,e)}function Cb(e){null!=e.v&&(Jv.clearTimeout(e.v),e.v=null)}function Ab(e,t){var n=null;if(e.g==t){Cb(e),Ib(e),e.g=null;var r=2}else{if(!Vg(e.i,t))return;n=t.F,Bg(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;ay(r=Py(),new jy(r,n)),kb(e)}else Sb(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Ug(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Uy(om(e.Na,e,t),Rb(e,e.C)),e.C++,!0))}(e,t)||2==r&&Eb(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Ob(e,5);break;case 4:Ob(e,10);break;case 3:Ob(e,6);break;default:Ob(e,2)}}function Rb(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Ob(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=om(e.pb,e);n||(n=new pg("//www.google.com/images/cleardot.gif"),Jv.location&&"http"==Jv.location.protocol||mg(n,"https"),kg(n)),function(e,t){var n=new Ay;if(Jv.Image){var r=new Image;r.onload=um(Hg,n,r,"TestLoadImage: loaded",!0,t),r.onerror=um(Hg,n,r,"TestLoadImage: error",!1,t),r.onabort=um(Hg,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=um(Hg,n,r,"TestLoadImage: timeout",!1,t),Jv.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Fy(2);e.H=0,e.h&&e.h.za(t),Nb(e),bb(e)}function Nb(e){if(e.H=0,e.ma=[],e.h){var t=qg(e.i);0==t.length&&0==e.j.length||(hm(e.ma,t),hm(e.ma,e.j),e.i.i.length=0,fm(e.j),e.j.length=0),e.h.ya()}}function Pb(e,t,n){var r=n instanceof pg?vg(n):new pg(n);if(""!=r.g)t&&(r.g=t+"."+r.g),yg(r,r.m);else{var i=Jv.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new pg(null);r&&mg(a,r),t&&(a.g=t),i&&yg(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&bg(r,n,t),bg(r,"VER",e.ra),xb(e,r),r}function Db(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new nb(new Qg({ob:!0})):new nb(e.va)).Oa(e.J),t}function Mb(){}function Lb(){if(xm&&!(10<=Number(Nm)))throw Error("Environmental error: no available transport.")}function Fb(e,t){iy.call(this),this.g=new mb(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!vm(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!vm(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Vb(this)}function jb(e){Gy.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Ub(){Hy.call(this),this.status=1}function Vb(e){this.g=e}function zb(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Bb(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function qb(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(Qv=nb.prototype).Oa=function(e){this.M=e},Qv.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Wy.g(),this.C=this.u?qy(this.u):qy(Wy),this.g.onreadystatechange=om(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void ob(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var a in r)n.set(a,r[a]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var o,u=Gr(r.keys());try{for(u.s();!(o=u.n()).done;){var s=o.value;n.set(s,r.get(s))}}catch(p){u.e(p)}finally{u.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),a=Jv.FormData&&e instanceof Jv.FormData,!(0<=lm(ab,t))||r||a||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var c,l=Gr(n);try{for(l.s();!(c=l.n()).done;){var f=(0,i.Z)(c.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){l.e(p)}finally{l.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{lb(this),0<this.B&&((this.L=function(e){return xm&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=om(this.ua,this)):this.A=xy(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){ob(this,s)}},Qv.ua=function(){"undefined"!=typeof Xv&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ay(this,"timeout"),this.abort(8))},Qv.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ay(this,"complete"),ay(this,"abort"),cb(this))},Qv.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),cb(this,!0)),nb.$.N.call(this)},Qv.La=function(){this.s||(this.G||this.v||this.l?sb(this):this.kb())},Qv.kb=function(){sb(this)},Qv.isActive=function(){return!!this.g},Qv.da=function(){try{return 2<fb(this)?this.g.status:-1}catch(Zg){return-1}},Qv.ja=function(){try{return this.g?this.g.responseText:""}catch(Zg){return""}},Qv.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),tb(t)}},Qv.Ia=function(){return this.m},Qv.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Qv=mb.prototype).ra=8,Qv.H=1,Qv.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new $y(this,this.l,e),n=this.s;if(this.U&&(n?Bm(n=Vm(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=_b(this,t,r),bg(i=vg(this.I),"RID",e),bg(i,"CVER",22),this.F&&bg(i,"X-HTTP-Session-Id",this.F),xb(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(db(n)))+"&"+r:this.o&&pb(i,this.o,n)),zg(this.i,t),this.bb&&bg(i,"TYPE","init"),this.P?(bg(i,"$req",r),bg(i,"SID","null"),t.aa=!0,tg(t,i,null)):tg(t,i,r),this.H=2}}else 3==this.H&&(e?wb(this,e):0==this.j.length||jg(this.i)||wb(this))},Qv.Ma=function(){if(this.u=null,Tb(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Uy(om(this.jb,this),e)}},Qv.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Fy(10),gb(this),Tb(this))},Qv.ib=function(){null!=this.v&&(this.v=null,gb(this),Eb(this),Fy(19))},Qv.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Fy(2)):(this.l.info("Failed to ping google.com"),Fy(1))},Qv.isActive=function(){return!!this.h&&this.h.isActive(this)},(Qv=Mb.prototype).Ba=function(){},Qv.Aa=function(){},Qv.za=function(){},Qv.ya=function(){},Qv.isActive=function(){return!0},Qv.Va=function(){},Lb.prototype.g=function(e,t){return new Fb(e,t)},sm(Fb,iy),Fb.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Fy(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Pb(e,null,e.Y),kb(e)},Fb.prototype.close=function(){yb(this.g)},Fb.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=uy(e),e=n);t.j.push(new Mg(t.fb++,e)),3==t.H&&kb(t)},Fb.prototype.N=function(){this.g.h=null,delete this.j,yb(this.g),delete this.g,Fb.$.N.call(this)},sm(jb,Gy),sm(Ub,Hy),sm(Vb,Mb),Vb.prototype.Ba=function(){ay(this.g,"a")},Vb.prototype.Aa=function(e){ay(this.g,new jb(e))},Vb.prototype.za=function(e){ay(this.g,new Ub)},Vb.prototype.ya=function(){ay(this.g,"b")},sm(zb,(function(){this.blockSize=-1})),zb.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},zb.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)Bb(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){Bb(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){Bb(this,r),i=0;break}}this.h=i,this.i+=t},zb.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Zb={};function Wb(e){return-128<=e&&128>e?function(e,t){var n=Zb;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new qb([0|e],0>e?-1:0)})):new qb([0|e],0>e?-1:0)}function Kb(e){if(isNaN(e)||!isFinite(e))return Hb;if(0>e)return Jb(Kb(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Gb;return new qb(t,0)}var Gb=4294967296,Hb=Wb(0),Qb=Wb(1),$b=Wb(16777216);function Yb(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Xb(e){return-1==e.h}function Jb(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new qb(n,~e.h).add(Qb)}function ek(e,t){return e.add(Jb(t))}function tk(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function nk(e,t){this.g=e,this.h=t}function rk(e,t){if(Yb(t))throw Error("division by zero");if(Yb(e))return new nk(Hb,Hb);if(Xb(e))return t=rk(Jb(e),t),new nk(Jb(t.g),Jb(t.h));if(Xb(t))return t=rk(e,Jb(t)),new nk(Jb(t.g),t.h);if(30<e.g.length){if(Xb(e)||Xb(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Qb,r=t;0>=r.X(e);)n=ik(n),r=ik(r);var i=ak(n,1),a=ak(r,1);for(r=ak(r,2),n=ak(n,2);!Yb(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=ak(r,1),n=ak(n,1)}return t=ek(e,i.R(t)),new nk(i,t)}for(i=Hb;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=Kb(n)).R(t);Xb(o)||0<o.X(e);)o=(a=Kb(n-=r)).R(t);Yb(a)&&(a=Qb),i=i.add(a),e=ek(e,o)}return new nk(i,e)}function ik(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new qb(n,e.h)}function ak(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new qb(i,e.h)}(Qv=qb.prototype).ea=function(){if(Xb(this))return-Jb(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Gb+r)*t,t*=Gb}return e},Qv.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Yb(this))return"0";if(Xb(this))return"-"+Jb(this).toString(e);for(var t=Kb(Math.pow(e,6)),n=this,r="";;){var i=rk(n,t).g,a=((0<(n=ek(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Yb(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},Qv.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Qv.X=function(e){return Xb(e=ek(this,e))?-1:Yb(e)?0:1},Qv.abs=function(){return Xb(this)?Jb(this):this},Qv.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new qb(n,-2147483648&n[n.length-1]?-1:0)},Qv.R=function(e){if(Yb(this)||Yb(e))return Hb;if(Xb(this))return Xb(e)?Jb(this).R(Jb(e)):Jb(Jb(this).R(e));if(Xb(e))return Jb(this.R(Jb(e)));if(0>this.X($b)&&0>e.X($b))return Kb(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),u=e.D(i)>>>16,s=65535&e.D(i);n[2*r+2*i]+=o*s,tk(n,2*r+2*i),n[2*r+2*i+1]+=a*s,tk(n,2*r+2*i+1),n[2*r+2*i+1]+=o*u,tk(n,2*r+2*i+1),n[2*r+2*i+2]+=a*u,tk(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new qb(n,0)},Qv.gb=function(e){return rk(this,e).h},Qv.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new qb(n,this.h&e.h)},Qv.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new qb(n,this.h|e.h)},Qv.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new qb(n,this.h^e.h)},Lb.prototype.createWebChannel=Lb.prototype.g,Fb.prototype.send=Fb.prototype.u,Fb.prototype.open=Fb.prototype.m,Fb.prototype.close=Fb.prototype.close,Vy.NO_ERROR=0,Vy.TIMEOUT=8,Vy.HTTP_ERROR=6,zy.COMPLETE="complete",Zy.EventType=Ky,Ky.OPEN="a",Ky.CLOSE="b",Ky.ERROR="c",Ky.MESSAGE="d",iy.prototype.listen=iy.prototype.O,nb.prototype.listenOnce=nb.prototype.P,nb.prototype.getLastError=nb.prototype.Sa,nb.prototype.getLastErrorCode=nb.prototype.Ia,nb.prototype.getStatus=nb.prototype.da,nb.prototype.getResponseJson=nb.prototype.Wa,nb.prototype.getResponseText=nb.prototype.ja,nb.prototype.send=nb.prototype.ha,nb.prototype.setWithCredentials=nb.prototype.Oa,zb.prototype.digest=zb.prototype.l,zb.prototype.reset=zb.prototype.reset,zb.prototype.update=zb.prototype.j,qb.prototype.add=qb.prototype.add,qb.prototype.multiply=qb.prototype.R,qb.prototype.modulo=qb.prototype.gb,qb.prototype.compare=qb.prototype.X,qb.prototype.toNumber=qb.prototype.ea,qb.prototype.toString=qb.prototype.toString,qb.prototype.getBits=qb.prototype.D,qb.fromNumber=Kb,qb.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Jb(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Kb(Math.pow(n,8)),i=Hb,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),u=parseInt(t.substring(a,a+o),n);8>o?(o=Kb(Math.pow(n,o)),i=i.R(o).add(Kb(u))):i=(i=i.R(r)).add(Kb(u))}return i};var ok=Yv.createWebChannelTransport=function(){return new Lb},uk=Yv.getStatEventTarget=function(){return Py()},sk=Yv.ErrorCode=Vy,ck=Yv.EventType=zy,lk=Yv.Event=Oy,fk=Yv.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},hk=Yv.FetchXmlHttpFactory=Qg,dk=Yv.WebChannel=Zy,pk=Yv.XhrIo=nb,vk=Yv.Md5=zb,mk=Yv.Integer=qb,yk="@firebase/firestore",gk=function(){function e(t){Br(this,e),this.uid=t}return Wr(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();gk.UNAUTHENTICATED=new gk(null),gk.GOOGLE_CREDENTIALS=new gk("google-credentials-uid"),gk.FIRST_PARTY=new gk("first-party-uid"),gk.MOCK_USER=new gk("mock-user");var bk="9.23.0",kk=new Xi("@firebase/firestore");function wk(){return kk.logLevel}function xk(e){if(kk.logLevel<=Wi.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Ek);kk.debug.apply(kk,["Firestore (".concat(bk,"): ").concat(e)].concat((0,ji.Z)(i)))}}function _k(e){if(kk.logLevel<=Wi.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Ek);kk.error.apply(kk,["Firestore (".concat(bk,"): ").concat(e)].concat((0,ji.Z)(i)))}}function Sk(e){if(kk.logLevel<=Wi.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Ek);kk.warn.apply(kk,["Firestore (".concat(bk,"): ").concat(e)].concat((0,ji.Z)(i)))}}function Ek(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Ik(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(bk,") INTERNAL ASSERTION FAILED: ")+e;throw _k(t),new Error(t)}function Tk(e,t){e||Ik()}function Ck(e,t){return e}var Ak={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Rk=function(e){$r(n,e);var t=ti(n);function n(e,r){var i;return Br(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Wr(n)}(xi),Ok=Wr((function e(){var t=this;Br(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Nk=Wr((function e(t,n){Br(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Pk=function(){function e(){Br(this,e)}return Wr(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(gk.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Dk=function(){function e(t){Br(this,e),this.token=t,this.changeListener=null}return Wr(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Mk=function(){function e(t){Br(this,e),this.t=t,this.currentUser=gk.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Wr(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Ok;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Ok,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Vi(Fi().mark((function e(){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){xk("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(xk("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ok)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(xk("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Tk("string"==typeof n.accessToken),new Nk(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Tk(null===e||"string"==typeof e),new gk(e)}}]),e}(),Lk=function(){function e(t,n,r){Br(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=gk.FIRST_PARTY,this.g=new Map}return Wr(e,[{key:"p",value:function(){return this.m?this.m():null}},{key:"headers",get:function(){this.g.set("X-Goog-AuthUser",this.h);var e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}]),e}(),Fk=function(){function e(t,n,r){Br(this,e),this.h=t,this.l=n,this.m=r}return Wr(e,[{key:"getToken",value:function(){return Promise.resolve(new Lk(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(gk.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),jk=Wr((function e(t){Br(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Uk=function(){function e(t){Br(this,e),this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}return Wr(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&xk("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.T;return n.T=e.token,xk("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){xk("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.I.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.I.getImmediate({optional:!0});e?i(e):xk("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Tk("string"==typeof t.token),e.T=t.token,new jk(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Vk(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var zk=function(){function e(){Br(this,e)}return Wr(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Vk(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Bk(e,t){return e<t?-1:e>t?1:0}function qk(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Zk(e){return e+"\0"}var Wk=function(){function e(t,n){if(Br(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Rk(Ak.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Rk(Ak.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Rk(Ak.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Rk(Ak.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Wr(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Bk(this.nanoseconds,e.nanoseconds):Bk(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Kk=function(){function e(t){Br(this,e),this.timestamp=t}return Wr(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Wk(0,0))}},{key:"max",value:function(){return new e(new Wk(253402300799,999999999))}}]),e}(),Gk=function(){function e(t,n,r){Br(this,e),void 0===n?n=0:n>t.length&&Ik(),void 0===r?r=t.length-n:r>t.length-n&&Ik(),this.segments=t,this.offset=n,this.len=r}return Wr(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Hk=function(e){$r(n,e);var t=ti(n);function n(){return Br(this,n),t.apply(this,arguments)}return Wr(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Rk(Ak.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,(0,ji.Z)(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Gk),Qk=/^[_a-zA-Z][_a-zA-Z0-9]*$/,$k=function(e){$r(n,e);var t=ti(n);function n(){return Br(this,n),t.apply(this,arguments)}return Wr(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Qk.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Rk(Ak.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Rk(Ak.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Rk(Ak.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Rk(Ak.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Gk),Yk=function(){function e(t){Br(this,e),this.path=t}return Wr(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Hk.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Hk.fromString(t))}},{key:"fromName",value:function(t){return new e(Hk.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Hk.emptyPath())}},{key:"comparator",value:function(e,t){return Hk.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Hk(t.slice()))}}]),e}(),Xk=Wr((function e(t,n,r,i){Br(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Jk(e){return e.fields.find((function(e){return 2===e.kind}))}function ew(e){return e.fields.filter((function(e){return 2!==e.kind}))}Xk.UNKNOWN_ID=-1;var tw=Wr((function e(t,n){Br(this,e),this.fieldPath=t,this.kind=n}));var nw=function(){function e(t,n){Br(this,e),this.sequenceNumber=t,this.offset=n}return Wr(e,null,[{key:"empty",value:function(){return new e(0,aw.min())}}]),e}();function rw(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Kk.fromTimestamp(1e9===r?new Wk(n+1,0):new Wk(n,r));return new aw(i,Yk.empty(),t)}function iw(e){return new aw(e.readTime,e.key,-1)}var aw=function(){function e(t,n,r){Br(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Wr(e,null,[{key:"min",value:function(){return new e(Kk.min(),Yk.empty(),-1)}},{key:"max",value:function(){return new e(Kk.max(),Yk.empty(),-1)}}]),e}();function ow(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Yk.comparator(e.documentKey,t.documentKey))?n:Bk(e.largestBatchId,t.largestBatchId)}var uw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",sw=function(){function e(){Br(this,e),this.onCommittedListeners=[]}return Wr(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function cw(e){return lw.apply(this,arguments)}function lw(){return(lw=Vi(Fi().mark((function e(t){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Ak.FAILED_PRECONDITION&&t.message===uw){e.next=2;break}throw t;case 2:xk("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var fw=function(){function e(t){var n=this;Br(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Wr(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Ik(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Gr(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),hw=function(){function e(t,n){var r=this;Br(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.v=new Ok,this.transaction.oncomplete=function(){r.v.resolve()},this.transaction.onabort=function(){n.error?r.v.reject(new vw(t,n.error)):r.v.resolve()},this.transaction.onerror=function(e){var n=kw(e.target.error);r.v.reject(new vw(t,n))}}return Wr(e,[{key:"R",get:function(){return this.v.promise}},{key:"abort",value:function(e){e&&this.v.reject(e),this.aborted||(xk("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"P",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new yw(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new vw(n,t)}}}]),e}(),dw=function(){function e(t,n,r){Br(this,e),this.name=t,this.version=n,this.V=r,12.2===e.S(mi())&&_k("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Wr(e,[{key:"$",value:function(){var e=Vi(Fi().mark((function e(t){var n=this;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return xk("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new vw(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Rk(Ak.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Rk(Ak.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new vw(t,n))},i.onupgradeneeded=function(e){xk("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.V.O(t,i.transaction,e.oldVersion,n.version).next((function(){xk("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.F&&(this.db.onversionchange=function(e){return n.F(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"B",value:function(e){this.F=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Vi(Fi().mark((function e(t,n,r,i){var a,o,u,s,c,l=this;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(Fi().mark((function e(){var n,o;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.$(t);case 2:return l.db=e.sent,n=hw.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.P(),e})).catch((function(e){return n.abort(e),fw.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.R;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s=e.t1,c="FirebaseError"!==s.name&&o<3,xk("SimpleDb","Transaction failed with error:",s.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(s));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return xk("SimpleDb","Removing database:",e),gw(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"D",value:function(){if(!wi())return!1;if(e.C())return!0;var t=mi(),n=e.S(t),r=0<n&&n<10,i=e.N(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.k)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"S",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"N",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),pw=function(){function e(t){Br(this,e),this.L=t,this.q=!1,this.U=null}return Wr(e,[{key:"isDone",get:function(){return this.q}},{key:"K",get:function(){return this.U}},{key:"cursor",set:function(e){this.L=e}},{key:"done",value:function(){this.q=!0}},{key:"G",value:function(e){this.U=e}},{key:"delete",value:function(){return gw(this.L.delete())}}]),e}(),vw=function(e){$r(n,e);var t=ti(n);function n(e,r){var i;return Br(this,n),(i=t.call(this,Ak.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Wr(n)}(Rk);function mw(e){return"IndexedDbTransactionError"===e.name}var yw=function(){function e(t){Br(this,e),this.store=t}return Wr(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(xk("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(xk("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),gw(n)}},{key:"add",value:function(e){return xk("SimpleDb","ADD",this.store.name,e,e),gw(this.store.add(e))}},{key:"get",value:function(e){var t=this;return gw(this.store.get(e)).next((function(n){return void 0===n&&(n=null),xk("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return xk("SimpleDb","DELETE",this.store.name,e),gw(this.store.delete(e))}},{key:"count",value:function(){return xk("SimpleDb","COUNT",this.store.name),gw(this.store.count())}},{key:"j",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.W(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new fw((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new fw((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){xk("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.W(r,(function(e,t,n){return n.delete()}))}},{key:"X",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.W(r,t)}},{key:"Z",value:function(e){var t=this.cursor({});return new fw((function(n,r){t.onerror=function(e){var t=kw(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"W",value:function(e,t){var n=[];return new fw((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new pw(i),o=t(i.primaryKey,i.value,a);if(o instanceof fw){var u=o.catch((function(e){return a.done(),fw.reject(e)}));n.push(u)}a.isDone?r():null===a.K?i.continue():i.continue(a.K)}else r()}})).next((function(){return fw.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function gw(e){return new fw((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=kw(e.target.error);n(t)}}))}var bw=!1;function kw(e){var t=dw.S(mi());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Rk("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return bw||(bw=!0,setTimeout((function(){throw r}),0)),r}}return e}var ww=function(){function e(t,n){Br(this,e),this.asyncQueue=t,this.tt=n,this.task=null}return Wr(e,[{key:"start",value:function(){this.et(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"et",value:function(e){var t=this;xk("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Vi(Fi().mark((function e(){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=xk,e.t1="Documents written: ",e.next=6,t.tt.nt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!mw(e.t4)){e.next=17;break}xk("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,cw(e.t4);case 19:return e.next=21,t.et(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),xw=function(){function e(t,n){Br(this,e),this.localStore=t,this.persistence=n}return Wr(e,[{key:"nt",value:function(){var e=Vi(Fi().mark((function e(){var t,n=this,r=arguments;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.st(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"st",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return fw.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return xk("IndexBackiller","Processing collection: ".concat(t)),n.it(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"it",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.rt(i,n)})).next((function(n){return xk("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"rt",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=iw(t);ow(r,n)>0&&(n=r)})),new aw(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),_w=function(){function e(t,n){var r=this;Br(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ot(e)},this.ut=function(e){return n.writeSequenceNumber(e)})}return Wr(e,[{key:"ot",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ut&&this.ut(e),e}}]),e}();function Sw(e){return null==e}function Ew(e){return 0===e&&1/e==-1/0}function Iw(e){return"number"==typeof e&&Number.isInteger(e)&&!Ew(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Tw(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Aw(t)),t=Cw(e.get(n),t);return Aw(t)}function Cw(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Aw(e){return e+"\x01\x01"}function Rw(e){var t=e.length;if(Tk(t>=2),2===t)return Tk("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Hk.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Ik(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Ik()}a=o+2}return new Hk(r)}_w.ct=-1;var Ow=["userId","batchId"];function Nw(e,t){return[e,Tw(t)]}function Pw(e,t,n){return[e,Tw(t),n]}var Dw={},Mw=["prefixPath","collectionGroup","readTime","documentId"],Lw=["prefixPath","collectionGroup","documentId"],Fw=["collectionGroup","readTime","prefixPath","documentId"],jw=["canonicalId","targetId"],Uw=["targetId","path"],Vw=["path","targetId"],zw=["collectionId","parent"],Bw=["indexId","uid"],qw=["uid","sequenceNumber"],Zw=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Ww=["indexId","uid","orderedDocumentKey"],Kw=["userId","collectionPath","documentId"],Gw=["userId","collectionPath","largestBatchId"],Hw=["userId","collectionGroup","largestBatchId"],Qw=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),$w=[].concat((0,ji.Z)(Qw),["documentOverlays"]),Yw=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Xw=Yw,Jw=[].concat(Xw,["indexConfiguration","indexState","indexEntries"]),ex=function(e){$r(n,e);var t=ti(n);function n(e,r){var i;return Br(this,n),(i=t.call(this)).ht=e,i.currentSequenceNumber=r,i}return Wr(n)}(sw);function tx(e,t){var n=Ck(e);return dw.M(n.ht,t)}function nx(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function rx(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ix(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var ax=function(){function e(t,n){Br(this,e),this.comparator=t,this.root=n||ux.EMPTY}return Wr(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ux.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ux.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new ox(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new ox(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new ox(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new ox(this.root,e,this.comparator,!0)}}]),e}(),ox=function(){function e(t,n,r,i){Br(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Wr(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),ux=function(){function e(t,n,r,i,a){Br(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Wr(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Ik();if(this.right.isRed())throw Ik();var e=this.left.check();if(e!==this.right.check())throw Ik();return e+(this.isRed()?0:1)}}]),e}();ux.EMPTY=null,ux.RED=!0,ux.BLACK=!1,ux.EMPTY=new(function(){function e(){Br(this,e),this.size=0}return Wr(e,[{key:"key",get:function(){throw Ik()}},{key:"value",get:function(){throw Ik()}},{key:"color",get:function(){throw Ik()}},{key:"left",get:function(){throw Ik()}},{key:"right",get:function(){throw Ik()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new ux(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var sx=function(){function e(t){Br(this,e),this.comparator=t,this.data=new ax(this.comparator)}return Wr(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new cx(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new cx(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),cx=function(){function e(t){Br(this,e),this.iter=t}return Wr(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function lx(e){return e.hasNext()?e.getNext():void 0}var fx=function(){function e(t){Br(this,e),this.fields=t,t.sort($k.comparator)}return Wr(e,[{key:"unionWith",value:function(t){var n,r=new sx($k.comparator),i=Gr(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=Gr(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Gr(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return qk(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),hx=function(e){$r(n,e);var t=ti(n);function n(){var e;return Br(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return Wr(n)}(ri(Error));var dx=function(e){function t(e){Br(this,t),this.binaryString=e}return Wr(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Bk(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new hx("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();dx.EMPTY_BYTE_STRING=new dx("");var px=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vx(e){if(Tk(!!e),"string"==typeof e){var t=0,n=px.exec(e);if(Tk(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:mx(e.seconds),nanos:mx(e.nanos)}}function mx(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function yx(e){return"string"==typeof e?dx.fromBase64String(e):dx.fromUint8Array(e)}function gx(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function bx(e){var t=e.mapValue.fields.__previous_value__;return gx(t)?bx(t):t}function kx(e){var t=vx(e.mapValue.fields.__local_write_time__.timestampValue);return new Wk(t.seconds,t.nanos)}var wx=Wr((function e(t,n,r,i,a,o,u,s,c){Br(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=s,this.useFetchStreams=c})),xx=function(){function e(t,n){Br(this,e),this.projectId=t,this.database=n||"(default)"}return Wr(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),_x={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Sx={nullValue:"NULL_VALUE"};function Ex(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?gx(e)?4:Ux(e)?9007199254740991:10:Ik()}function Ix(e,t){if(e===t)return!0;var n=Ex(e);if(n!==Ex(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return kx(e).isEqual(kx(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=vx(e.timestampValue),r=vx(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return yx(e.bytesValue).isEqual(yx(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return mx(e.geoPointValue.latitude)===mx(t.geoPointValue.latitude)&&mx(e.geoPointValue.longitude)===mx(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return mx(e.integerValue)===mx(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=mx(e.doubleValue),r=mx(t.doubleValue);return n===r?Ew(n)===Ew(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return qk(e.arrayValue.values||[],t.arrayValue.values||[],Ix);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(nx(n)!==nx(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ix(n[i],r[i])))return!1;return!0}(e,t);default:return Ik()}}function Tx(e,t){return void 0!==(e.values||[]).find((function(e){return Ix(e,t)}))}function Cx(e,t){if(e===t)return 0;var n=Ex(e),r=Ex(t);if(n!==r)return Bk(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Bk(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=mx(e.integerValue||e.doubleValue),r=mx(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ax(e.timestampValue,t.timestampValue);case 4:return Ax(kx(e),kx(t));case 5:return Bk(e.stringValue,t.stringValue);case 6:return function(e,t){var n=yx(e),r=yx(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Bk(n[i],r[i]);if(0!==a)return a}return Bk(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Bk(mx(e.latitude),mx(t.latitude));return 0!==n?n:Bk(mx(e.longitude),mx(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Cx(n[i],r[i]);if(a)return a}return Bk(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===_x.mapValue&&t===_x.mapValue)return 0;if(e===_x.mapValue)return 1;if(t===_x.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Bk(r[o],a[o]);if(0!==u)return u;var s=Cx(n[r[o]],i[a[o]]);if(0!==s)return s}return Bk(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Ik()}}function Ax(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Bk(e,t);var n=vx(e),r=vx(t),i=Bk(n.seconds,r.seconds);return 0!==i?i:Bk(n.nanos,r.nanos)}function Rx(e){return Ox(e)}function Ox(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=vx(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?yx(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Yk.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Gr(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Ox(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Gr(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Ox(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Ik();var t,n}function Nx(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Px(e){return!!e&&"integerValue"in e}function Dx(e){return!!e&&"arrayValue"in e}function Mx(e){return!!e&&"nullValue"in e}function Lx(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Fx(e){return!!e&&"mapValue"in e}function jx(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return rx(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=jx(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=jx(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Ux(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Vx(e){return"nullValue"in e?Sx:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Nx(xx.empty(),Yk.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Ik()}function zx(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Nx(xx.empty(),Yk.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?_x:Ik()}function Bx(e,t){var n=Cx(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function qx(e,t){var n=Cx(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Zx=function(){function e(t){Br(this,e),this.value=t}return Wr(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Fx(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=jx(t)}},{key:"setAll",value:function(e){var t=this,n=$k.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=jx(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Fx(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Ix(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Fx(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){rx(t,(function(t,n){return e[t]=n}));var r,i=Gr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(jx(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Wx(e){var t=[];return rx(e.fields,(function(e,n){var r=new $k([e]);if(Fx(n)){var i=Wx(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Gr(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new fx(t)}var Kx=function(){function e(t,n,r,i,a,o,u){Br(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return Wr(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Kk.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Zx.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Zx.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Kk.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Kk.min(),Kk.min(),Kk.min(),Zx.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Kk.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Kk.min(),Kk.min(),Zx.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Kk.min(),Kk.min(),Zx.empty(),2)}}]),e}(),Gx=Wr((function e(t,n){Br(this,e),this.position=t,this.inclusive=n}));function Hx(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Yk.comparator(Yk.fromName(o.referenceValue),n.key):Cx(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Qx(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Ix(e.position[n],t.position[n]))return!1;return!0}var $x=Wr((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Br(this,e),this.field=t,this.dir=n}));function Yx(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Xx=Wr((function e(){Br(this,e)})),Jx=function(e){$r(n,e);var t=ti(n);function n(e,r,i){var a;return Br(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Wr(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Cx(t,this.value)):null!==t&&Ex(this.value)===Ex(t)&&this.matchesComparison(Cx(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ik()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new c_(e,t,r):"array-contains"===t?new d_(e,r):"in"===t?new p_(e,r):"not-in"===t?new v_(e,r):"array-contains-any"===t?new m_(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new l_(e,n):new f_(e,n)}}]),n}(Xx),e_=function(e){$r(n,e);var t=ti(n);function n(e,r){var i;return Br(this,n),(i=t.call(this)).filters=e,i.op=r,i.lt=null,i}return Wr(n,[{key:"matches",value:function(e){return t_(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.lt||(this.lt=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.lt}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.ft((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"ft",value:function(e){var t,n=Gr(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(Xx);function t_(e){return"and"===e.op}function n_(e){return"or"===e.op}function r_(e){return i_(e)&&t_(e)}function i_(e){var t,n=Gr(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof e_)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function a_(e){if(e instanceof Jx)return e.field.canonicalString()+e.op.toString()+Rx(e.value);if(r_(e))return e.filters.map((function(e){return a_(e)})).join(",");var t=e.filters.map((function(e){return a_(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function o_(e,t){return e instanceof Jx?function(e,t){return t instanceof Jx&&e.op===t.op&&e.field.isEqual(t.field)&&Ix(e.value,t.value)}(e,t):e instanceof e_?function(e,t){return t instanceof e_&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&o_(n,t.filters[r])}),!0)}(e,t):void Ik()}function u_(e,t){var n=e.filters.concat(t);return e_.create(n,e.op)}function s_(e){return e instanceof Jx?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Rx(e.value))}(e):e instanceof e_?function(e){return e.op.toString()+" {"+e.getFilters().map(s_).join(" ,")+"}"}(e):"Filter"}var c_=function(e){$r(n,e);var t=ti(n);function n(e,r,i){var a;return Br(this,n),(a=t.call(this,e,r,i)).key=Yk.fromName(i.referenceValue),a}return Wr(n,[{key:"matches",value:function(e){var t=Yk.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(Jx),l_=function(e){$r(n,e);var t=ti(n);function n(e,r){var i;return Br(this,n),(i=t.call(this,e,"in",r)).keys=h_("in",r),i}return Wr(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Jx),f_=function(e){$r(n,e);var t=ti(n);function n(e,r){var i;return Br(this,n),(i=t.call(this,e,"not-in",r)).keys=h_("not-in",r),i}return Wr(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Jx);function h_(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Yk.fromName(e.referenceValue)}))}var d_=function(e){$r(n,e);var t=ti(n);function n(e,r){return Br(this,n),t.call(this,e,"array-contains",r)}return Wr(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Dx(t)&&Tx(t.arrayValue,this.value)}}]),n}(Jx),p_=function(e){$r(n,e);var t=ti(n);function n(e,r){return Br(this,n),t.call(this,e,"in",r)}return Wr(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Tx(this.value.arrayValue,t)}}]),n}(Jx),v_=function(e){$r(n,e);var t=ti(n);function n(e,r){return Br(this,n),t.call(this,e,"not-in",r)}return Wr(n,[{key:"matches",value:function(e){if(Tx(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Tx(this.value.arrayValue,t)}}]),n}(Jx),m_=function(e){$r(n,e);var t=ti(n);function n(e,r){return Br(this,n),t.call(this,e,"array-contains-any",r)}return Wr(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Dx(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Tx(t.value.arrayValue,e)}))}}]),n}(Jx),y_=Wr((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Br(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.dt=null}));function g_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new y_(e,t,n,r,i,a,o)}function b_(e){var t=Ck(e);if(null===t.dt){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return a_(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Sw(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Rx(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Rx(e)})).join(",")),t.dt=n}return t.dt}function k_(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Yx(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!o_(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Qx(e.startAt,t.startAt)&&Qx(e.endAt,t.endAt)}function w_(e){return Yk.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function x_(e,t){return e.filters.filter((function(e){return e instanceof Jx&&e.field.isEqual(t)}))}function __(e,t,n){var r,i=Sx,a=!0,o=Gr(x_(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Sx,c=!0;switch(u.op){case"<":case"<=":s=Vx(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=Sx}Bx({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Bx({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function S_(e,t,n){var r,i=_x,a=!0,o=Gr(x_(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=_x,c=!0;switch(u.op){case">=":case">":s=zx(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=_x}qx({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];qx({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var E_=Wr((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Br(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.wt=null,this._t=null,this.startAt,this.endAt}));function I_(e,t,n,r,i,a,o,u){return new E_(e,t,n,r,i,a,o,u)}function T_(e){return new E_(e)}function C_(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function A_(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function R_(e){var t,n=Gr(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function O_(e){return null!==e.collectionGroup}function N_(e){var t=Ck(e);if(null===t.wt){t.wt=[];var n=R_(t),r=A_(t);if(null!==n&&null===r)n.isKeyField()||t.wt.push(new $x(n)),t.wt.push(new $x($k.keyField(),"asc"));else{var i,a=!1,o=Gr(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.wt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new $x($k.keyField(),s))}}}return t.wt}function P_(e){var t=Ck(e);if(!t._t)if("F"===t.limitType)t._t=g_(t.path,t.collectionGroup,N_(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Gr(N_(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new $x(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Gx(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Gx(t.startAt.position,t.startAt.inclusive):null;t._t=g_(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t._t}function D_(e,t){t.getFirstInequalityField(),R_(e);var n=e.filters.concat([t]);return new E_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function M_(e,t,n){return new E_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function L_(e,t){return k_(P_(e),P_(t))&&e.limitType===t.limitType}function F_(e){return"".concat(b_(P_(e)),"|lt:").concat(e.limitType)}function j_(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return s_(e)})).join(", "),"]")),Sw(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Rx(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Rx(e)})).join(",")),"Target(".concat(t,")")}(P_(e)),"; limitType=").concat(e.limitType,")")}function U_(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Yk.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Gr(N_(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Gr(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Hx(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,N_(e),t))&&!(e.endAt&&!function(e,t,n){var r=Hx(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,N_(e),t))}(e,t)}function V_(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function z_(e){return function(t,n){var r,i=!1,a=Gr(N_(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=B_(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function B_(e,t,n){var r=e.field.isKeyField()?Yk.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Cx(r,i):Ik()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ik()}}var q_=function(){function e(t,n){Br(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Wr(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,a=Gr(n);try{for(a.s();!(r=a.n()).done;){var o=(0,i.Z)(r.value,2),u=o[0],s=o[1];if(this.equalsFn(u,e))return s}}catch(c){a.e(c)}finally{a.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){rx(this.inner,(function(t,n){var r,a=Gr(n);try{for(a.s();!(r=a.n()).done;){var o=(0,i.Z)(r.value,2),u=o[0],s=o[1];e(u,s)}}catch(c){a.e(c)}finally{a.f()}}))}},{key:"isEmpty",value:function(){return ix(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Z_=new ax(Yk.comparator);function W_(){return Z_}var K_=new ax(Yk.comparator);function G_(){for(var e=K_,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function H_(e){var t=K_;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Q_(){return Y_()}function $_(){return Y_()}function Y_(){return new q_((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var X_=new ax(Yk.comparator),J_=new sx(Yk.comparator);function eS(){for(var e=J_,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var tS=new sx(Bk);function nS(){return tS}function rS(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ew(t)?"-0":t}}function iS(e){return{integerValue:""+e}}function aS(e,t){return Iw(t)?iS(t):rS(e,t)}var oS=Wr((function e(){Br(this,e),this._=void 0}));function uS(e,t,n){return e instanceof lS?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&gx(t)&&(t=bx(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof fS?hS(e,t):e instanceof dS?pS(e,t):function(e,t){var n=cS(e,t),r=mS(n)+mS(e.gt);return Px(n)&&Px(e.gt)?iS(r):rS(e.serializer,r)}(e,t)}function sS(e,t,n){return e instanceof fS?hS(e,t):e instanceof dS?pS(e,t):n}function cS(e,t){return e instanceof vS?Px(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var lS=function(e){$r(n,e);var t=ti(n);function n(){return Br(this,n),t.apply(this,arguments)}return Wr(n)}(oS),fS=function(e){$r(n,e);var t=ti(n);function n(e){var r;return Br(this,n),(r=t.call(this)).elements=e,r}return Wr(n)}(oS);function hS(e,t){var n,r=yS(t),i=Gr(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Ix(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var dS=function(e){$r(n,e);var t=ti(n);function n(e){var r;return Br(this,n),(r=t.call(this)).elements=e,r}return Wr(n)}(oS);function pS(e,t){var n,r=yS(t),i=Gr(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Ix(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var vS=function(e){$r(n,e);var t=ti(n);function n(e,r){var i;return Br(this,n),(i=t.call(this)).serializer=e,i.gt=r,i}return Wr(n)}(oS);function mS(e){return mx(e.integerValue||e.doubleValue)}function yS(e){return Dx(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var gS=Wr((function e(t,n){Br(this,e),this.field=t,this.transform=n}));var bS=Wr((function e(t,n){Br(this,e),this.version=t,this.transformResults=n})),kS=function(){function e(t,n){Br(this,e),this.updateTime=t,this.exists=n}return Wr(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function wS(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var xS=Wr((function e(){Br(this,e)}));function _S(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new MS(e.key,kS.none()):new CS(e.key,e.data,kS.none());var n,r=e.data,i=Zx.empty(),a=new sx($k.comparator),o=Gr(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new AS(e.key,i,new fx(a.toArray()),kS.none())}function SS(e,t,n){e instanceof CS?function(e,t,n){var r=e.value.clone(),i=OS(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof AS?function(e,t,n){if(wS(e.precondition,t)){var r=OS(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(RS(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ES(e,t,n,r){return e instanceof CS?function(e,t,n,r){if(!wS(e.precondition,t))return n;var i=e.value.clone(),a=NS(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof AS?function(e,t,n,r){if(!wS(e.precondition,t))return n;var i=NS(e.fieldTransforms,r,t),a=t.data;return a.setAll(RS(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return wS(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function IS(e,t){var n,r=null,i=Gr(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=cS(a.transform,o||null);null!=u&&(null===r&&(r=Zx.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function TS(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&qk(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof fS&&t instanceof fS||e instanceof dS&&t instanceof dS?qk(e.elements,t.elements,Ix):e instanceof vS&&t instanceof vS?Ix(e.gt,t.gt):e instanceof lS&&t instanceof lS}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var CS=function(e){$r(n,e);var t=ti(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Br(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Wr(n,[{key:"getFieldMask",value:function(){return null}}]),n}(xS),AS=function(e){$r(n,e);var t=ti(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Br(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Wr(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(xS);function RS(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function OS(e,t,n){var r=new Map;Tk(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,sS(o,u,n[i]))}return r}function NS(e,t,n){var r,i=new Map,a=Gr(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,uS(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var PS,DS,MS=function(e){$r(n,e);var t=ti(n);function n(e,r){var i;return Br(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Wr(n,[{key:"getFieldMask",value:function(){return null}}]),n}(xS),LS=function(e){$r(n,e);var t=ti(n);function n(e,r){var i;return Br(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Wr(n,[{key:"getFieldMask",value:function(){return null}}]),n}(xS),FS=function(){function e(t,n,r,i){Br(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Wr(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&SS(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Gr(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=ES(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=Gr(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=ES(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=$_();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=_S(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Kk.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),eS())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&qk(this.mutations,e.mutations,(function(e,t){return TS(e,t)}))&&qk(this.baseMutations,e.baseMutations,(function(e,t){return TS(e,t)}))}}]),e}(),jS=function(){function e(t,n,r,i){Br(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Wr(e,null,[{key:"from",value:function(t,n,r){Tk(t.mutations.length===r.length);for(var i=X_,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),US=function(){function e(t,n){Br(this,e),this.largestBatchId=t,this.mutation=n}return Wr(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),VS=Wr((function e(t,n){Br(this,e),this.count=t,this.unchangedNames=n}));function zS(e){switch(e){default:return Ik();case Ak.CANCELLED:case Ak.UNKNOWN:case Ak.DEADLINE_EXCEEDED:case Ak.RESOURCE_EXHAUSTED:case Ak.INTERNAL:case Ak.UNAVAILABLE:case Ak.UNAUTHENTICATED:return!1;case Ak.INVALID_ARGUMENT:case Ak.NOT_FOUND:case Ak.ALREADY_EXISTS:case Ak.PERMISSION_DENIED:case Ak.FAILED_PRECONDITION:case Ak.ABORTED:case Ak.OUT_OF_RANGE:case Ak.UNIMPLEMENTED:case Ak.DATA_LOSS:return!0}}function BS(e){if(void 0===e)return _k("GRPC error has no .code"),Ak.UNKNOWN;switch(e){case PS.OK:return Ak.OK;case PS.CANCELLED:return Ak.CANCELLED;case PS.UNKNOWN:return Ak.UNKNOWN;case PS.DEADLINE_EXCEEDED:return Ak.DEADLINE_EXCEEDED;case PS.RESOURCE_EXHAUSTED:return Ak.RESOURCE_EXHAUSTED;case PS.INTERNAL:return Ak.INTERNAL;case PS.UNAVAILABLE:return Ak.UNAVAILABLE;case PS.UNAUTHENTICATED:return Ak.UNAUTHENTICATED;case PS.INVALID_ARGUMENT:return Ak.INVALID_ARGUMENT;case PS.NOT_FOUND:return Ak.NOT_FOUND;case PS.ALREADY_EXISTS:return Ak.ALREADY_EXISTS;case PS.PERMISSION_DENIED:return Ak.PERMISSION_DENIED;case PS.FAILED_PRECONDITION:return Ak.FAILED_PRECONDITION;case PS.ABORTED:return Ak.ABORTED;case PS.OUT_OF_RANGE:return Ak.OUT_OF_RANGE;case PS.UNIMPLEMENTED:return Ak.UNIMPLEMENTED;case PS.DATA_LOSS:return Ak.DATA_LOSS;default:return Ik()}}(DS=PS||(PS={}))[DS.OK=0]="OK",DS[DS.CANCELLED=1]="CANCELLED",DS[DS.UNKNOWN=2]="UNKNOWN",DS[DS.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",DS[DS.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",DS[DS.NOT_FOUND=5]="NOT_FOUND",DS[DS.ALREADY_EXISTS=6]="ALREADY_EXISTS",DS[DS.PERMISSION_DENIED=7]="PERMISSION_DENIED",DS[DS.UNAUTHENTICATED=16]="UNAUTHENTICATED",DS[DS.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",DS[DS.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",DS[DS.ABORTED=10]="ABORTED",DS[DS.OUT_OF_RANGE=11]="OUT_OF_RANGE",DS[DS.UNIMPLEMENTED=12]="UNIMPLEMENTED",DS[DS.INTERNAL=13]="INTERNAL",DS[DS.UNAVAILABLE=14]="UNAVAILABLE",DS[DS.DATA_LOSS=15]="DATA_LOSS";var qS=function(){function e(){Br(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return Wr(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return ZS}},{key:"getOrCreateInstance",value:function(){return null===ZS&&(ZS=new e),ZS}}]),e}(),ZS=null;function WS(){return new TextEncoder}var KS=new mk([4294967295,4294967295],0);function GS(e){var t=WS().encode(e),n=new vk;return n.update(t),new Uint8Array(n.digest())}function HS(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new mk([n,r],0),new mk([i,a],0)]}var QS=function(){function e(t,n,r){if(Br(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new $S("Invalid padding: ".concat(n));if(r<0)throw new $S("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new $S("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new $S("Invalid padding when bitmap length is 0: ".concat(n));this.It=8*t.length-n,this.Tt=mk.fromNumber(this.It)}return Wr(e,[{key:"Et",value:function(e,t,n){var r=e.add(t.multiply(mk.fromNumber(n)));return 1===r.compare(KS)&&(r=new mk([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}},{key:"At",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"vt",value:function(e){if(0===this.It)return!1;for(var t=HS(GS(e)),n=(0,i.Z)(t,2),r=n[0],a=n[1],o=0;o<this.hashCount;o++){var u=this.Et(r,a,o);if(!this.At(u))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.It)for(var t=HS(GS(e)),n=(0,i.Z)(t,2),r=n[0],a=n[1],o=0;o<this.hashCount;o++){var u=this.Et(r,a,o);this.Rt(u)}}},{key:"Rt",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),$S=function(e){$r(n,e);var t=ti(n);function n(){var e;return Br(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return Wr(n)}(ri(Error)),YS=function(){function e(t,n,r,i,a){Br(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Wr(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,XS.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Kk.min(),i,new ax(Bk),W_(),eS())}}]),e}(),XS=function(){function e(t,n,r,i,a){Br(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Wr(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,eS(),eS(),eS())}}]),e}(),JS=Wr((function e(t,n,r,i){Br(this,e),this.Pt=t,this.removedTargetIds=n,this.key=r,this.bt=i})),eE=Wr((function e(t,n){Br(this,e),this.targetId=t,this.Vt=n})),tE=Wr((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dx.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Br(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),nE=function(){function e(){Br(this,e),this.St=0,this.Dt=aE(),this.Ct=dx.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}return Wr(e,[{key:"current",get:function(){return this.xt}},{key:"resumeToken",get:function(){return this.Ct}},{key:"kt",get:function(){return 0!==this.St}},{key:"Mt",get:function(){return this.Nt}},{key:"$t",value:function(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}},{key:"Ot",value:function(){var e=eS(),t=eS(),n=eS();return this.Dt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ik()}})),new XS(this.Ct,this.xt,e,t,n)}},{key:"Ft",value:function(){this.Nt=!1,this.Dt=aE()}},{key:"Bt",value:function(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}},{key:"Lt",value:function(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}},{key:"qt",value:function(){this.St+=1}},{key:"Ut",value:function(){this.St-=1}},{key:"Kt",value:function(){this.Nt=!0,this.xt=!0}}]),e}(),rE=function(){function e(t){Br(this,e),this.Gt=t,this.Qt=new Map,this.jt=W_(),this.zt=iE(),this.Wt=new ax(Bk)}return Wr(e,[{key:"Ht",value:function(e){var t,n=Gr(e.Pt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.bt&&e.bt.isFoundDocument()?this.Jt(r,e.bt):this.Yt(r,e.key,e.bt)}}catch(u){n.e(u)}finally{n.f()}var i,a=Gr(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Yt(o,e.key,e.bt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Xt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Zt(n);switch(e.state){case 0:t.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||t.removeTarget(n);break;case 3:t.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:t.te(n)&&(t.ee(n),r.$t(e.resumeToken));break;default:Ik()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((function(e,r){n.te(r)&&t(r)}))}},{key:"ne",value:function(e){var t,n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){var a=i.target;if(w_(a))if(0===r){var o=new Yk(a.path);this.Yt(n,o,Kx.newNoDocument(o,Kk.min()))}else Tk(1===r);else{var u=this.ie(n);if(u!==r){var s=this.re(e,u);if(0!==s){this.ee(n);var c=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,c)}null===(t=qS.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,a,o,u,s,c={localCacheCount:t,existenceFilterCount:n.count},l=n.unchangedNames;return l&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==l?void 0:l.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(o=null===(a=null===(i=null==l?void 0:l.bits)||void 0===i?void 0:i.bitmap)||void 0===a?void 0:a.length)&&void 0!==o?o:0,padding:null!==(s=null===(u=null==l?void 0:l.bits)||void 0===u?void 0:u.padding)&&void 0!==s?s:0}),c}(s,u,e.Vt))}}}}},{key:"re",value:function(e,t){var n=e.Vt,r=n.unchangedNames,i=n.count;if(!r||!r.bits)return 1;var a,o,u=r.bits,s=u.bitmap,c=void 0===s?"":s,l=u.padding,f=void 0===l?0:l,h=r.hashCount,d=void 0===h?0:h;try{a=yx(c).toUint8Array()}catch(e){if(e instanceof hx)return Sk("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{o=new QS(a,f,d)}catch(e){return Sk(e instanceof $S?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===o.It?1:i!==t-this.oe(e.targetId,o)?2:0}},{key:"oe",value:function(e,t){var n=this,r=this.Gt.getRemoteKeysForTarget(e),i=0;return r.forEach((function(r){var a=n.Gt.ue(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());t.vt(o)||(n.Yt(e,r,null),i++)})),i}},{key:"ce",value:function(e){var t=this,n=new Map;this.Qt.forEach((function(r,i){var a=t.se(i);if(a){if(r.current&&w_(a.target)){var o=new Yk(a.target.path);null!==t.jt.get(o)||t.ae(i,o)||t.Yt(i,o,Kx.newNoDocument(o,e))}r.Mt&&(n.set(i,r.Ot()),r.Ft())}}));var r=eS();this.zt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.se(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.jt.forEach((function(t,n){return n.setReadTime(e)}));var i=new YS(e,n,this.Wt,this.jt,r);return this.jt=W_(),this.zt=iE(),this.Wt=new ax(Bk),i}},{key:"Jt",value:function(e,t){if(this.te(e)){var n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}}},{key:"Yt",value:function(e,t,n){if(this.te(e)){var r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Qt.delete(e)}},{key:"ie",value:function(e){var t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"qt",value:function(e){this.Zt(e).qt()}},{key:"Zt",value:function(e){var t=this.Qt.get(e);return t||(t=new nE,this.Qt.set(e,t)),t}},{key:"he",value:function(e){var t=this.zt.get(e);return t||(t=new sx(Bk),this.zt=this.zt.insert(e,t)),t}},{key:"te",value:function(e){var t=null!==this.se(e);return t||xk("WatchChangeAggregator","Detected inactive target",e),t}},{key:"se",value:function(e){var t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}},{key:"ee",value:function(e){var t=this;this.Qt.set(e,new nE),this.Gt.getRemoteKeysForTarget(e).forEach((function(n){t.Yt(e,n,null)}))}},{key:"ae",value:function(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}]),e}();function iE(){return new ax(Yk.comparator)}function aE(){return new ax(Yk.comparator)}var oE={asc:"ASCENDING",desc:"DESCENDING"},uE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sE={and:"AND",or:"OR"},cE=Wr((function e(t,n){Br(this,e),this.databaseId=t,this.useProto3Json=n}));function lE(e,t){return e.useProto3Json||Sw(t)?t:{value:t}}function fE(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function hE(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function dE(e,t){return fE(e,t.toTimestamp())}function pE(e){return Tk(!!e),Kk.fromTimestamp(function(e){var t=vx(e);return new Wk(t.seconds,t.nanos)}(e))}function vE(e,t){return function(e){return new Hk(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function mE(e){var t=Hk.fromString(e);return Tk(UE(t)),t}function yE(e,t){return vE(e.databaseId,t.path)}function gE(e,t){var n=mE(t);if(n.get(1)!==e.databaseId.projectId)throw new Rk(Ak.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Rk(Ak.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Yk(xE(n))}function bE(e,t){return vE(e.databaseId,t)}function kE(e){var t=mE(e);return 4===t.length?Hk.emptyPath():xE(t)}function wE(e){return new Hk(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function xE(e){return Tk(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function _E(e,t,n){return{name:yE(e,t),fields:n.value.mapValue.fields}}function SE(e,t,n){var r=gE(e,t.name),i=pE(t.updateTime),a=t.createTime?pE(t.createTime):Kk.min(),o=new Zx({mapValue:{fields:t.fields}}),u=Kx.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function EE(e,t){return"found"in t?function(e,t){Tk(!!t.found),t.found.name,t.found.updateTime;var n=gE(e,t.found.name),r=pE(t.found.updateTime),i=t.found.createTime?pE(t.found.createTime):Kk.min(),a=new Zx({mapValue:{fields:t.found.fields}});return Kx.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){Tk(!!t.missing),Tk(!!t.readTime);var n=gE(e,t.missing),r=pE(t.readTime);return Kx.newNoDocument(n,r)}(e,t):Ik()}function IE(e,t){var n;if(t instanceof CS)n={update:_E(e,t.key,t.value)};else if(t instanceof MS)n={delete:yE(e,t.key)};else if(t instanceof AS)n={update:_E(e,t.key,t.data),updateMask:jE(t.fieldMask)};else{if(!(t instanceof LS))return Ik();n={verify:yE(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof lS)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof fS)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof dS)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof vS)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw Ik()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:dE(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ik()}(e,t.precondition)),n}function TE(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?kS.updateTime(pE(e.updateTime)):void 0!==e.exists?kS.exists(e.exists):kS.none()}(t.currentDocument):kS.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Tk("REQUEST_TIME"===t.setToServerValue),n=new lS;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new fS(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new dS(i)}else"increment"in t?n=new vS(e,t.increment):Ik();var a=$k.fromServerFormat(t.fieldPath);return new gS(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=gE(e,t.update.name),a=new Zx({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new fx(t.map((function(e){return $k.fromServerFormat(e)})))}(t.updateMask);return new AS(i,a,o,n,r)}return new CS(i,a,n,r)}if(t.delete){var u=gE(e,t.delete);return new MS(u,n)}if(t.verify){var s=gE(e,t.verify);return new LS(s,n)}return Ik()}function CE(e,t){return{documents:[bE(e,t.path)]}}function AE(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=bE(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=bE(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return FE(e_.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:ME(e.field),direction:NE(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=lE(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function RE(e){var t=kE(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Tk(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=OE(e);return t instanceof e_&&r_(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new $x(LE(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Sw(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Gx(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Gx(n,t)}(n.endAt)),I_(t,i,u,o,s,"F",c,l)}function OE(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=LE(e.unaryFilter.field);return Jx.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=LE(e.unaryFilter.field);return Jx.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=LE(e.unaryFilter.field);return Jx.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=LE(e.unaryFilter.field);return Jx.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ik()}}(e):void 0!==e.fieldFilter?function(e){return Jx.create(LE(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ik()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return e_.create(e.compositeFilter.filters.map((function(e){return OE(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Ik()}}(e.compositeFilter.op))}(e):Ik()}function NE(e){return oE[e]}function PE(e){return uE[e]}function DE(e){return sE[e]}function ME(e){return{fieldPath:e.canonicalString()}}function LE(e){return $k.fromServerFormat(e.fieldPath)}function FE(e){return e instanceof Jx?function(e){if("=="===e.op){if(Lx(e.value))return{unaryFilter:{field:ME(e.field),op:"IS_NAN"}};if(Mx(e.value))return{unaryFilter:{field:ME(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Lx(e.value))return{unaryFilter:{field:ME(e.field),op:"IS_NOT_NAN"}};if(Mx(e.value))return{unaryFilter:{field:ME(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ME(e.field),op:PE(e.op),value:e.value}}}(e):e instanceof e_?function(e){var t=e.getFilters().map((function(e){return FE(e)}));return 1===t.length?t[0]:{compositeFilter:{op:DE(e.op),filters:t}}}(e):Ik()}function jE(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function UE(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var VE=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Kk.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Kk.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:dx.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Br(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=s}return Wr(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),zE=Wr((function e(t){Br(this,e),this.fe=t}));function BE(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:qE(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:yE(e,t.key),fields:t.data.value.mapValue.fields,updateTime:fE(e,t.version.toTimestamp()),createTime:fE(e,t.createTime.toTimestamp())}}(e.fe,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:ZE(t.version)};else{if(!t.isUnknownDocument())return Ik();r.unknownDocument={path:n.path.toArray(),version:ZE(t.version)}}return r}function qE(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function ZE(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function WE(e){var t=new Wk(e.seconds,e.nanoseconds);return Kk.fromTimestamp(t)}function KE(e,t){for(var n=(t.baseMutations||[]).map((function(t){return TE(e.fe,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return TE(e.fe,t)})),u=Wk.fromMillis(t.localWriteTimeMs);return new FS(t.batchId,u,n,o)}function GE(e){var t,n,r=WE(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?WE(e.lastLimboFreeSnapshotVersion):Kk.min();return void 0!==e.query.documents?(Tk(1===(n=e.query).documents.length),t=P_(T_(kE(n.documents[0])))):t=function(e){return P_(RE(e))}(e.query),new VE(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,r,i,dx.fromBase64String(e.resumeToken))}function HE(e,t){var n,r=ZE(t.snapshotVersion),i=ZE(t.lastLimboFreeSnapshotVersion);n=w_(t.target)?CE(e.fe,t.target):AE(e.fe,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:b_(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function QE(e){var t=RE({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?M_(t,t.limit,"L"):t}function $E(e,t){return new US(t.largestBatchId,TE(e.fe,t.overlayMutation))}function YE(e,t){var n=t.path.lastSegment();return[e,Tw(t.path.popLast()),n]}function XE(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:ZE(r.readTime),documentKey:Tw(r.documentKey.path),largestBatchId:r.largestBatchId}}var JE=function(){function e(){Br(this,e)}return Wr(e,[{key:"getBundleMetadata",value:function(e,t){return eI(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:WE(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return eI(e).put({bundleId:(n=t).id,createTime:ZE(pE(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return tI(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:QE(t.bundledQuery),readTime:WE(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return tI(e).put(function(e){return{name:e.name,readTime:ZE(pE(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function eI(e){return tx(e,"bundles")}function tI(e){return tx(e,"namedQueries")}var nI=function(){function e(t,n){Br(this,e),this.serializer=t,this.userId=n}return Wr(e,[{key:"getOverlay",value:function(e,t){var n=this;return rI(e).get(YE(this.userId,t)).next((function(e){return e?$E(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Q_();return fw.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new US(t,a);i.push(r.we(e,o))})),fw.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Tw(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(rI(e).J("collectionPathOverlayIndex",i))})),fw.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Q_(),a=Tw(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return rI(e).j("collectionPathOverlayIndex",o).next((function(e){var t,n=Gr(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=$E(r.serializer,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Q_(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return rI(e).X({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=$E(a.serializer,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"we",value:function(e,t){return rI(e).put(function(e,t,n){var r=YE(t,n.mutation.key),a=(0,i.Z)(r,3);a[0];return{userId:t,collectionPath:a[1],documentId:a[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:IE(e.fe,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"de",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function rI(e){return tx(e,"documentOverlays")}var iI=function(){function e(){Br(this,e)}return Wr(e,[{key:"_e",value:function(e,t){this.me(e,t),t.ge()}},{key:"me",value:function(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(mx(e.integerValue));else if("doubleValue"in e){var n=mx(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),Ew(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie("".concat(r.seconds||"")),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(yx(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?Ux(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Ik()}},{key:"Te",value:function(e,t){this.ye(t,25),this.be(e,t)}},{key:"be",value:function(e,t){t.Ie(e)}},{key:"Re",value:function(e,t){var n=e.fields||{};this.ye(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Te(a,t),this.me(n[a],t)}}},{key:"Pe",value:function(e,t){var n=e.values||[];this.ye(t,50);var r,i=Gr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.me(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ve",value:function(e,t){var n=this;this.ye(t,37),Yk.fromName(e).path.forEach((function(e){n.ye(t,60),n.be(e,t)}))}},{key:"ye",value:function(e,t){e.pe(t)}},{key:"Ee",value:function(e){e.pe(2)}}]),e}();function aI(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function oI(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=aI(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}iI.Ve=new iI;var uI=function(){function e(){Br(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Wr(e,[{key:"Se",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.De(n.value),n=t.next();this.Ce()}},{key:"xe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ne(n.value),n=t.next();this.ke()}},{key:"Me",value:function(e){var t,n=Gr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{var a=r.codePointAt(0);this.De(240|a>>>18),this.De(128|63&a>>>12),this.De(128|63&a>>>6),this.De(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ce()}},{key:"$e",value:function(e){var t,n=Gr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{var a=r.codePointAt(0);this.Ne(240|a>>>18),this.Ne(128|63&a>>>12),this.Ne(128|63&a>>>6),this.Ne(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ke()}},{key:"Oe",value:function(e){var t=this.Fe(e),n=oI(t);this.Be(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Le",value:function(e){var t=this.Fe(e),n=oI(t);this.Be(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"qe",value:function(){this.Ue(255),this.Ue(255)}},{key:"Ke",value:function(){this.Ge(255),this.Ge(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Qe",value:function(){return this.buffer.slice(0,this.position)}},{key:"Fe",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"De",value:function(e){var t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}},{key:"Ne",value:function(e){var t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}},{key:"Ce",value:function(){this.Ue(0),this.Ue(1)}},{key:"ke",value:function(){this.Ge(0),this.Ge(1)}},{key:"Ue",value:function(e){this.Be(1),this.buffer[this.position++]=e}},{key:"Ge",value:function(e){this.Be(1),this.buffer[this.position++]=~e}},{key:"Be",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),sI=function(){function e(t){Br(this,e),this.je=t}return Wr(e,[{key:"Ae",value:function(e){this.je.Se(e)}},{key:"Ie",value:function(e){this.je.Me(e)}},{key:"pe",value:function(e){this.je.Oe(e)}},{key:"ge",value:function(){this.je.qe()}}]),e}(),cI=function(){function e(t){Br(this,e),this.je=t}return Wr(e,[{key:"Ae",value:function(e){this.je.xe(e)}},{key:"Ie",value:function(e){this.je.$e(e)}},{key:"pe",value:function(e){this.je.Le(e)}},{key:"ge",value:function(){this.je.Ke()}}]),e}(),lI=function(){function e(){Br(this,e),this.je=new uI,this.ze=new sI(this.je),this.We=new cI(this.je)}return Wr(e,[{key:"seed",value:function(e){this.je.seed(e)}},{key:"He",value:function(e){return 0===e?this.ze:this.We}},{key:"Qe",value:function(){return this.je.Qe()}},{key:"reset",value:function(){this.je.reset()}}]),e}(),fI=function(){function e(t,n,r,i){Br(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Wr(e,[{key:"Je",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function hI(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=dI(e.arrayValue,t.arrayValue))?n:0!==(n=dI(e.directionalValue,t.directionalValue))?n:Yk.comparator(e.documentKey,t.documentKey)}function dI(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var pI=function(){function e(t){Br(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];var n,r=Gr(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Ze=i:this.Xe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Wr(e,[{key:"tn",value:function(e){Tk(e.collectionGroup===this.collectionId);var t=Jk(e);if(void 0!==t&&!this.en(t))return!1;for(var n=ew(e),r=new Set,i=0,a=0;i<n.length&&this.en(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){var o=n[i];if(!this.nn(this.Ze,o)||!this.sn(this.Ye[a++],o))return!1}++i}for(;i<n.length;++i){var u=n[i];if(a>=this.Ye.length||!this.sn(this.Ye[a++],u))return!1}return!0}},{key:"en",value:function(e){var t,n=Gr(this.Xe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.nn(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"nn",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"sn",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function vI(e){var t,n;if(Tk(e instanceof Jx||e instanceof e_),e instanceof Jx){if(e instanceof p_){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return Jx.create(e.field,"==",t)})))||[];return e_.create(r,"or")}return e}var i=e.filters.map((function(e){return vI(e)}));return e_.create(i,e.op)}function mI(e){if(0===e.getFilters().length)return[];var t=kI(vI(e));return Tk(bI(t)),yI(t)||gI(t)?[t]:t.getFilters()}function yI(e){return e instanceof Jx}function gI(e){return e instanceof e_&&r_(e)}function bI(e){return yI(e)||gI(e)||function(e){if(e instanceof e_&&n_(e)){var t,n=Gr(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!yI(r)&&!gI(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function kI(e){if(Tk(e instanceof Jx||e instanceof e_),e instanceof Jx)return e;if(1===e.filters.length)return kI(e.filters[0]);var t=e.filters.map((function(e){return kI(e)})),n=e_.create(t,e.op);return bI(n=_I(n))?n:(Tk(n instanceof e_),Tk(t_(n)),Tk(n.filters.length>1),n.filters.reduce((function(e,t){return wI(e,t)})))}function wI(e,t){var n;return Tk(e instanceof Jx||e instanceof e_),Tk(t instanceof Jx||t instanceof e_),n=e instanceof Jx?t instanceof Jx?function(e,t){return e_.create([e,t],"and")}(e,t):xI(e,t):t instanceof Jx?xI(t,e):function(e,t){if(Tk(e.filters.length>0&&t.filters.length>0),t_(e)&&t_(t))return u_(e,t.getFilters());var n=n_(e)?e:t,r=n_(e)?t:e,i=n.filters.map((function(e){return wI(e,r)}));return e_.create(i,"or")}(e,t),_I(n)}function xI(e,t){if(t_(t))return u_(t,e.getFilters());var n=t.filters.map((function(t){return wI(e,t)}));return e_.create(n,"or")}function _I(e){if(Tk(e instanceof Jx||e instanceof e_),e instanceof Jx)return e;var t=e.getFilters();if(1===t.length)return _I(t[0]);if(i_(e))return e;var n=t.map((function(e){return _I(e)})),r=[];return n.forEach((function(t){t instanceof Jx?r.push(t):t instanceof e_&&(t.op===e.op?r.push.apply(r,(0,ji.Z)(t.filters)):r.push(t))})),1===r.length?r[0]:e_.create(r,e.op)}var SI=function(){function e(){Br(this,e),this.rn=new EI}return Wr(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.rn.add(t),fw.resolve()}},{key:"getCollectionParents",value:function(e,t){return fw.resolve(this.rn.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return fw.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return fw.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return fw.resolve(null)}},{key:"getIndexType",value:function(e,t){return fw.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return fw.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return fw.resolve(null)}},{key:"getMinOffset",value:function(e,t){return fw.resolve(aw.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return fw.resolve(aw.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return fw.resolve()}},{key:"updateIndexEntries",value:function(e,t){return fw.resolve()}}]),e}(),EI=function(){function e(){Br(this,e),this.index={}}return Wr(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new sx(Hk.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new sx(Hk.comparator)).toArray()}}]),e}(),II=new Uint8Array(0),TI=function(){function e(t,n){Br(this,e),this.user=t,this.databaseId=n,this.on=new EI,this.un=new q_((function(e){return b_(e)}),(function(e,t){return k_(e,t)})),this.uid=t.uid||""}return Wr(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.on.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.on.add(t)}));var a={collectionId:r,parent:Tw(i)};return CI(e).put(a)}return fw.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Zk(t),""],!1,!0);return CI(e).j(r).next((function(e){var r,i=Gr(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Rw(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=RI(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=OI(e);return a.next((function(e){o.put(XE(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=RI(e),r=OI(e),i=AI(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=AI(e),i=!0,a=new Map;return fw.forEach(this.cn(t),(function(t){return n.an(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=eS(),o=[];return fw.forEach(a,(function(i,a){var u;xk("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(b_(t)));var s=function(e,t){var n=Jk(t);if(void 0===n)return null;var r,i=Gr(x_(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=Gr(ew(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=Gr(x_(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=Gr(ew(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?__(e,o.fieldPath,e.startAt):S_(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Gx(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=Gr(ew(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?S_(e,o.fieldPath,e.endAt):__(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Gx(r,i)}(a,i),h=n.hn(i,a,l),d=n.hn(i,a,f),p=n.ln(i,a,c),v=n.fn(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return fw.forEach(v,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=Yk.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return fw.resolve(null)}))}},{key:"cn",value:function(e){var t=this.un.get(e);return t||(t=0===e.filters.length?[e]:mI(e_.create(e.filters,"and")).map((function(t){return g_(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.un.set(e,t),t)}},{key:"fn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.dn(t[s/c]):II,h=u.wn(e,f,n[s%c],r),d=u._n(e,f,i[s%c],a),p=o.map((function(t){return u.wn(e,f,t,!0)}));l.push.apply(l,(0,ji.Z)(u.createRange(h,d,p)))},h=0;h<s;++h)f(h);return l}},{key:"wn",value:function(e,t,n,r){var i=new fI(e,Yk.empty(),t,n);return r?i:i.Je()}},{key:"_n",value:function(e,t,n,r){var i=new fI(e,Yk.empty(),t,n);return r?i.Je():i}},{key:"an",value:function(e,t){var n=new pI(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=Gr(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.tn(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.cn(t);return fw.forEach(i,(function(t){return n.an(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new sx($k.comparator),r=!1,i=Gr(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=Gr(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var s,c=Gr(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"mn",value:function(e,t){var n,r=new lI,i=Gr(ew(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.He(a.kind);iI.Ve._e(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Qe()}},{key:"dn",value:function(e){var t=new lI;return iI.Ve._e(e,t.He(0)),t.Qe()}},{key:"gn",value:function(e,t){var n=new lI;return iI.Ve._e(Nx(this.databaseId,t),n.He(function(e){var t=ew(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Qe()}},{key:"ln",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new lI);var i,a=0,o=Gr(ew(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=Gr(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.yn(t,s.fieldPath)&&Dx(c))r=this.pn(r,s,c);else{var h=f.He(s.kind);iI.Ve._e(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.In(r)}},{key:"hn",value:function(e,t,n){return this.ln(e,t,n.position)}},{key:"In",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Qe();return t}},{key:"pn",value:function(e,t,n){var r,i=(0,ji.Z)(e),a=[],o=Gr(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=Gr(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new lI;f.seed(l.Qe()),iI.Ve._e(s,f.He(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"yn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Jx&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=RI(e),a=OI(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next((function(e){var t=[];return fw.forEach(e,(function(e){return a.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new nw(t.sequenceNumber,new aw(WE(t.readTime),new Yk(Rw(t.documentKey)),t.largestBatchId)):nw.empty(),r=e.fields.map((function(e){var t=(0,i.Z)(e,2),n=t[0],r=t[1];return new tw($k.fromServerFormat(n),r)}));return new Xk(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Bk(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=RI(e),a=OI(e);return this.Tn(e).next((function(e){return i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return fw.forEach(t,(function(t){return a.put(XE(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return fw.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?fw.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),fw.forEach(a,(function(r){return n.En(e,t,r).next((function(t){var a=n.An(i,r);return t.isEqual(a)?fw.resolve():n.vn(e,i,r,t,a)}))}))}))}))}},{key:"Rn",value:function(e,t,n,r){return AI(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"Pn",value:function(e,t,n,r){return AI(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(n,t.key),t.key.path.toArray()])}},{key:"En",value:function(e,t,n){var r=AI(e),i=new sx(hI);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.gn(n,t)])},(function(e,r){i=i.add(new fI(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"An",value:function(e,t){var n=new sx(hI),r=this.mn(t,e);if(null==r)return n;var i=Jk(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Dx(a)){var o,u=Gr(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new fI(t.indexId,e.key,this.dn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new fI(t.indexId,e.key,II,r));return n}},{key:"vn",value:function(e,t,n,r,i){var a=this;xk("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=lx(a),s=lx(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=lx(o)):l?(i(u),u=lx(a)):(u=lx(a),s=lx(o))}}(r,i,hI,(function(r){o.push(a.Rn(e,t,n,r))}),(function(r){o.push(a.Pn(e,t,n,r))})),fw.waitFor(o)}},{key:"Tn",value:function(e){var t=1;return OI(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return hI(e,t)})).filter((function(e,t,n){return!t||0!==hI(e,n[t-1])}));var r=[];r.push(e);var i,a=Gr(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=hI(o,e),s=hI(o,t);if(0===u)r[0]=e.Je();else if(u>0&&s<0)r.push(o),r.push(o.Je());else if(s>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.bn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,II,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,II,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"bn",value:function(e,t){return hI(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(NI)}},{key:"getMinOffset",value:function(e,t){var n=this;return fw.mapArray(this.cn(t),(function(t){return n.an(e,t).next((function(e){return e||Ik()}))})).next(NI)}}]),e}();function CI(e){return tx(e,"collectionParents")}function AI(e){return tx(e,"indexEntries")}function RI(e){return tx(e,"indexConfiguration")}function OI(e){return tx(e,"indexState")}function NI(e){Tk(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;ow(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new aw(t.readTime,t.documentKey,n)}var PI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},DI=function(){function e(t,n,r){Br(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Wr(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function MI(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.X({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Tk(1===u)})));var c,l=[],f=Gr(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Pw(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return fw.waitFor(a).next((function(){return l}))}function LI(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Ik();t=e.noDocument}return JSON.stringify(t).length}DI.DEFAULT_COLLECTION_PERCENTILE=10,DI.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,DI.DEFAULT=new DI(41943040,DI.DEFAULT_COLLECTION_PERCENTILE,DI.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),DI.DISABLED=new DI(-1,0,0);var FI=function(){function e(t,n,r,i){Br(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}return Wr(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return UI(e).X({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=VI(e),o=UI(e);return o.add({}).next((function(u){Tk("number"==typeof u);var s,c=new FS(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return IE(e.fe,t)})),i=n.mutations.map((function(t){return IE(e.fe,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],h=new sx((function(e,t){return Bk(e.canonicalString(),t.canonicalString())})),d=Gr(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Pw(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Dw))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Vn[u]=c.keys()})),fw.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return UI(e).get(t).next((function(e){return e?(Tk(e.userId===n.userId),KE(n.serializer,e)):null}))}},{key:"Sn",value:function(e,t){var n=this;return this.Vn[t]?fw.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Vn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return UI(e).X({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Tk(t.batchId>=r),a=KE(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return UI(e).X({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return UI(e).j("userMutationsIndex",n).next((function(e){return e.map((function(e){return KE(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Nw(this.userId,t.path),a=IDBKeyRange.lowerBound(r),o=[];return VI(e).X({range:a},(function(r,a,u){var s=(0,i.Z)(r,3),c=s[0],l=s[1],f=s[2],h=Rw(l);if(c===n.userId&&t.path.isEqual(h))return UI(e).get(f).next((function(e){if(!e)throw Ik();Tk(e.userId===n.userId),o.push(KE(n.serializer,e))}));u.done()})).next((function(){return o}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new sx(Bk),a=[];return t.forEach((function(t){var o=Nw(n.userId,t.path),u=IDBKeyRange.lowerBound(o),s=VI(e).X({range:u},(function(e,a,o){var u=(0,i.Z)(e,3),s=u[0],c=u[1],l=u[2],f=Rw(c);s===n.userId&&t.path.isEqual(f)?r=r.add(l):o.done()}));a.push(s)})),fw.waitFor(a).next((function(){return n.Dn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,a=r.length+1,o=Nw(this.userId,r),u=IDBKeyRange.lowerBound(o),s=new sx(Bk);return VI(e).X({range:u},(function(e,t,o){var u=(0,i.Z)(e,3),c=u[0],l=u[1],f=u[2],h=Rw(l);c===n.userId&&r.isPrefixOf(h)?h.length===a&&(s=s.add(f)):o.done()})).next((function(){return n.Dn(e,s)}))}},{key:"Dn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(UI(e).get(t).next((function(e){if(null===e)throw Ik();Tk(e.userId===n.userId),r.push(KE(n.serializer,e))})))})),fw.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return MI(e.ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Cn(t.batchId)})),fw.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Cn",value:function(e){delete this.Vn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return fw.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return VI(e).X({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Rw(e[1]);i.push(a)}else r.done()})).next((function(){Tk(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return jI(e,this.userId,t)}},{key:"xn",value:function(e){var t=this;return zI(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"de",value:function(t,n,r,i){return Tk(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function jI(e,t,n){var r=Nw(t,n.path),a=r[1],o=IDBKeyRange.lowerBound(r),u=!1;return VI(e).X({range:o,Y:!0},(function(e,n,r){var o=(0,i.Z)(e,3),s=o[0],c=o[1];o[2];s===t&&c===a&&(u=!0),r.done()})).next((function(){return u}))}function UI(e){return tx(e,"mutations")}function VI(e){return tx(e,"documentMutations")}function zI(e){return tx(e,"mutationQueues")}var BI=function(){function e(t){Br(this,e),this.Nn=t}return Wr(e,[{key:"next",value:function(){return this.Nn+=2,this.Nn}}],[{key:"kn",value:function(){return new e(0)}},{key:"Mn",value:function(){return new e(-1)}}]),e}(),qI=function(){function e(t,n){Br(this,e),this.referenceDelegate=t,this.serializer=n}return Wr(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.$n(e).next((function(n){var r=new BI(n.highestTargetId);return n.highestTargetId=r.next(),t.On(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.$n(e).next((function(e){return Kk.fromTimestamp(new Wk(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.$n(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.$n(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.On(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Fn(e,t).next((function(){return n.$n(e).next((function(r){return r.targetCount+=1,n.Bn(t,r),n.On(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Fn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return ZI(e).delete(t.targetId)})).next((function(){return n.$n(e)})).next((function(t){return Tk(t.targetCount>0),t.targetCount-=1,n.On(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return ZI(e).X((function(o,u){var s=GE(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return fw.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return ZI(e).X((function(e,n){var r=GE(n);t(r)}))}},{key:"$n",value:function(e){return WI(e).get("targetGlobalKey").next((function(e){return Tk(null!==e),e}))}},{key:"On",value:function(e,t){return WI(e).put("targetGlobalKey",t)}},{key:"Fn",value:function(e,t){return ZI(e).put(HE(this.serializer,t))}},{key:"Bn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.$n(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=b_(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return ZI(e).X({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=GE(n);k_(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=KI(e);return t.forEach((function(t){var o=Tw(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),fw.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=KI(e);return fw.forEach(t,(function(t){var a=Tw(t.path);return fw.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=KI(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=KI(e),i=eS();return r.X({range:n,Y:!0},(function(e,t,n){var r=Rw(e[1]),a=new Yk(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Tw(t.path),r=IDBKeyRange.bound([n],[Zk(n)],!1,!0),a=0;return KI(e).X({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=(0,i.Z)(e,2),o=r[0];r[1];0!==o&&(a++,n.done())})).next((function(){return a>0}))}},{key:"le",value:function(e,t){return ZI(e).get(t).next((function(e){return e?GE(e):null}))}}]),e}();function ZI(e){return tx(e,"targets")}function WI(e){return tx(e,"targetGlobal")}function KI(e){return tx(e,"targetDocuments")}function GI(e,t){var n=(0,i.Z)(e,2),r=n[0],a=n[1],o=(0,i.Z)(t,2),u=o[0],s=o[1],c=Bk(r,u);return 0===c?Bk(a,s):c}var HI=function(){function e(t){Br(this,e),this.Ln=t,this.buffer=new sx(GI),this.qn=0}return Wr(e,[{key:"Un",value:function(){return++this.qn}},{key:"Kn",value:function(e){var t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();GI(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),QI=function(){function e(t,n,r){Br(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Gn=null}return Wr(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}},{key:"stop",value:function(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}},{key:"started",get:function(){return null!==this.Gn}},{key:"Qn",value:function(e){var t=this;xk("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Vi(Fi().mark((function e(){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Gn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!mw(e.t0)){e.next=12;break}xk("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,cw(e.t0);case 14:return e.next=16,t.Qn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),$I=function(){function e(t,n){Br(this,e),this.jn=t,this.params=n}return Wr(e,[{key:"calculateTargetCount",value:function(e,t){return this.jn.zn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return fw.resolve(_w.ct);var r=new HI(t);return this.jn.forEachTarget(e,(function(e){return r.Kn(e.sequenceNumber)})).next((function(){return n.jn.Wn(e,(function(e){return r.Kn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.jn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.jn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(xk("LruGarbageCollector","Garbage collection skipped; disabled"),fw.resolve(PI)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(xk("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),PI):n.Hn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.jn.getCacheSize(e)}},{key:"Hn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(xk("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),wk()<=Wi.DEBUG&&xk("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),fw.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function YI(e,t){return new $I(e,t)}var XI=function(){function e(t,n){Br(this,e),this.db=t,this.garbageCollector=YI(this,n)}return Wr(e,[{key:"zn",value:function(e){var t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Jn",value:function(e){var t=0;return this.Wn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Wn",value:function(e,t){return this.Yn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return JI(e,n)}},{key:"removeReference",value:function(e,t,n){return JI(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return JI(e,t)}},{key:"Xn",value:function(e,t){return function(e,t){var n=!1;return zI(e).Z((function(r){return jI(e,r,t).next((function(e){return e&&(n=!0),fw.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Yn(e,(function(o,u){if(u<=t){var s=n.Xn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Kk.min()),KI(e).delete([0,Tw(o.path)])}))}));i.push(s)}})).next((function(){return fw.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return JI(e,t)}},{key:"Yn",value:function(e,t){var n,r=KI(e),a=_w.ct;return r.X({index:"documentTargetsIndex"},(function(e,r){var o=(0,i.Z)(e,2),u=o[0],s=(o[1],r.path),c=r.sequenceNumber;0===u?(a!==_w.ct&&t(new Yk(Rw(n)),a),a=c,n=s):a=_w.ct})).next((function(){a!==_w.ct&&t(new Yk(Rw(n)),a)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function JI(e,t){return KI(e).put(function(e,t){return{targetId:0,path:Tw(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var eT=function(){function e(){Br(this,e),this.changes=new q_((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Wr(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Kx.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?fw.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),tT=function(){function e(t){Br(this,e),this.serializer=t}return Wr(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return aT(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return aT(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],qE(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Zn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Kx.newInvalidDocument(t);return aT(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(oT(t))},(function(e,i){r=n.ts(t,i)})).next((function(){return r}))}},{key:"es",value:function(e,t){var n=this,r={size:0,document:Kx.newInvalidDocument(t)};return aT(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(oT(t))},(function(e,i){r={document:n.ts(t,i),size:LI(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=W_();return this.ns(e,t,(function(e,t){var i=n.ts(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"ss",value:function(e,t){var n=this,r=W_(),i=new ax(Yk.comparator);return this.ns(e,t,(function(e,t){var a=n.ts(e,t);r=r.insert(e,a),i=i.insert(e,LI(t))})).next((function(){return{documents:r,rs:i}}))}},{key:"ns",value:function(e,t,n){if(t.isEmpty())return fw.resolve();var r=new sx(sT);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(oT(r.first()),oT(r.last())),a=r.getIterator(),o=a.getNext();return aT(e).X({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Yk.fromSegments([].concat((0,ji.Z)(t.prefixPath),[t.collectionGroup,t.documentId]));o&&sT(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.G(oT(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),qE(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return aT(e).j(IDBKeyRange.bound(o,u,!0)).next((function(e){var n,a=W_(),o=Gr(e);try{for(o.s();!(n=o.n()).done;){var u=n.value,s=i.ts(Yk.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s.isFoundDocument()&&(U_(t,s)||r.has(s.key))&&(a=a.insert(s.key,s))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=W_(),o=uT(t,n),u=uT(t,aw.max());return aT(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.ts(Yk.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new rT(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return iT(e).get("remoteDocumentGlobalKey").next((function(e){return Tk(!!e),e}))}},{key:"Zn",value:function(e,t){return iT(e).put("remoteDocumentGlobalKey",t)}},{key:"ts",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=SE(e.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Yk.fromSegments(t.noDocument.path),i=WE(t.noDocument.readTime);n=Kx.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Ik();var a=Yk.fromSegments(t.unknownDocument.path),o=WE(t.unknownDocument.version);n=Kx.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Wk(e[0],e[1]);return Kk.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(Kk.min()))return n}return Kx.newInvalidDocument(e)}}]),e}();function nT(e){return new tT(e)}var rT=function(e){$r(n,e);var t=ti(n);function n(e,r){var i;return Br(this,n),(i=t.call(this)).os=e,i.trackRemovals=r,i.us=new q_((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Wr(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new sx((function(e,t){return Bk(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.us.get(a);if(n.push(t.os.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=BE(t.os.serializer,o);i=i.add(a.path.popLast());var c=LI(s);r+=c-u.size,n.push(t.os.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=BE(t.os.serializer,o.convertToNoDocument(Kk.min()));n.push(t.os.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.os.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.os.updateMetadata(e,r)),fw.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.os.es(e,t).next((function(e){return n.us.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.os.ss(e,t).next((function(e){var t=e.documents;return e.rs.forEach((function(e,r){n.us.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(eT);function iT(e){return tx(e,"remoteDocumentGlobal")}function aT(e){return tx(e,"remoteDocumentsV14")}function oT(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function uT(e,t){var n=t.documentKey.path.toArray();return[e,qE(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function sT(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Bk(n[a],r[a]))return i;return(i=Bk(n.length,r.length))||((i=Bk(n[n.length-2],r[r.length-2]))||Bk(n[n.length-1],r[r.length-1]))}var cT=Wr((function e(t,n){Br(this,e),this.overlayedDocument=t,this.mutatedFields=n})),lT=function(){function e(t,n,r,i){Br(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return Wr(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&ES(r.mutation,e,fx.empty(),Wk.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,eS()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:eS(),i=Q_();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=G_();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Q_();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,eS())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=W_(),a=Y_(),o=Y_();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof AS)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),ES(o.mutation,t,o.mutation.getFieldMask(),Wk.now())):a.set(t.key,fx.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new cT(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Y_(),i=new ax((function(e,t){return e-t})),a=eS();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=Gr(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||fx.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||eS()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=$_();c.forEach((function(e){if(!a.has(e)){var n=_S(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return fw.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Yk.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):O_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):fw.resolve(Q_()),u=-1,s=a;return o.next((function(t){return fw.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?fw.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,eS())})).next((function(e){return{batchId:u,changes:H_(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Yk(t)).next((function(e){var t=G_();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=G_();return this.indexManager.getCollectionParents(e,i).next((function(o){return fw.forEach(o,(function(o){var u=function(e,t){return new E_(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,Kx.newInvalidDocument(r)))}));var n=G_();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&ES(a.mutation,i,fx.empty(),Wk.now()),U_(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),fT=function(){function e(t){Br(this,e),this.serializer=t,this.cs=new Map,this.hs=new Map}return Wr(e,[{key:"getBundleMetadata",value:function(e,t){return fw.resolve(this.cs.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:pE(n.createTime)}),fw.resolve()}},{key:"getNamedQuery",value:function(e,t){return fw.resolve(this.hs.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:QE(e.bundledQuery),readTime:pE(e.readTime)}}(t)),fw.resolve()}}]),e}(),hT=function(){function e(){Br(this,e),this.overlays=new ax(Yk.comparator),this.ls=new Map}return Wr(e,[{key:"getOverlay",value:function(e,t){return fw.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Q_();return fw.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.we(e,t,i)})),fw.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ls.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ls.delete(n)),fw.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Q_(),i=t.length+1,a=new Yk(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return fw.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new ax((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Q_(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Q_(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return fw.resolve(s)}},{key:"we",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new US(t,n));var a=this.ls.get(t);void 0===a&&(a=eS(),this.ls.set(t,a)),this.ls.set(t,a.add(n.key))}}]),e}(),dT=function(){function e(){Br(this,e),this.fs=new sx(pT.ds),this.ws=new sx(pT._s)}return Wr(e,[{key:"isEmpty",value:function(){return this.fs.isEmpty()}},{key:"addReference",value:function(e,t){var n=new pT(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}},{key:"gs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ys(new pT(e,t))}},{key:"ps",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Is",value:function(e){var t=this,n=new Yk(new Hk([])),r=new pT(n,e),i=new pT(n,e+1),a=[];return this.ws.forEachInRange([r,i],(function(e){t.ys(e),a.push(e.key)})),a}},{key:"Ts",value:function(){var e=this;this.fs.forEach((function(t){return e.ys(t)}))}},{key:"ys",value:function(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}},{key:"Es",value:function(e){var t=new Yk(new Hk([])),n=new pT(t,e),r=new pT(t,e+1),i=eS();return this.ws.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new pT(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),pT=function(){function e(t,n){Br(this,e),this.key=t,this.As=n}return Wr(e,null,[{key:"ds",value:function(e,t){return Yk.comparator(e.key,t.key)||Bk(e.As,t.As)}},{key:"_s",value:function(e,t){return Bk(e.As,t.As)||Yk.comparator(e.key,t.key)}}]),e}(),vT=function(){function e(t,n){Br(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new sx(pT.ds)}return Wr(e,[{key:"checkEmpty",value:function(e){return fw.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new FS(i,t,n,r);this.mutationQueue.push(a);var o,u=Gr(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Rs=this.Rs.add(new pT(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return fw.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return fw.resolve(this.Ps(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.bs(n),i=r<0?0:r;return fw.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return fw.resolve(0===this.mutationQueue.length?-1:this.vs-1)}},{key:"getAllMutationBatches",value:function(e){return fw.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new pT(t,0),i=new pT(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],(function(e){var t=n.Ps(e.As);a.push(t)})),fw.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new sx(Bk);return t.forEach((function(e){var t=new pT(e,0),i=new pT(e,Number.POSITIVE_INFINITY);n.Rs.forEachInRange([t,i],(function(e){r=r.add(e.As)}))})),fw.resolve(this.Vs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Yk.isDocumentKey(i)||(i=i.child(""));var a=new pT(new Yk(i),0),o=new sx(Bk);return this.Rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.As)),!0)}),a),fw.resolve(this.Vs(o))}},{key:"Vs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Ps(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Tk(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();var r=this.Rs;return fw.forEach(t.mutations,(function(i){var a=new pT(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Rs=r}))}},{key:"Cn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new pT(t,0),r=this.Rs.firstAfterOrEqual(n);return fw.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,fw.resolve()}},{key:"Ss",value:function(e,t){return this.bs(e)}},{key:"bs",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Ps",value:function(e){var t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),mT=function(){function e(t){Br(this,e),this.Ds=t,this.docs=new ax(Yk.comparator),this.size=0}return Wr(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return fw.resolve(n?n.document.mutableCopy():Kx.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=W_();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Kx.newInvalidDocument(e))})),fw.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=W_(),a=t.path,o=new Yk(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),c=s.key,l=s.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||ow(iw(l),n)<=0||(r.has(l.key)||U_(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return fw.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Ik()}},{key:"Cs",value:function(e,t){return fw.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new yT(this)}},{key:"getSize",value:function(e){return fw.resolve(this.size)}}]),e}(),yT=function(e){$r(n,e);var t=ti(n);function n(e){var r;return Br(this,n),(r=t.call(this)).os=e,r}return Wr(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.os.addEntry(e,i)):t.os.removeEntry(r)})),fw.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.os.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.os.getEntries(e,t)}}]),n}(eT),gT=function(){function e(t){Br(this,e),this.persistence=t,this.xs=new q_((function(e){return b_(e)}),k_),this.lastRemoteSnapshotVersion=Kk.min(),this.highestTargetId=0,this.Ns=0,this.ks=new dT,this.targetCount=0,this.Ms=BI.kn()}return Wr(e,[{key:"forEachTarget",value:function(e,t){return this.xs.forEach((function(e,n){return t(n)})),fw.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return fw.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return fw.resolve(this.Ns)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ms.next(),fw.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),fw.resolve()}},{key:"Fn",value:function(e){this.xs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ms=new BI(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Fn(t),this.targetCount+=1,fw.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Fn(t),fw.resolve()}},{key:"removeTargetData",value:function(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,fw.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.xs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.xs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),fw.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return fw.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.xs.get(t)||null;return fw.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.ks.gs(t,n),fw.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.ks.ps(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),fw.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.ks.Is(t),fw.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.ks.Es(t);return fw.resolve(n)}},{key:"containsKey",value:function(e,t){return fw.resolve(this.ks.containsKey(t))}}]),e}(),bT=function(){function e(t,n){var r=this;Br(this,e),this.$s={},this.overlays={},this.Os=new _w(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new gT(this),this.indexManager=new SI,this.remoteDocumentCache=new mT((function(e){return r.referenceDelegate.Ls(e)})),this.serializer=new zE(n),this.qs=new fT(this.serializer)}return Wr(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Fs=!1,Promise.resolve()}},{key:"started",get:function(){return this.Fs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new hT,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.$s[e.toKey()];return n||(n=new vT(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Bs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.qs}},{key:"runTransaction",value:function(e,t,n){var r=this;xk("MemoryPersistence","Starting transaction:",e);var i=new kT(this.Os.next());return this.referenceDelegate.Us(),n(i).next((function(e){return r.referenceDelegate.Ks(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Gs",value:function(e,t){return fw.or(Object.values(this.$s).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),kT=function(e){$r(n,e);var t=ti(n);function n(e){var r;return Br(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Wr(n)}(sw),wT=function(){function e(t){Br(this,e),this.persistence=t,this.Qs=new dT,this.js=null}return Wr(e,[{key:"Ws",get:function(){if(this.js)return this.js;throw Ik()}},{key:"addReference",value:function(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),fw.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),fw.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ws.add(t.toString()),fw.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Qs.Is(t.targetId).forEach((function(e){return n.Ws.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ws.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Us",value:function(){this.js=new Set}},{key:"Ks",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fw.forEach(this.Ws,(function(r){var i=Yk.fromPath(r);return t.Hs(e,i).next((function(e){e||n.removeEntry(i,Kk.min())}))})).next((function(){return t.js=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hs(e,t).next((function(e){e?n.Ws.delete(t.toString()):n.Ws.add(t.toString())}))}},{key:"Ls",value:function(e){return 0}},{key:"Hs",value:function(e,t){var n=this;return fw.or([function(){return fw.resolve(n.Qs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Gs(e,t)}])}}],[{key:"zs",value:function(t){return new e(t)}}]),e}(),xT=function(){function e(t){Br(this,e),this.serializer=t}return Wr(e,[{key:"O",value:function(e,t,n,r){var i=this,a=new hw("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ow,{unique:!0}),e.createObjectStore("documentMutations")}(e),_T(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=fw.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),_T(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Kk.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").j().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ow,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return fw.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Ys(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Xs(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Zs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.ti(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ei(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Kw});t.createIndex("collectionPathOverlayIndex",Gw,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Hw,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Mw});t.createIndex("documentKeyIndex",Lw),t.createIndex("collectionGroupIndex",Fw)}(e)})).next((function(){return i.ni(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.si(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Bw}).createIndex("sequenceNumberIndex",qw,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Zw}).createIndex("documentKeyIndex",Ww,{unique:!1})}(e)}))),o}},{key:"Xs",value:function(e){var t=0;return e.store("remoteDocuments").X((function(e,n){t+=LI(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Ys",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next((function(n){return fw.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",i).next((function(r){return fw.forEach(r,(function(r){Tk(r.userId===n.userId);var i=KE(t.serializer,r);return MI(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Zs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.X((function(n,i){var a=new Hk(n),o=function(e){return[0,Tw(e)]}(a);r.push(t.get(o).next((function(n){return n?fw.resolve():function(n){return t.put({targetId:0,path:Tw(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return fw.waitFor(r)}))}))}},{key:"ti",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:zw});var n=t.store("collectionParents"),r=new EI,a=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Tw(i)})}};return t.store("remoteDocuments").X({Y:!0},(function(e,t){var n=new Hk(e);return a(n.popLast())})).next((function(){return t.store("documentMutations").X({Y:!0},(function(e,t){var n=(0,i.Z)(e,3),r=(n[0],n[1]),o=(n[2],Rw(r));return a(o.popLast())}))}))}},{key:"ei",value:function(e){var t=this,n=e.store("targets");return n.X((function(e,r){var i=GE(r),a=HE(t.serializer,i);return n.put(a)}))}},{key:"ni",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.X((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Yk(Hk.fromString(i.document.name).popFirst(5)):i.noDocument?Yk.fromSegments(i.noDocument.path):i.unknownDocument?Yk.fromSegments(i.unknownDocument.path):Ik()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return fw.waitFor(r)}))}},{key:"si",value:function(e,t){var n=this,r=t.store("mutations"),i=nT(this.serializer),a=new bT(wT.zs,this.serializer.fe);return r.j().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:eS();KE(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),fw.forEach(r,(function(e,r){var o=new gk(r),u=nI.de(n.serializer,o),s=a.getIndexManager(o),c=FI.de(o,n.serializer,s,a.referenceDelegate);return new lT(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new ex(t,_w.ct),e).next()}))}))}}]),e}();function _T(e){e.createObjectStore("targetDocuments",{keyPath:Uw}).createIndex("documentTargetsIndex",Vw,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",jw,{unique:!0}),e.createObjectStore("targetGlobal")}var ST="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ET=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(Br(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.ii=a,this.window=o,this.document=u,this.ri=c,this.oi=l,this.ui=f,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=function(e){return Promise.resolve()},!e.D())throw new Rk(Ak.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new XI(this,i),this.di=n+"main",this.serializer=new zE(s),this.wi=new dw(this.di,this.ui,new xT(this.serializer)),this.Bs=new qI(this.referenceDelegate,this.serializer),this.remoteDocumentCache=nT(this.serializer),this.qs=new JE,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===l&&_k("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Wr(e,[{key:"start",value:function(){var e=this;return this.mi().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Rk(Ak.FAILED_PRECONDITION,ST);return e.gi(),e.yi(),e.pi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Bs.getHighestSequenceNumber(t)}))})).then((function(t){e.Os=new _w(t,e.ri)})).then((function(){e.Fs=!0})).catch((function(t){return e.wi&&e.wi.close(),Promise.reject(t)}))}},{key:"Ii",value:function(e){var t=this;return this.fi=function(){var n=Vi(Fi().mark((function n(r){return Fi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.wi.B(function(){var t=Vi(Fi().mark((function t(n){return Fi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget(Vi(Fi().mark((function e(){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.mi();case 4:case"end":return e.stop()}}),e)})))))}},{key:"mi",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return TT(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Ti(t).next((function(t){t||(e.isPrimary=!1,e.ii.enqueueRetryable((function(){return e.fi(!1)})))}))})).next((function(){return e.Ei(t)})).next((function(n){return e.isPrimary&&!n?e.Ai(t).next((function(){return!1})):!!n&&e.vi(t).next((function(){return!0}))}))})).catch((function(t){if(mw(t))return xk("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return xk("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.ii.enqueueRetryable((function(){return e.fi(t)})),e.isPrimary=t}))}},{key:"Ti",value:function(e){var t=this;return IT(e).get("owner").next((function(e){return fw.resolve(t.Ri(e))}))}},{key:"Pi",value:function(e){return TT(e).delete(this.clientId)}},{key:"bi",value:function(){var e=Vi(Fi().mark((function e(){var t,n,r,i,a=this;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Vi(this.li,18e5)){e.next=6;break}return this.li=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=tx(e,"clientMetadata");return t.j().next((function(e){var n=a.Si(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return fw.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this._i){n=Gr(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this._i.removeItem(this.Di(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"pi",value:function(){var e=this;this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.mi().then((function(){return e.bi()})).then((function(){return e.pi()}))}))}},{key:"Ri",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Ei",value:function(e){var t=this;return this.oi?fw.resolve(!0):IT(e).get("owner").next((function(n){if(null!==n&&t.Vi(n.leaseTimestampMs,5e3)&&!t.Ci(n.ownerId)){if(t.Ri(n)&&t.networkEnabled)return!0;if(!t.Ri(n)){if(!n.allowTabSynchronization)throw new Rk(Ak.FAILED_PRECONDITION,ST);return!1}}return!(!t.networkEnabled||!t.inForeground)||TT(e).j().next((function(e){return void 0===t.Si(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&xk("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Vi(Fi().mark((function e(){var t=this;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),e.next=7,this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new ex(e,_w.ct);return t.Ai(n).next((function(){return t.Pi(n)}))}));case 7:this.wi.close(),this.Mi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Si",value:function(e,t){var n=this;return e.filter((function(e){return n.Vi(e.updateTimeMs,t)&&!n.Ci(e.clientId)}))}},{key:"$i",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return TT(t).j().next((function(t){return e.Si(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Fs}},{key:"getMutationQueue",value:function(e,t){return FI.de(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Bs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new TI(e,this.serializer.fe.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return nI.de(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.qs}},{key:"runTransaction",value:function(e,t,n){var r=this;xk("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.ui)?Jw:14===i?Xw:13===i?Yw:12===i?$w:11===i?Qw:void Ik();return this.wi.runTransaction(e,o,u,(function(i){return a=new ex(i,r.Os?r.Os.next():_w.ct),"readwrite-primary"===t?r.Ti(a).next((function(e){return!!e||r.Ei(a)})).next((function(t){if(!t)throw _k("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.ii.enqueueRetryable((function(){return r.fi(!1)})),new Rk(Ak.FAILED_PRECONDITION,uw);return n(a)})).next((function(e){return r.vi(a).next((function(){return e}))})):r.Oi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Oi",value:function(e){var t=this;return IT(e).get("owner").next((function(e){if(null!==e&&t.Vi(e.leaseTimestampMs,5e3)&&!t.Ci(e.ownerId)&&!t.Ri(e)&&!(t.oi||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Rk(Ak.FAILED_PRECONDITION,ST)}))}},{key:"vi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return IT(e).put("owner",t)}},{key:"Ai",value:function(e){var t=this,n=IT(e);return n.get("owner").next((function(e){return t.Ri(e)?(xk("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):fw.resolve()}))}},{key:"Vi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(_k("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"gi",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=function(){e.ii.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.mi()}))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ni",value:function(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}},{key:"yi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=function(){t.xi();var e=/(?:Version|Mobile)\/1[456]/;!yi()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.ii.enterRestrictedMode(!0),t.ii.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ci))}},{key:"ki",value:function(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}},{key:"Ci",value:function(e){var t;try{var n=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return xk("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return _k("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"xi",value:function(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){_k("Failed to set zombie client id.",e)}}},{key:"Mi",value:function(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch(e){}}},{key:"Di",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"D",value:function(){return dw.D()}}]),e}();function IT(e){return tx(e,"owner")}function TT(e){return tx(e,"clientMetadata")}function CT(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var AT=function(){function e(t,n,r,i){Br(this,e),this.targetId=t,this.fromCache=n,this.Fi=r,this.Bi=i}return Wr(e,null,[{key:"Li",value:function(t,n){var r,i=eS(),a=eS(),o=Gr(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),RT=function(){function e(){Br(this,e),this.qi=!1}return Wr(e,[{key:"initialize",value:function(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ki(e,t).next((function(a){return a||i.Gi(e,t,r,n)})).next((function(n){return n||i.Qi(e,t)}))}},{key:"Ki",value:function(e,t){var n=this;if(C_(t))return fw.resolve(null);var r=P_(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=M_(t,null,"F"),r=P_(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=eS.apply(void 0,(0,ji.Z)(i));return n.Ui.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.ji(t,i);return n.zi(t,o,a,r.readTime)?n.Ki(e,M_(t,null,"F")):n.Wi(e,o,t,r)}))}))})))}))}},{key:"Gi",value:function(e,t,n,r){var i=this;return C_(t)||r.isEqual(Kk.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((function(a){var o=i.ji(t,a);return i.zi(t,o,n,r)?i.Qi(e,t):(wk()<=Wi.DEBUG&&xk("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),j_(t)),i.Wi(e,o,t,rw(r,-1)))}))}},{key:"ji",value:function(e,t){var n=new sx(z_(e));return t.forEach((function(t,r){U_(e,r)&&(n=n.add(r))})),n}},{key:"zi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Qi",value:function(e,t){return wk()<=Wi.DEBUG&&xk("QueryEngine","Using full collection scan to execute query:",j_(t)),this.Ui.getDocumentsMatchingQuery(e,t,aw.min())}},{key:"Wi",value:function(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),OT=function(){function e(t,n,r,i){Br(this,e),this.persistence=t,this.Hi=n,this.serializer=i,this.Ji=new ax(Bk),this.Yi=new q_((function(e){return b_(e)}),k_),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(r)}return Wr(e,[{key:"tr",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lT(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ji)}))}}]),e}();function NT(e,t,n,r){return new OT(e,t,n,r)}function PT(e,t){return DT.apply(this,arguments)}function DT(){return DT=Vi(Fi().mark((function e(t,n){var r;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ck(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.tr(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=eS(),s=Gr(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Gr(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){s.e(b)}finally{s.f()}var d,p=Gr(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=Gr(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(b){y.e(b)}finally{y.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{er:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),DT.apply(this,arguments)}function MT(e,t){var n=Ck(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=fw.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Tk(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=eS(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function LT(e){var t=Ck(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Bs.getLastRemoteSnapshotVersion(e)}))}function FT(e,t){var n=Ck(e),r=t.snapshotVersion,i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Bs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Bs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(u)?c=c.withResumeToken(dx.EMPTY_BYTE_STRING,Kk.min()).withLastLimboFreeSnapshotVersion(Kk.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Bs.updateTargetData(e,c))}}));var u=W_(),s=eS();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(jT(e,a,t.documentUpdates).next((function(e){u=e.nr,s=e.sr}))),!r.isEqual(Kk.min())){var c=n.Bs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return fw.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Ji=i,e}))}function jT(e,t,n){var r=eS(),i=eS();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=W_();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Kk.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):xk("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{nr:r,sr:i}}))}function UT(e,t){var n=Ck(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function VT(e,t){var n=Ck(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Bs.getTargetData(e,t).next((function(i){return i?(r=i,fw.resolve(r)):n.Bs.allocateTargetId(e).next((function(i){return r=new VE(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}function zT(e,t,n){return BT.apply(this,arguments)}function BT(){return BT=Vi(Fi().mark((function e(t,n,r){var i,a,o;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Ck(t),a=i.Ji.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),mw(e.t1)){e.next=12;break}throw e.t1;case 12:xk("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ji=i.Ji.remove(n),i.Yi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),BT.apply(this,arguments)}function qT(e,t,n){var r=Ck(e),i=Kk.min(),a=eS();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Ck(e),i=r.Yi.get(n);return void 0!==i?fw.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,P_(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Hi.getDocumentsMatchingQuery(e,t,n?i:Kk.min(),n?a:eS())})).next((function(e){return KT(r,V_(t),e),{documents:e,ir:a}}))}))}function ZT(e,t){var n=Ck(e),r=Ck(n.Bs),i=n.Ji.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.le(e,t).next((function(e){return e?e.target:null}))}))}function WT(e,t){var n=Ck(e),r=n.Xi.get(t)||Kk.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Zi.getAllFromCollectionGroup(e,t,rw(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return KT(n,t,e),e}))}function KT(e,t,n){var r=e.Xi.get(t)||Kk.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}function GT(e,t,n,r){return HT.apply(this,arguments)}function HT(){return HT=Vi(Fi().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Ck(t),o=eS(),u=W_(),s=Gr(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.rr(l.metadata.name),l.document&&(o=o.add(f)),(h=n.ur(l)).setReadTime(n.cr(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Zi.newChangeBuffer({trackRemovals:!0}),e.next=7,VT(a,function(e){return P_(T_(Hk.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return jT(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Bs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Bs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.nr,t.sr)})).next((function(){return t.nr}))}))})));case 9:case"end":return e.stop()}}),e)}))),HT.apply(this,arguments)}function QT(e,t){return $T.apply(this,arguments)}function $T(){return $T=Vi(Fi().mark((function e(t,n){var r,i,a,o=arguments;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:eS(),e.next=3,VT(t,P_(QE(n.bundledQuery)));case 3:return i=e.sent,a=Ck(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=pE(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.qs.saveNamedQuery(e,n);var o=i.withResumeToken(dx.EMPTY_BYTE_STRING,t);return a.Ji=a.Ji.insert(o.targetId,o),a.Bs.updateTargetData(e,o).next((function(){return a.Bs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Bs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.qs.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),$T.apply(this,arguments)}function YT(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function XT(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function JT(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var eC=function(){function e(t,n,r,i){Br(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Wr(e,[{key:"hr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"ar",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Rk(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(_k("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),tC=function(){function e(t,n,r){Br(this,e),this.targetId=t,this.state=n,this.error=r}return Wr(e,[{key:"hr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"ar",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Rk(i.error.code,i.error.message))),a?new e(t,i.state,r):(_k("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),nC=function(){function e(t,n){Br(this,e),this.clientId=t,this.activeTargetIds=n}return Wr(e,null,[{key:"ar",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=nS(),o=0;i&&o<r.activeTargetIds.length;++o)i=Iw(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(_k("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),rC=function(){function e(t,n){Br(this,e),this.clientId=t,this.onlineState=n}return Wr(e,null,[{key:"ar",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(_k("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),iC=function(){function e(){Br(this,e),this.activeTargetIds=nS()}return Wr(e,[{key:"lr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"dr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"hr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),aC=function(){function e(t,n,r,i,a){Br(this,e),this.window=t,this.ii=n,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new ax(Bk),this.started=!1,this.yr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.pr=YT(this.persistenceKey,this.wr),this.Ir=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gr=this.gr.insert(this.wr,new iC),this.Tr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Er=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Ar=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.vr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Rr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this._r)}return Wr(e,[{key:"start",value:function(){var e=Vi(Fi().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.$i();case 2:t=e.sent,n=Gr(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.wr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(YT(this.persistenceKey,i)))&&(o=nC.ar(i,a))&&(this.gr=this.gr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Pr(),(u=this.storage.getItem(this.vr))&&(s=this.br(u))&&this.Vr(s),c=Gr(this.yr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.mr(f)}catch(d){c.e(d)}finally{c.f()}this.yr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ir,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Sr(this.gr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.gr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Dr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Dr(e,t,n),this.Cr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(JT(this.persistenceKey,e));if(n){var r=tC.ar(e,n);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Nr.dr(e),this.Pr()}},{key:"isLocalQueryTarget",value:function(e){return this.Nr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(JT(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.kr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Cr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Mr(e)}},{key:"notifyBundleLoaded",value:function(e){this.$r(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return xk("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){xk("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){xk("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"mr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(xk("SharedClientState","EVENT",n.key,n.newValue),n.key===this.pr)return void _k("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable(Vi(Fi().mark((function e(){var r,i,a,o,u,s,c;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.Tr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Or(n.key),e.abrupt("return",t.Fr(r,null));case 6:if(!(i=t.Br(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Fr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.Er.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Lr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.qr(a));case 16:e.next=41;break;case 18:if(!t.Ar.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Ur(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.vr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.br(n.newValue))){e.next=30;break}return e.abrupt("return",t.Vr(u));case 30:e.next=41;break;case 32:if(n.key!==t.Ir){e.next=37;break}s=function(e){var t=_w.ct;if(null!=e)try{var n=JSON.parse(e);Tk("number"==typeof n),t=n}catch(e){_k("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==_w.ct&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.Rr){e.next=41;break}return c=t.Gr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Qr(e)})));case 41:e.next=44;break;case 43:t.yr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Nr",get:function(){return this.gr.get(this.wr)}},{key:"Pr",value:function(){this.setItem(this.pr,this.Nr.hr())}},{key:"Dr",value:function(e,t,n){var r=new eC(this.currentUser,e,t,n),i=XT(this.persistenceKey,this.currentUser,e);this.setItem(i,r.hr())}},{key:"Cr",value:function(e){var t=XT(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Mr",value:function(e){var t={clientId:this.wr,onlineState:e};this.storage.setItem(this.vr,JSON.stringify(t))}},{key:"kr",value:function(e,t,n){var r=JT(this.persistenceKey,e),i=new tC(e,t,n);this.setItem(r,i.hr())}},{key:"$r",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}},{key:"Or",value:function(e){var t=this.Tr.exec(e);return t?t[1]:null}},{key:"Br",value:function(e,t){var n=this.Or(e);return nC.ar(n,t)}},{key:"Lr",value:function(e,t){var n=this.Er.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return eC.ar(new gk(i),r,t)}},{key:"Ur",value:function(e,t){var n=this.Ar.exec(e),r=Number(n[1]);return tC.ar(r,t)}},{key:"br",value:function(e){return rC.ar(e)}},{key:"Gr",value:function(e){return JSON.parse(e)}},{key:"qr",value:function(){var e=Vi(Fi().mark((function e(t){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.jr(t.batchId,t.state,t.error));case 2:xk("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Kr",value:function(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}},{key:"Fr",value:function(e,t){var n=this,r=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),a=this.Sr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Wr(o,u).then((function(){n.gr=r}))}},{key:"Vr",value:function(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Sr",value:function(e){var t=nS();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"D",value:function(e){return!(!e||!e.localStorage)}}]),e}(),oC=function(){function e(){Br(this,e),this.Hr=new iC,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Wr(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Jr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Hr.dr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Jr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Hr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Hr=new iC,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),uC=function(){function e(){Br(this,e)}return Wr(e,[{key:"Yr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),sC=function(){function e(){var t=this;Br(this,e),this.Xr=function(){return t.Zr()},this.eo=function(){return t.no()},this.so=[],this.io()}return Wr(e,[{key:"Yr",value:function(e){this.so.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}},{key:"io",value:function(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}},{key:"Zr",value:function(){xk("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Gr(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"no",value:function(){xk("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Gr(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),cC=null;function lC(){return null===cC?cC=268435456+Math.round(2147483648*Math.random()):cC++,"0x"+cC.toString(16)}var fC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},hC=function(){function e(t){Br(this,e),this.ro=t.ro,this.oo=t.oo}return Wr(e,[{key:"uo",value:function(e){this.co=e}},{key:"ao",value:function(e){this.ho=e}},{key:"onMessage",value:function(e){this.lo=e}},{key:"close",value:function(){this.oo()}},{key:"send",value:function(e){this.ro(e)}},{key:"fo",value:function(){this.co()}},{key:"wo",value:function(e){this.ho(e)}},{key:"_o",value:function(e){this.lo(e)}}]),e}(),dC="WebChannelConnection",pC=function(e){$r(n,e);var t=ti(n);function n(e){var r;return Br(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return Wr(n,[{key:"Ao",value:function(e,t,n,r){var i=lC();return new Promise((function(a,o){var u=new pk;u.setWithCredentials(!0),u.listenOnce(ck.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case sk.NO_ERROR:var t=u.getResponseJson();xk(dC,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case sk.TIMEOUT:xk(dC,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Rk(Ak.DEADLINE_EXCEEDED,"Request time out"));break;case sk.HTTP_ERROR:var n=u.getStatus();if(xk(dC,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ak).indexOf(t)>=0?t:Ak.UNKNOWN}(s.status);o(new Rk(c,s.message))}else o(new Rk(Ak.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new Rk(Ak.UNAVAILABLE,"Connection failed."));break;default:Ik()}}finally{xk(dC,"RPC '".concat(e,"' ").concat(i," completed."))}}));var s=JSON.stringify(r);xk(dC,"RPC '".concat(e,"' ").concat(i," sending request:"),r),u.send(t,"POST",s,n,15)}))}},{key:"Ro",value:function(e,t,n){var r=lC(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=ok(),o=uk(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},s=this.longPollingOptions.timeoutSeconds;void 0!==s&&(u.longPollingTimeout=Math.round(1e3*s)),this.useFetchStreams&&(u.xmlHttpFactory=new hk({})),this.Eo(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;var c=i.join("");xk(dC,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),u);var l=a.createWebChannel(c,u),f=!1,h=!1,d=new hC({ro:function(t){h?xk(dC,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(xk(dC,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),xk(dC,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},oo:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,dk.EventType.OPEN,(function(){h||xk(dC,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,dk.EventType.CLOSE,(function(){h||(h=!0,xk(dC,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.wo())})),p(l,dk.EventType.ERROR,(function(t){h||(h=!0,Sk(dC,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.wo(new Rk(Ak.UNAVAILABLE,"The operation could not be completed")))})),p(l,dk.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];Tk(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){xk(dC,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var u=o.status,s=function(e){var t=PS[e];if(void 0!==t)return BS(t)}(u),c=o.message;void 0===s&&(s=Ak.INTERNAL,c="Unknown error status: "+u+" with message "+o.message),h=!0,d.wo(new Rk(s,c)),l.close()}else xk(dC,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d._o(i)}})),p(o,lk.STAT_EVENT,(function(t){t.stat===fk.PROXY?xk(dC,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===fk.NOPROXY&&xk(dC,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.fo()}),0),d}}]),n}(function(){function e(t){Br(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.mo=n+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Wr(e,[{key:"po",get:function(){return!1}},{key:"Io",value:function(e,t,n,r,i){var a=lC(),o=this.To(e,t);xk("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var u={};return this.Eo(u,r,i),this.Ao(e,o,u,n).then((function(t){return xk("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw Sk("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"vo",value:function(e,t,n,r,i,a){return this.Io(e,t,n,r,i)}},{key:"Eo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+bk,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"To",value:function(e,t){var n=fC[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}]),e}());function vC(){return"undefined"!=typeof window?window:null}function mC(){return"undefined"!=typeof document?document:null}function yC(e){return new cE(e,!0)}var gC=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Br(this,e),this.ii=t,this.timerId=n,this.Po=r,this.bo=i,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}return Wr(e,[{key:"reset",value:function(){this.So=0}},{key:"xo",value:function(){this.So=this.Vo}},{key:"No",value:function(e){var t=this;this.cancel();var n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&xk("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,(function(){return t.Co=Date.now(),e()})),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}},{key:"Mo",value:function(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}},{key:"cancel",value:function(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"ko",value:function(){return(Math.random()-.5)*this.So}}]),e}(),bC=function(){function e(t,n,r,i,a,o,u,s){Br(this,e),this.ii=t,this.$o=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new gC(t,n)}return Wr(e,[{key:"Uo",value:function(){return 1===this.state||5===this.state||this.Ko()}},{key:"Ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Go()}},{key:"stop",value:function(){var e=Vi(Fi().mark((function e(){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Uo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Qo",value:function(){this.state=0,this.qo.reset()}},{key:"jo",value:function(){var e=this;this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(function(){return e.zo()})))}},{key:"Wo",value:function(e){this.Ho(),this.stream.send(e)}},{key:"zo",value:function(){var e=Vi(Fi().mark((function e(){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}},{key:"Jo",value:function(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}},{key:"close",value:function(){var e=Vi(Fi().mark((function e(t,n){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==t?this.qo.reset():n&&n.code===Ak.RESOURCE_EXHAUSTED?(_k(n.toString()),_k("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===Ak.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.ao(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Yo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=(0,i.Z)(t,2),a=r[0],o=r[1];e.Fo===n&&e.Zo(a,o)}),(function(n){t((function(){var t=new Rk(Ak.UNKNOWN,"Fetching auth token failed: "+n.message);return e.tu(t)}))}))}},{key:"Zo",value:function(e,t){var n=this,r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((function(){r((function(){return n.state=2,n.Lo=n.ii.enqueueAfterDelay(n.Oo,1e4,(function(){return n.Ko()&&(n.state=3),Promise.resolve()})),n.listener.uo()}))})),this.stream.ao((function(e){r((function(){return n.tu(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Go",value:function(){var e=this;this.state=5,this.qo.No(Vi(Fi().mark((function t(){return Fi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"tu",value:function(e){return xk("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Xo",value:function(e){var t=this;return function(n){t.ii.enqueueAndForget((function(){return t.Fo===e?n():(xk("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),kC=function(e){$r(n,e);var t=ti(n);function n(e,r,i,a,o,u){var s;return Br(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s}return Wr(n,[{key:"eu",value:function(e,t){return this.connection.Ro("Listen",e,t)}},{key:"onMessage",value:function(e){this.qo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ik()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(Tk(void 0===t||"string"==typeof t),dx.fromBase64String(t||"")):(Tk(void 0===t||t instanceof Uint8Array),dx.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Ak.UNKNOWN:BS(e.code);return new Rk(t,e.message||"")}(o);n=new tE(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=gE(e,s.document.name),l=pE(s.document.updateTime),f=s.document.createTime?pE(s.document.createTime):Kk.min(),h=new Zx({mapValue:{fields:s.document.fields}}),d=Kx.newFoundDocument(c,l,f,h),p=s.targetIds||[],v=s.removedTargetIds||[];n=new JS(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=gE(e,m.document),g=m.readTime?pE(m.readTime):Kk.min(),b=Kx.newNoDocument(y,g),k=m.removedTargetIds||[];n=new JS([],k,b.key,b)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=gE(e,w.document),_=w.removedTargetIds||[];n=new JS([],_,x,null)}else{if(!("filter"in t))return Ik();t.filter;var S=t.filter;S.targetId;var E=S.count,I=void 0===E?0:E,T=S.unchangedNames,C=new VS(I,T),A=S.targetId;n=new eE(A,C)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Kk.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Kk.min():t.readTime?pE(t.readTime):Kk.min()}(e);return this.listener.nu(t,n)}},{key:"su",value:function(e){var t={};t.database=wE(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=w_(r)?{documents:CE(e,r)}:{query:AE(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=hE(e,t.resumeToken);var i=lE(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(Kk.min())>0){n.readTime=fE(e,t.snapshotVersion.toTimestamp());var a=lE(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ik()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}},{key:"iu",value:function(e){var t={};t.database=wE(this.serializer),t.removeTarget=e,this.Wo(t)}}]),n}(bC),wC=function(e){$r(n,e);var t=ti(n);function n(e,r,i,a,o,u){var s;return Br(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s.ru=!1,s}return Wr(n,[{key:"ou",get:function(){return this.ru}},{key:"start",value:function(){this.ru=!1,this.lastStreamToken=void 0,go(Yr(n.prototype),"start",this).call(this)}},{key:"Yo",value:function(){this.ru&&this.uu([])}},{key:"eu",value:function(e,t){return this.connection.Ro("Write",e,t)}},{key:"onMessage",value:function(e){if(Tk(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();var t=function(e,t){return e&&e.length>0?(Tk(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?pE(e.updateTime):pE(t);return n.isEqual(Kk.min())&&(n=pE(t)),new bS(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=pE(e.commitTime);return this.listener.cu(n,t)}return Tk(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}},{key:"hu",value:function(){var e={};e.database=wE(this.serializer),this.Wo(e)}},{key:"uu",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return IE(t.serializer,e)}))};this.Wo(n)}}]),n}(bC),xC=function(e){$r(n,e);var t=ti(n);function n(e,r,i,a){var o;return Br(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.lu=!1,o}return Wr(n,[{key:"fu",value:function(){if(this.lu)throw new Rk(Ak.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Io",value:function(e,t,n){var r=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=(0,i.Z)(a,2),u=o[0],s=o[1];return r.connection.Io(e,t,n,u,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Ak.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Rk(Ak.UNKNOWN,e.toString())}))}},{key:"vo",value:function(e,t,n,r){var a=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(o){var u=(0,i.Z)(o,2),s=u[0],c=u[1];return a.connection.vo(e,t,n,s,c,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Ak.UNAUTHENTICATED&&(a.authCredentials.invalidateToken(),a.appCheckCredentials.invalidateToken()),e):new Rk(Ak.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.lu=!0}}]),n}(function(){return Wr((function e(){Br(this,e)}))}());var _C=function(){function e(t,n){Br(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}return Wr(e,[{key:"gu",value:function(){var e=this;0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e._u=null,e.pu("Backend didn't respond within 10 seconds."),e.yu("Offline"),Promise.resolve()})))}},{key:"Iu",value:function(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}},{key:"set",value:function(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}},{key:"yu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"pu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(_k(t),this.mu=!1):xk("OnlineStateTracker",t)}},{key:"Tu",value:function(){null!==this._u&&(this._u.cancel(),this._u=null)}}]),e}(),SC=Wr((function e(t,n,r,i,a){var o=this;Br(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr((function(e){r.enqueueAndForget(Vi(Fi().mark((function e(){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=MC(o),!e.t0){e.next=5;break}return xk("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Vi(Fi().mark((function e(t){var n;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Ck(t)).vu.add(4),e.next=4,TC(n);case 4:return n.bu.set("Unknown"),n.vu.delete(4),e.next=8,EC(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.bu=new _C(r,i)}));function EC(e){return IC.apply(this,arguments)}function IC(){return(IC=Vi(Fi().mark((function e(t){var n,r,i;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!MC(t)){e.next=18;break}n=Gr(t.Ru),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function TC(e){return CC.apply(this,arguments)}function CC(){return(CC=Vi(Fi().mark((function e(t){var n,r,i;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Gr(t.Ru),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function AC(e,t){var n=Ck(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),DC(n)?PC(n):lA(n).Ko()&&OC(n,t))}function RC(e,t){var n=Ck(e),r=lA(n);n.Au.delete(t),r.Ko()&&NC(n,t),0===n.Au.size&&(r.Ko()?r.jo():MC(n)&&n.bu.set("Unknown"))}function OC(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Kk.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}lA(e).su(t)}function NC(e,t){e.Vu.qt(t),lA(e).iu(t)}function PC(e){e.Vu=new rE({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},le:function(t){return e.Au.get(t)||null},ue:function(){return e.datastore.serializer.databaseId}}),lA(e).start(),e.bu.gu()}function DC(e){return MC(e)&&!lA(e).Uo()&&e.Au.size>0}function MC(e){return 0===Ck(e).vu.size}function LC(e){e.Vu=void 0}function FC(e){return jC.apply(this,arguments)}function jC(){return(jC=Vi(Fi().mark((function e(t){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Au.forEach((function(e,n){OC(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function UC(e,t){return VC.apply(this,arguments)}function VC(){return(VC=Vi(Fi().mark((function e(t,n){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:LC(t),DC(t)?(t.bu.Iu(n),PC(t)):t.bu.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zC(e,t,n){return BC.apply(this,arguments)}function BC(){return BC=Vi(Fi().mark((function e(t,n,r){var i;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.bu.set("Online"),!(n instanceof tE&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Vi(Fi().mark((function e(t,n){var r,i,a,o;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Gr(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Au.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Au.delete(o),t.Vu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),xk("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,qC(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof JS?t.Vu.Ht(n):n instanceof eE?t.Vu.ne(n):t.Vu.Xt(n),r.isEqual(Kk.min())){e.next=29;break}return e.prev=14,e.next=17,LT(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Vu.ce(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.Au.get(t);if(r){e.Au.set(t,r.withResumeToken(dx.EMPTY_BYTE_STRING,r.snapshotVersion)),NC(e,t);var i=new VE(r.target,t,n,r.sequenceNumber);OC(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),xk("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,qC(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),BC.apply(this,arguments)}function qC(e,t,n){return ZC.apply(this,arguments)}function ZC(){return(ZC=Vi(Fi().mark((function e(t,n,r){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(mw(n)){e.next=2;break}throw n;case 2:return t.vu.add(1),e.next=5,TC(t);case 5:t.bu.set("Offline"),r||(r=function(){return LT(t.localStore)}),t.asyncQueue.enqueueRetryable(Vi(Fi().mark((function e(){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xk("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.vu.delete(1),e.next=6,EC(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function WC(e,t){return t().catch((function(n){return qC(e,n,t)}))}function KC(e){return GC.apply(this,arguments)}function GC(){return(GC=Vi(Fi().mark((function e(t){var n,r,i,a;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ck(t),r=fA(n),i=n.Eu.length>0?n.Eu[n.Eu.length-1].batchId:-1;case 2:if(!HC(n)){e.next=19;break}return e.prev=3,e.next=6,UT(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Eu.length&&r.jo(),e.abrupt("break",19);case 10:i=a.batchId,QC(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,qC(n,e.t0);case 17:e.next=2;break;case 19:$C(n)&&YC(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function HC(e){return MC(e)&&e.Eu.length<10}function QC(e,t){e.Eu.push(t);var n=fA(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function $C(e){return MC(e)&&!fA(e).Uo()&&e.Eu.length>0}function YC(e){fA(e).start()}function XC(e){return JC.apply(this,arguments)}function JC(){return(JC=Vi(Fi().mark((function e(t){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fA(t).hu();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eA(e){return tA.apply(this,arguments)}function tA(){return(tA=Vi(Fi().mark((function e(t){var n,r,i,a;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=fA(t),r=Gr(t.Eu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.uu(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nA(e,t,n){return rA.apply(this,arguments)}function rA(){return(rA=Vi(Fi().mark((function e(t,n,r){var i,a;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Eu.shift(),a=jS.from(i,n,r),e.next=3,WC(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,KC(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iA(e,t){return aA.apply(this,arguments)}function aA(){return aA=Vi(Fi().mark((function e(t,n){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&fA(t).ou,!e.t0){e.next=4;break}return e.next=4,function(){var e=Vi(Fi().mark((function e(t,n){var r,i;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!zS(i=n.code)||i===Ak.ABORTED){e.next=7;break}return r=t.Eu.shift(),fA(t).Qo(),e.next=5,WC(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,KC(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:$C(t)&&YC(t);case 5:case"end":return e.stop()}}),e)}))),aA.apply(this,arguments)}function oA(e,t){return uA.apply(this,arguments)}function uA(){return(uA=Vi(Fi().mark((function e(t,n){var r,i;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Ck(t)).asyncQueue.verifyOperationInProgress(),xk("RemoteStore","RemoteStore received new credentials"),i=MC(r),r.vu.add(3),e.next=6,TC(r);case 6:return i&&r.bu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.vu.delete(3),e.next=12,EC(r);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sA(e,t){return cA.apply(this,arguments)}function cA(){return(cA=Vi(Fi().mark((function e(t,n){var r;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ck(t),!n){e.next=7;break}return r.vu.delete(2),e.next=5,EC(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.vu.add(2),e.next=12,TC(r);case 12:r.bu.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lA(e){return e.Su||(e.Su=function(e,t,n){var r=Ck(e);return r.fu(),new kC(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:FC.bind(null,e),ao:UC.bind(null,e),nu:zC.bind(null,e)}),e.Ru.push(function(){var t=Vi(Fi().mark((function t(n){return Fi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Su.Qo(),DC(e)?PC(e):e.bu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Su.stop();case 6:LC(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Su}function fA(e){return e.Du||(e.Du=function(e,t,n){var r=Ck(e);return r.fu(),new wC(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:XC.bind(null,e),ao:iA.bind(null,e),au:eA.bind(null,e),cu:nA.bind(null,e)}),e.Ru.push(function(){var t=Vi(Fi().mark((function t(n){return Fi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Du.Qo(),t.next=4,KC(e);case 4:t.next=9;break;case 6:return t.next=8,e.Du.stop();case 8:e.Eu.length>0&&(xk("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Du}var hA=function(){function e(t,n,r,i,a){Br(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ok,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Wr(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Rk(Ak.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function dA(e,t){if(_k("AsyncQueue","".concat(t,": ").concat(e)),mw(e))return new Rk(Ak.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var pA=function(){function e(t){Br(this,e),this.comparator=t?function(e,n){return t(e,n)||Yk.comparator(e.key,n.key)}:function(e,t){return Yk.comparator(e.key,t.key)},this.keyedMap=G_(),this.sortedSet=new ax(this.comparator)}return Wr(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),vA=function(){function e(){Br(this,e),this.Cu=new ax(Yk.comparator)}return Wr(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Ik():this.Cu=this.Cu.insert(t,e)}},{key:"xu",value:function(){var e=[];return this.Cu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),mA=function(){function e(t,n,r,i,a,o,u,s,c){Br(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return Wr(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&L_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,pA.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),yA=Wr((function e(){Br(this,e),this.Nu=void 0,this.listeners=[]})),gA=Wr((function e(){Br(this,e),this.queries=new q_((function(e){return F_(e)}),L_),this.onlineState="Unknown",this.ku=new Set}));function bA(e,t){return kA.apply(this,arguments)}function kA(){return kA=Vi(Fi().mark((function e(t,n){var r,i,a,o,u;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ck(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new yA),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Nu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=dA(e.t0,"Initialization of query '".concat(j_(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Mu(r.onlineState),o.Nu&&n.$u(o.Nu)&&EA(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),kA.apply(this,arguments)}function wA(e,t){return xA.apply(this,arguments)}function xA(){return xA=Vi(Fi().mark((function e(t,n){var r,i,a,o,u;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ck(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),xA.apply(this,arguments)}function _A(e,t){var n,r=Ck(e),i=!1,a=Gr(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=Gr(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.$u(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Nu=o}}}catch(f){a.e(f)}finally{a.f()}i&&EA(r)}function SA(e,t,n){var r=Ck(e),i=r.queries.get(t);if(i){var a,o=Gr(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function EA(e){e.ku.forEach((function(e){e.next()}))}var IA=function(){function e(t,n,r){Br(this,e),this.query=t,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}return Wr(e,[{key:"$u",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Gr(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new mA(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),a=!0):this.qu(e,this.onlineState)&&(this.Uu(e),a=!0),this.Bu=e,a}},{key:"onError",value:function(e){this.Ou.error(e)}},{key:"Mu",value:function(e){this.onlineState=e;var t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}},{key:"qu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Lu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Uu",value:function(e){e=mA.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}]),e}(),TA=function(){function e(t,n){Br(this,e),this.Gu=t,this.byteLength=n}return Wr(e,[{key:"Qu",value:function(){return"metadata"in this.Gu}}]),e}(),CA=function(){function e(t){Br(this,e),this.serializer=t}return Wr(e,[{key:"rr",value:function(e){return gE(this.serializer,e)}},{key:"ur",value:function(e){return e.metadata.exists?SE(this.serializer,e.document,!1):Kx.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}},{key:"cr",value:function(e){return pE(e)}}]),e}(),AA=function(){function e(t,n,r){Br(this,e),this.ju=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=RA(t)}return Wr(e,[{key:"zu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;var n=Hk.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Wu",value:function(e){var t,n=new Map,r=new CA(this.serializer),i=Gr(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.rr(a.metadata.name),s=Gr(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||eS()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Vi(Fi().mark((function e(){var t,n,r,i,a;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,GT(this.localStore,new CA(this.serializer),this.documents,this.ju.id);case 2:t=e.sent,n=this.Wu(this.documents),r=Gr(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,QT(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Hu:this.collectionGroups,Ju:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function RA(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var OA=Wr((function e(t){Br(this,e),this.key=t})),NA=Wr((function e(t){Br(this,e),this.key=t})),PA=function(){function e(t,n){Br(this,e),this.query=t,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=eS(),this.mutatedKeys=eS(),this.tc=z_(t),this.ec=new pA(this.tc)}return Wr(e,[{key:"nc",get:function(){return this.Yu}},{key:"sc",value:function(e,t){var n=this,r=t?t.ic:new vA,i=t?t.ec:this.ec,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=U_(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.rc(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.tc(f,s)>0||c&&n.tc(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:u,mutatedKeys:a}}},{key:"rc",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;var a=e.ic.xu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ik()}};return n(e)-n(t)}(e.type,t.type)||r.tc(e.doc,t.doc)})),this.oc(n);var o=t?this.uc():[],u=0===this.Zu.size&&this.current?1:0,s=u!==this.Xu;return this.Xu=u,0!==a.length||s?{snapshot:new mA(this.query,e.ec,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}},{key:"Mu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new vA,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}},{key:"ac",value:function(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}},{key:"oc",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Yu=t.Yu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Yu=t.Yu.delete(e)})),this.current=e.current)}},{key:"uc",value:function(){var e=this;if(!this.current)return[];var t=this.Zu;this.Zu=eS(),this.ec.forEach((function(t){e.ac(t.key)&&(e.Zu=e.Zu.add(t.key))}));var n=[];return t.forEach((function(t){e.Zu.has(t)||n.push(new NA(t))})),this.Zu.forEach((function(e){t.has(e)||n.push(new OA(e))})),n}},{key:"hc",value:function(e){this.Yu=e.ir,this.Zu=eS();var t=this.sc(e.documents);return this.applyChanges(t,!0)}},{key:"lc",value:function(){return mA.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}]),e}(),DA=Wr((function e(t,n,r){Br(this,e),this.query=t,this.targetId=n,this.view=r})),MA=Wr((function e(t){Br(this,e),this.key=t,this.fc=!1})),LA=function(){function e(t,n,r,i,a,o){Br(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new q_((function(e){return F_(e)}),L_),this._c=new Map,this.mc=new Set,this.gc=new ax(Yk.comparator),this.yc=new Map,this.Ic=new dT,this.Tc={},this.Ec=new Map,this.Ac=BI.Mn(),this.onlineState="Unknown",this.vc=void 0}return Wr(e,[{key:"isPrimaryClient",get:function(){return!0===this.vc}}]),e}();function FA(e,t){return jA.apply(this,arguments)}function jA(){return jA=Vi(Fi().mark((function e(t,n){var r,i,a,o,u,s;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=RR(t),!(o=r.wc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.lc(),e.next=15;break;case 6:return e.next=8,VT(r.localStore,P_(n));case 8:return u=e.sent,s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=13,UA(r,n,i,"current"===s,u.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&AC(r.remoteStore,u);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),jA.apply(this,arguments)}function UA(e,t,n,r,i){return VA.apply(this,arguments)}function VA(){return VA=Vi(Fi().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Rc=function(e,n,r){return function(){var e=Vi(Fi().mark((function e(t,n,r,i){var a,o,u;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.sc(r),e.t0=a.zi,!e.t0){e.next=6;break}return e.next=5,qT(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.sc(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(oR(t,n.targetId,u.cc),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,qT(t.localStore,n,!0);case 3:return o=e.sent,u=new PA(n,o.ir),s=u.sc(o.documents),c=XS.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),oR(t,r,l.cc),f=new DA(n,r,u),e.abrupt("return",(t.wc.set(n,f),t._c.has(r)?t._c.get(r).push(n):t._c.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),VA.apply(this,arguments)}function zA(e,t){return BA.apply(this,arguments)}function BA(){return(BA=Vi(Fi().mark((function e(t,n){var r,i,a;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ck(t),i=r.wc.get(n),!((a=r._c.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r._c.set(i.targetId,a.filter((function(e){return!L_(e,n)}))),void r.wc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,zT(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),RC(r.remoteStore,i.targetId),iR(r,i.targetId)})).catch(cw);case 9:e.next=14;break;case 11:return iR(r,i.targetId),e.next=14,zT(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qA(e,t,n){return ZA.apply(this,arguments)}function ZA(){return ZA=Vi(Fi().mark((function e(t,n,r){var i,a,o;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=OR(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Ck(e),a=Wk.now(),o=t.reduce((function(e,t){return e.add(t.key)}),eS());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=W_(),s=eS();return i.Zi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=Gr(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=IS(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new AS(c.key,l,Wx(l.value.mapValue),kS.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:H_(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Tc[e.currentUser.toKey()];r||(r=new ax(Bk)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,cR(i,a.changes);case 9:return e.next=11,KC(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=dA(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),ZA.apply(this,arguments)}function WA(e,t){return KA.apply(this,arguments)}function KA(){return(KA=Vi(Fi().mark((function e(t,n){var r,i;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ck(t),e.prev=1,e.next=4,FT(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.yc.get(t);n&&(Tk(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.fc=!0:e.modifiedDocuments.size>0?Tk(n.fc):e.removedDocuments.size>0&&(Tk(n.fc),n.fc=!1))})),e.next=8,cR(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,cw(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function GA(e,t,n){var r=Ck(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.wc.forEach((function(e,n){var r=n.view.Mu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Ck(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Gr(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Mu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&EA(n)}(r.eventManager,t),i.length&&r.dc.nu(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function HA(e,t,n){return QA.apply(this,arguments)}function QA(){return QA=Vi(Fi().mark((function e(t,n,r){var i,a,o,u,s,c;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Ck(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.yc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new ax(Yk.comparator)).insert(o,Kx.newNoDocument(o,Kk.min())),s=eS().add(o),c=new YS(Kk.min(),new Map,new ax(Bk),u,s),e.next=9,WA(i,c);case 9:i.gc=i.gc.remove(o),i.yc.delete(n),sR(i),e.next=16;break;case 14:return e.next=16,zT(i.localStore,n,!1).then((function(){return iR(i,n,r)})).catch(cw);case 16:case"end":return e.stop()}}),e)}))),QA.apply(this,arguments)}function $A(e,t){return YA.apply(this,arguments)}function YA(){return(YA=Vi(Fi().mark((function e(t,n){var r,i,a;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ck(t),i=n.batch.batchId,e.prev=1,e.next=4,MT(r.localStore,n);case 4:return a=e.sent,rR(r,i,null),nR(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,cR(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,cw(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function XA(e,t,n){return JA.apply(this,arguments)}function JA(){return(JA=Vi(Fi().mark((function e(t,n,r){var i,a;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ck(t),e.prev=1,e.next=4,function(e,t){var n=Ck(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Tk(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,rR(i,n,r),nR(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,cR(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,cw(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function eR(e,t){return tR.apply(this,arguments)}function tR(){return(tR=Vi(Fi().mark((function e(t,n){var r,i,a,o;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return MC((r=Ck(t)).remoteStore)||xk("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Ck(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.Ec.get(i)||[]).push(n),r.Ec.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=dA(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function nR(e,t){(e.Ec.get(t)||[]).forEach((function(e){e.resolve()})),e.Ec.delete(t)}function rR(e,t,n){var r=Ck(e),i=r.Tc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function iR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Gr(e._c.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.wc.delete(a),n&&e.dc.Pc(a,n)}}catch(o){i.e(o)}finally{i.f()}e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((function(t){e.Ic.containsKey(t)||aR(e,t)}))}function aR(e,t){e.mc.delete(t.path.canonicalString());var n=e.gc.get(t);null!==n&&(RC(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),sR(e))}function oR(e,t,n){var r,i=Gr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof OA?(e.Ic.addReference(a.key,t),uR(e,a)):a instanceof NA?(xk("SyncEngine","Document no longer in limbo: "+a.key),e.Ic.removeReference(a.key,t),e.Ic.containsKey(a.key)||aR(e,a.key)):Ik()}}catch(o){i.e(o)}finally{i.f()}}function uR(e,t){var n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(xk("SyncEngine","New document in limbo: "+n),e.mc.add(r),sR(e))}function sR(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){var t=e.mc.values().next().value;e.mc.delete(t);var n=new Yk(Hk.fromString(t)),r=e.Ac.next();e.yc.set(r,new MA(n)),e.gc=e.gc.insert(n,r),AC(e.remoteStore,new VE(P_(T_(n.path)),r,"TargetPurposeLimboResolution",_w.ct))}}function cR(e,t,n){return lR.apply(this,arguments)}function lR(){return lR=Vi(Fi().mark((function e(t,n,r){var i,a,o,u;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Ck(t),a=[],o=[],u=[],e.t0=i.wc.isEmpty(),e.t0){e.next=9;break}return i.wc.forEach((function(e,t){u.push(i.Rc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=AT.Li(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.dc.nu(a),e.next=9,function(){var e=Vi(Fi().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ck(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return fw.forEach(n,(function(t){return fw.forEach(t.Fi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return fw.forEach(t.Bi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),mw(e.t0)){e.next=10;break}throw e.t0;case 10:xk("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Gr(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ji.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Ji=r.Ji.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),lR.apply(this,arguments)}function fR(e,t){return hR.apply(this,arguments)}function hR(){return(hR=Vi(Fi().mark((function e(t,n){var r,i;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Ck(t)).currentUser.isEqual(n)){e.next=11;break}return xk("SyncEngine","User change. New user:",n.toKey()),e.next=5,PT(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Ec.forEach((function(e){e.forEach((function(e){e.reject(new Rk(Ak.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,cR(r,i.er);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dR(e,t){var n=Ck(e),r=n.yc.get(t);if(r&&r.fc)return eS().add(r.key);var i=eS(),a=n._c.get(t);if(!a)return i;var o,u=Gr(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.wc.get(s);i=i.unionWith(c.view.nc)}}catch(l){u.e(l)}finally{u.f()}return i}function pR(e,t){return vR.apply(this,arguments)}function vR(){return(vR=Vi(Fi().mark((function e(t,n){var r,i,a;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ck(t),e.next=3,qT(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.hc(i),e.abrupt("return",(r.isPrimaryClient&&oR(r,n.targetId,a.cc),a));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mR(e,t){return yR.apply(this,arguments)}function yR(){return(yR=Vi(Fi().mark((function e(t,n){var r;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ck(t),e.abrupt("return",WT(r.localStore,n).then((function(e){return cR(r,e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gR(e,t,n,r){return bR.apply(this,arguments)}function bR(){return bR=Vi(Fi().mark((function e(t,n,r,i){var a,o;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ck(t),e.next=3,function(e,t){var n=Ck(e),r=Ck(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Sn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):fw.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,KC(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(rR(a,n,i||null),nR(a,n),function(e,t){Ck(Ck(e).mutationQueue).Cn(t)}(a.localStore,n)):Ik();case 11:return e.next=13,cR(a,o);case 13:e.next=16;break;case 15:xk("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),bR.apply(this,arguments)}function kR(e,t){return wR.apply(this,arguments)}function wR(){return(wR=Vi(Fi().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(RR(r=Ck(t)),OR(r),!0!==n||!0===r.vc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,xR(r,i.toArray());case 5:return a=e.sent,r.vc=!0,e.next=9,sA(r.remoteStore,!0);case 9:o=Gr(a);try{for(o.s();!(u=o.n()).done;)s=u.value,AC(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.vc){e.next=25;break}return c=[],l=Promise.resolve(),r._c.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return iR(r,t),zT(r.localStore,t,!0)})),RC(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,xR(r,c);case 21:return function(e){var t=Ck(e);t.yc.forEach((function(e,n){RC(t.remoteStore,n)})),t.Ic.Ts(),t.yc=new Map,t.gc=new ax(Yk.comparator)}(r),r.vc=!1,e.next=25,sA(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xR(e,t,n){return _R.apply(this,arguments)}function _R(){return _R=Vi(Fi().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Ck(t),a=[],o=[],u=Gr(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i._c.get(c))||0===f.length){e.next=34;break}return e.next=11,VT(i.localStore,P_(f[0]));case 11:l=e.sent,h=Gr(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.wc.get(p),e.next=20,pR(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,ZT(i.localStore,c);case 36:return y=e.sent,e.next=39,VT(i.localStore,y);case 39:return l=e.sent,e.next=42,UA(i,SR(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.dc.nu(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),_R.apply(this,arguments)}function SR(e){return I_(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function ER(e){var t=Ck(e);return Ck(Ck(t.localStore).persistence).$i()}function IR(e,t,n,r){return TR.apply(this,arguments)}function TR(){return TR=Vi(Fi().mark((function e(t,n,r,i){var a,o,u,s;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Ck(t)).vc){e.next=3;break}return e.abrupt("return",void xk("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a._c.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,WT(a.localStore,V_(o[0]));case 10:return u=e.sent,s=YS.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,dx.EMPTY_BYTE_STRING),e.next=14,cR(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,zT(a.localStore,n,!0);case 17:return iR(a,n,i),e.abrupt("break",20);case 19:Ik();case 20:case"end":return e.stop()}}),e)}))),TR.apply(this,arguments)}function CR(e,t,n){return AR.apply(this,arguments)}function AR(){return(AR=Vi(Fi().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=RR(t)).vc){e.next=45;break}a=Gr(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i._c.has(u)){e.next=10;break}return xk("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,ZT(i.localStore,u);case 12:return s=e.sent,e.next=15,VT(i.localStore,s);case 15:return c=e.sent,e.next=18,UA(i,SR(s),c.targetId,!1,c.resumeToken);case 18:AC(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Gr(r),e.prev=30,h=Fi().mark((function e(){var t;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i._c.has(t),!e.t0){e.next=5;break}return e.next=5,zT(i.localStore,t,!1).then((function(){RC(i.remoteStore,t),iR(i,t)})).catch(cw);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])})))).apply(this,arguments)}function RR(e){var t=Ck(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=WA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=dR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=HA.bind(null,t),t.dc.nu=_A.bind(null,t.eventManager),t.dc.Pc=SA.bind(null,t.eventManager),t}function OR(e){var t=Ck(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$A.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=XA.bind(null,t),t}function NR(e,t,n){var r=Ck(e);(function(){var e=Vi(Fi().mark((function e(t,n,r){var i,a,o,u,s;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Ck(e),r=pE(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.qs.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(RA(i)),a=new AA(i,t.localStore,n.serializer),e.next=15,n.bc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.zu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.bc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,cR(t,s.Ju,void 0);case 31:return e.next=33,function(e,t){var n=Ck(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.qs.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Hu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Sk("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var PR=function(){function e(){Br(this,e),this.synchronizeTabs=!1}return Wr(e,[{key:"initialize",value:function(){var e=Vi(Fi().mark((function e(t){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=yC(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return NT(this.persistence,new RT,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new bT(wT.zs,this.serializer)}},{key:"createSharedClientState",value:function(e){return new oC}},{key:"terminate",value:function(){var e=Vi(Fi().mark((function e(){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),DR=function(e){$r(n,e);var t=ti(n);function n(e,r,i){var a;return Br(this,n),(a=t.call(this)).Vc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Wr(n,[{key:"initialize",value:function(){var e=Vi(Fi().mark((function e(t){var r=this;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,go(Yr(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Vc.initialize(this,t);case 4:return e.next=6,OR(this.Vc.syncEngine);case 6:return e.next=8,KC(this.Vc.remoteStore);case 8:return e.next=10,this.persistence.Ii((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return NT(this.persistence,new RT,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new QI(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new xw(t,this.persistence);return new ww(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=CT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?DI.withCacheSize(this.cacheSizeBytes):DI.DEFAULT;return new ET(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,vC(),mC(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new oC}}]),n}(PR),MR=function(e){$r(n,e);var t=ti(n);function n(e,r){var i;return Br(this,n),(i=t.call(this,e,r,!1)).Vc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Wr(n,[{key:"initialize",value:function(){var e=Vi(Fi().mark((function e(t){var r,i=this;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,go(Yr(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Vc.syncEngine,e.t0=this.sharedClientState instanceof aC,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={jr:gR.bind(null,r),zr:IR.bind(null,r),Wr:CR.bind(null,r),$i:ER.bind(null,r),Qr:mR.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Ii(function(){var e=Vi(Fi().mark((function e(t){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kR(i.Vc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=vC();if(!aC.D(t))throw new Rk(Ak.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=CT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new aC(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(DR),LR=function(){function e(){Br(this,e)}return Wr(e,[{key:"initialize",value:function(){var e=Vi(Fi().mark((function e(t,n){var r=this;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return GA(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=fR.bind(null,this.syncEngine),e.next=12,sA(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new gA}},{key:"createDatastore",value:function(e){var t,n=yC(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new pC(t));return function(e,t,n,r){return new xC(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return GA(o.syncEngine,e,0)},a=sC.D()?new sC:new uC,new SC(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new LA(e,t,n,r,i,a);return o&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Vi(Fi().mark((function e(t){var n;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ck(t),xk("RemoteStore","RemoteStore shutting down."),n.vu.add(5),e.next=5,TC(n);case 5:n.Pu.shutdown(),n.bu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function FR(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Vi(Fi().mark((function r(){var i;return Fi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Vi(Fi().mark((function e(){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var jR=function(){function e(t){Br(this,e),this.observer=t,this.muted=!1}return Wr(e,[{key:"next",value:function(e){this.observer.next&&this.Sc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Sc(this.observer.error,e):_k("Uncaught Error in snapshot listener:",e.toString())}},{key:"Dc",value:function(){this.muted=!0}},{key:"Sc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),UR=function(){function e(t,n){var r=this;Br(this,e),this.Cc=t,this.serializer=n,this.metadata=new Ok,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then((function(e){e&&e.Qu()?r.metadata.resolve(e.Gu.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Gu))))}),(function(e){return r.metadata.reject(e)}))}return Wr(e,[{key:"close",value:function(){return this.Cc.cancel()}},{key:"getMetadata",value:function(){var e=Vi(Fi().mark((function e(){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"bc",value:function(){var e=Vi(Fi().mark((function e(){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Nc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Nc",value:function(){var e=Vi(Fi().mark((function e(){var t,n,r,i;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.kc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.xc.decode(t),r=Number(n),isNaN(r)&&this.Mc("length string (".concat(n,") is not valid number")),e.next=9,this.$c(r);case 9:return i=e.sent,e.abrupt("return",new TA(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"kc",value:function(){var e=Vi(Fi().mark((function e(){var t,n;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Oc()<0)){e.next=7;break}return e.next=3,this.Fc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Oc())<0&&this.Mc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"$c",value:function(){var e=Vi(Fi().mark((function e(t){var n;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Fc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Mc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.xc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mc",value:function(e){throw this.Cc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Fc",value:function(){var e=Vi(Fi().mark((function e(){var t,n;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Cc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),VR=function(){function e(t){Br(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Wr(e,[{key:"lookup",value:function(){var e=Vi(Fi().mark((function e(t){var n,r=this;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Rk(Ak.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Vi(Fi().mark((function e(t,n){var r,i,a,o,u,s;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ck(t),i=wE(r.serializer)+"/documents",a={documents:n.map((function(e){return yE(r.serializer,e)}))},e.next=5,r.vo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=EE(r.serializer,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Tk(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new MS(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Vi(Fi().mark((function e(){var t,n=this;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Yk.fromPath(t);n.mutations.push(new LS(r,n.precondition(r)))})),e.next=7,function(){var e=Vi(Fi().mark((function e(t,n){var r,i,a;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ck(t),i=wE(r.serializer)+"/documents",a={writes:n.map((function(e){return IE(r.serializer,e)}))},e.next=3,r.Io("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ik();t=Kk.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Rk(Ak.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Kk.min())?kS.exists(!1):kS.updateTime(t):kS.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Kk.min()))throw new Rk(Ak.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return kS.updateTime(t)}return kS.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),zR=function(){function e(t,n,r,i,a){Br(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Bc=r.maxAttempts,this.qo=new gC(this.asyncQueue,"transaction_retry")}return Wr(e,[{key:"run",value:function(){this.Bc-=1,this.Lc()}},{key:"Lc",value:function(){var e=this;this.qo.No(Vi(Fi().mark((function t(){var n,r;return Fi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new VR(e.datastore),(r=e.qc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Uc(t)}))}))})).catch((function(t){e.Uc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"qc",value:function(e){try{var t=this.updateFunction(e);return!Sw(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Uc",value:function(e){var t=this;this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Lc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Kc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!zS(t)}return!1}}]),e}(),BR=function(){function e(t,n,r,i){var a=this;Br(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=gk.UNAUTHENTICATED,this.clientId=zk.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Vi(Fi().mark((function e(t){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xk("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return xk("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Wr(e,[{key:"getConfiguration",value:function(){var e=Vi(Fi().mark((function e(){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Rk(Ak.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Ok;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Vi(Fi().mark((function n(){var r;return Fi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=dA(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function qR(e,t){return ZR.apply(this,arguments)}function ZR(){return ZR=Vi(Fi().mark((function e(t,n){var r,i;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),xk("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Vi(Fi().mark((function e(t){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,PT(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),ZR.apply(this,arguments)}function WR(e,t){return KR.apply(this,arguments)}function KR(){return(KR=Vi(Fi().mark((function e(t,n){var r,i;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,HR(t);case 3:return r=e.sent,xk("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return oA(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return oA(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function GR(e){return"FirebaseError"===e.name?e.code===Ak.FAILED_PRECONDITION||e.code===Ak.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function HR(e){return QR.apply(this,arguments)}function QR(){return(QR=Vi(Fi().mark((function e(t){var n;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return xk("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,qR(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),GR(n=e.t0)){e.next=13;break}throw n;case 13:return Sk("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,qR(t,new PR);case 16:e.next=21;break;case 18:return xk("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,qR(t,new PR);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function $R(e){return YR.apply(this,arguments)}function YR(){return(YR=Vi(Fi().mark((function e(t){return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return xk("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,WR(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return xk("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,WR(t,new LR);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function XR(e){return HR(e).then((function(e){return e.persistence}))}function JR(e){return HR(e).then((function(e){return e.localStore}))}function eO(e){return $R(e).then((function(e){return e.remoteStore}))}function tO(e){return $R(e).then((function(e){return e.syncEngine}))}function nO(e){return $R(e).then((function(e){return e.datastore}))}function rO(e){return iO.apply(this,arguments)}function iO(){return(iO=Vi(Fi().mark((function e(t){var n,r;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$R(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=FA.bind(null,n.syncEngine),r.onUnlisten=zA.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function aO(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Ok;return e.asyncQueue.enqueueAndForget(Vi(Fi().mark((function i(){return Fi().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new jR({next:function(a){t.enqueueAndForget((function(){return wA(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Rk(Ak.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Rk(Ak.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new IA(T_(n.path),a,{includeMetadataChanges:!0,Ku:!0});return bA(e,o)},i.next=3,rO(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function oO(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Ok;return e.asyncQueue.enqueueAndForget(Vi(Fi().mark((function i(){return Fi().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new jR({next:function(n){t.enqueueAndForget((function(){return wA(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Rk(Ak.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new IA(n,a,{includeMetadataChanges:!0,Ku:!0});return bA(e,o)},i.next=3,rO(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function uO(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var sO=new Map;function cO(e,t,n){if(!n)throw new Rk(Ak.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function lO(e,t,n,r){if(!0===t&&!0===r)throw new Rk(Ak.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function fO(e){if(!Yk.isDocumentKey(e))throw new Rk(Ak.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function hO(e){if(Yk.isDocumentKey(e))throw new Rk(Ak.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function dO(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Ik()}function pO(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Rk(Ak.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=dO(e);throw new Rk(Ak.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function vO(e,t){if(t<=0)throw new Rk(Ak.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var mO=function(){function e(t){var n,r;if(Br(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Rk(Ak.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Rk(Ak.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}lO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uO(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Rk(Ak.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Rk(Ak.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Rk(Ak.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return Wr(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}]),e}(),yO=function(){function e(t,n,r,i){Br(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mO({}),this._settingsFrozen=!1}return Wr(e,[{key:"app",get:function(){if(!this._app)throw new Rk(Ak.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Rk(Ak.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mO(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Pk;switch(e.type){case"firstParty":return new Fk(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Rk(Ak.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=sO.get(e);t&&(xk("ComponentProvider","Removing Datastore"),sO.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function gO(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=pO(e,yO))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&Sk("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var u,s;if("string"==typeof i.mockUserToken)u=i.mockUserToken,s=gk.MOCK_USER;else{u=vi(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new Rk(Ak.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new gk(c)}e._authCredentials=new Dk(new Nk(u,s))}}var bO=function(){function e(t,n,r){Br(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Wr(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new wO(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),kO=function(){function e(t,n,r){Br(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Wr(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),wO=function(e){$r(n,e);var t=ti(n);function n(e,r,i){var a;return Br(this,n),(a=t.call(this,e,r,T_(i)))._path=i,a.type="collection",a}return Wr(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new bO(this.firestore,null,new Yk(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(kO);function xO(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Li(e),cO("collection","path",t),e instanceof yO){var a=Hk.fromString.apply(Hk,[t].concat(r));return hO(a),new wO(e,null,a)}if(!(e instanceof bO||e instanceof wO))throw new Rk(Ak.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Hk.fromString.apply(Hk,[t].concat(r)));return hO(o),new wO(e.firestore,null,o)}function _O(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Li(e),1===arguments.length&&(t=zk.A()),cO("doc","path",t),e instanceof yO){var a=Hk.fromString.apply(Hk,[t].concat(r));return fO(a),new bO(e,null,new Yk(a))}if(!(e instanceof bO||e instanceof wO))throw new Rk(Ak.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Hk.fromString.apply(Hk,[t].concat(r)));return fO(o),new bO(e.firestore,e instanceof wO?e.converter:null,new Yk(o))}function SO(e,t){return e=Li(e),t=Li(t),(e instanceof bO||e instanceof wO)&&(t instanceof bO||t instanceof wO)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function EO(e,t){return e=Li(e),t=Li(t),e instanceof kO&&t instanceof kO&&e.firestore===t.firestore&&L_(e._query,t._query)&&e.converter===t.converter}var IO=function(){function e(){var t=this;Br(this,e),this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new gC(this,"async_queue_retry"),this.Xc=function(){var e=mC();e&&xk("AsyncQueue","Visibility state changed to "+e.visibilityState),t.qo.Mo()};var n=mC();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Xc)}return Wr(e,[{key:"isShuttingDown",get:function(){return this.jc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Zc(),this.ta(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;var t=mC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Zc(),this.jc)return new Promise((function(){}));var n=new Ok;return this.ta((function(){return t.jc&&t.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Qc.push(e),t.ea()}))}},{key:"ea",value:function(){var e=Vi(Fi().mark((function e(){var t=this;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Qc.length){e.next=14;break}return e.prev=1,e.next=4,this.Qc[0]();case 4:this.Qc.shift(),this.qo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),mw(e.t0)){e.next=12;break}throw e.t0;case 12:xk("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Qc.length>0&&this.qo.No((function(){return t.ea()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ta",value:function(e){var t=this,n=this.Gc.then((function(){return t.Hc=!0,e().catch((function(e){t.Wc=e,t.Hc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw _k("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Hc=!1,e}))}));return this.Gc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);var i=hA.createAndSchedule(this,e,t,n,(function(e){return r.na(e)}));return this.zc.push(i),i}},{key:"Zc",value:function(){this.Wc&&Ik()}},{key:"verifyOperationInProgress",value:function(){}},{key:"sa",value:function(){var e=Vi(Fi().mark((function e(){var t;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Gc,e.next=3,t;case 3:if(t!==this.Gc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ia",value:function(e){var t,n=Gr(this.zc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ra",value:function(e){var t=this;return this.sa().then((function(){t.zc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Gr(t.zc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.sa()}))}},{key:"oa",value:function(e){this.Yc.push(e)}},{key:"na",value:function(e){var t=this.zc.indexOf(e);this.zc.splice(t,1)}}]),e}();function TO(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Gr(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var CO=function(){function e(){Br(this,e),this._progressObserver={},this._taskCompletionResolver=new Ok,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Wr(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),AO=function(e){$r(n,e);var t=ti(n);function n(e,r,i,a){var o;return Br(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new IO,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return Wr(n,[{key:"_terminate",value:function(){return this._firestoreClient||OO(this),this._firestoreClient.terminate()}}]),n}(yO);function RO(e){return e._firestoreClient||OO(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function OO(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new wx(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,uO(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new BR(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function NO(e,t,n){var r=new Ok;return e.asyncQueue.enqueue(Vi(Fi().mark((function i(){var a;return Fi().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,qR(e,n);case 3:return i.next=5,WR(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),GR(a=i.t0)){i.next=13;break}throw a;case 13:Sk("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function PO(e){return function(e){return e.asyncQueue.enqueue(Vi(Fi().mark((function t(){var n,r;return Fi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,XR(e);case 2:return n=t.sent,t.next=5,eO(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Ck(e);return t.vu.delete(0),EC(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(RO(e=pO(e,AO)))}function DO(e){return function(e){return e.asyncQueue.enqueue(Vi(Fi().mark((function t(){var n,r;return Fi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,XR(e);case 2:return n=t.sent,t.next=5,eO(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Vi(Fi().mark((function e(t){var n;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Ck(t)).vu.add(0),e.next=4,TC(n);case 4:n.bu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(RO(e=pO(e,AO)))}function MO(e,t){var n=RO(e=pO(e,AO)),r=new CO;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new UR(e,t)}(function(e,t){if(e instanceof Uint8Array)return FR(e,t);if(e instanceof ArrayBuffer)return FR(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?WS().encode(e):e),t)}(n,yC(t));e.asyncQueue.enqueueAndForget(Vi(Fi().mark((function t(){return Fi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=NR,t.next=3,tO(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function LO(e,t){return function(e,t){return e.asyncQueue.enqueue(Vi(Fi().mark((function n(){return Fi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Ck(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.qs.getNamedQuery(e,t)}))},n.next=3,JR(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(RO(e=pO(e,AO)),t).then((function(t){return t?new kO(e,null,t.query):null}))}function FO(e){if(e._initialized||e._terminated)throw new Rk(Ak.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var jO=function(){function e(t){Br(this,e),this._byteString=t}return Wr(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(dx.fromBase64String(t))}catch(t){throw new Rk(Ak.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(dx.fromUint8Array(t))}}]),e}(),UO=function(){function e(){Br(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Rk(Ak.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $k(n)}return Wr(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var VO=Wr((function e(t){Br(this,e),this._methodName=t})),zO=function(){function e(t,n){if(Br(this,e),!isFinite(t)||t<-90||t>90)throw new Rk(Ak.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Rk(Ak.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Wr(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Bk(this._lat,e._lat)||Bk(this._long,e._long)}}]),e}(),BO=/^__.*__$/,qO=function(){function e(t,n,r){Br(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Wr(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new AS(e,this.data,this.fieldMask,t,this.fieldTransforms):new CS(e,this.data,t,this.fieldTransforms)}}]),e}(),ZO=function(){function e(t,n,r){Br(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Wr(e,[{key:"toMutation",value:function(e,t){return new AS(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function WO(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ik()}}var KO=function(){function e(t,n,r,i,a,o){Br(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Wr(e,[{key:"path",get:function(){return this.settings.path}},{key:"ca",get:function(){return this.settings.ca}},{key:"aa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ha",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}},{key:"da",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}},{key:"wa",value:function(e){return this.aa({path:void 0,la:!0})}},{key:"_a",value:function(e){return hN(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ua",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.fa(this.path.get(e))}},{key:"fa",value:function(e){if(0===e.length)throw this._a("Document fields must not be empty");if(WO(this.ca)&&BO.test(e))throw this._a('Document fields cannot begin and end with "__"')}}]),e}(),GO=function(){function e(t,n,r){Br(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||yC(t)}return Wr(e,[{key:"ya",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new KO({ca:e,methodName:t,ga:n,path:$k.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function HO(e){var t=e._freezeSettings(),n=yC(e._databaseId);return new GO(e._databaseId,!!t.ignoreUndefinedProperties,n)}function QO(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ya(a.merge||a.mergeFields?2:0,t,n,i);sN("Data must be an object, but it was:",o,r);var u,s,c=oN(r,o);if(a.merge)u=new fx(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Gr(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=cN(t,d,n);if(!o.contains(p))throw new Rk(Ak.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));dN(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new fx(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new qO(new Zx(c),u,s)}var $O=function(e){$r(n,e);var t=ti(n);function n(){return Br(this,n),t.apply(this,arguments)}return Wr(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(VO);function YO(e,t,n){return new KO({ca:3,ga:t.settings.ga,methodName:e._methodName,la:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var XO=function(e){$r(n,e);var t=ti(n);function n(){return Br(this,n),t.apply(this,arguments)}return Wr(n,[{key:"_toFieldTransform",value:function(e){return new gS(e.path,new lS)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(VO),JO=function(e){$r(n,e);var t=ti(n);function n(e,r){var i;return Br(this,n),(i=t.call(this,e)).pa=r,i}return Wr(n,[{key:"_toFieldTransform",value:function(e){var t=YO(this,e,!0),n=this.pa.map((function(e){return aN(e,t)})),r=new fS(n);return new gS(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(VO),eN=function(e){$r(n,e);var t=ti(n);function n(e,r){var i;return Br(this,n),(i=t.call(this,e)).pa=r,i}return Wr(n,[{key:"_toFieldTransform",value:function(e){var t=YO(this,e,!0),n=this.pa.map((function(e){return aN(e,t)})),r=new dS(n);return new gS(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(VO),tN=function(e){$r(n,e);var t=ti(n);function n(e,r){var i;return Br(this,n),(i=t.call(this,e)).Ia=r,i}return Wr(n,[{key:"_toFieldTransform",value:function(e){var t=new vS(e.serializer,aS(e.serializer,this.Ia));return new gS(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(VO);function nN(e,t,n,r){var i=e.ya(1,t,n);sN("Data must be an object, but it was:",i,r);var a=[],o=Zx.empty();rx(r,(function(e,r){var u=fN(t,e,n);r=Li(r);var s=i.da(u);if(r instanceof $O)a.push(u);else{var c=aN(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new fx(a);return new ZO(o,u,i.fieldTransforms)}function rN(e,t,n,r,i,a){var o=e.ya(1,t,n),u=[cN(t,r,n)],s=[i];if(a.length%2!=0)throw new Rk(Ak.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(cN(t,a[c])),s.push(a[c+1]);for(var l=[],f=Zx.empty(),h=u.length-1;h>=0;--h)if(!dN(l,u[h])){var d=u[h],p=s[h];p=Li(p);var v=o.da(d);if(p instanceof $O)l.push(d);else{var m=aN(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new fx(l);return new ZO(f,y,o.fieldTransforms)}function iN(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return aN(n,e.ya(r?4:3,t))}function aN(e,t){if(uN(e=Li(e)))return sN("Unsupported field value:",t,e),oN(e,t);if(e instanceof VO)return function(e,t){if(!WO(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Gr(e);try{for(a.s();!(n=a.n()).done;){var o=aN(n.value,t.wa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Li(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return aS(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Wk.fromDate(e);return{timestampValue:fE(t.serializer,n)}}if(e instanceof Wk){var r=new Wk(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:fE(t.serializer,r)}}if(e instanceof zO)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof jO)return{bytesValue:hE(t.serializer,e._byteString)};if(e instanceof bO){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t._a("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:vE(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(dO(e)))}(e,t)}function oN(e,t){var n={};return ix(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):rx(e,(function(e,r){var i=aN(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function uN(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Wk||e instanceof zO||e instanceof jO||e instanceof bO||e instanceof VO)}function sN(e,t,n){if(!uN(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=dO(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function cN(e,t,n){if((t=Li(t))instanceof UO)return t._internalPath;if("string"==typeof t)return fN(e,t);throw hN("Field path arguments must be of type string or ",e,!1,void 0,n)}var lN=new RegExp("[~\\*/\\[\\]]");function fN(e,t,n){if(t.search(lN)>=0)throw hN("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return ni(UO,(0,ji.Z)(t.split(".")))._internalPath}catch(r){throw hN("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function hN(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Rk(Ak.INVALID_ARGUMENT,u+e+s)}function dN(e,t){return e.some((function(e){return e.isEqual(t)}))}var pN=function(){function e(t,n,r,i,a){Br(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Wr(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new bO(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new vN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(mN("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),vN=function(e){$r(n,e);var t=ti(n);function n(){return Br(this,n),t.apply(this,arguments)}return Wr(n,[{key:"data",value:function(){return go(Yr(n.prototype),"data",this).call(this)}}]),n}(pN);function mN(e,t){return"string"==typeof t?fN(e,t):t instanceof UO?t._internalPath:t._delegate._internalPath}function yN(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Rk(Ak.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var gN=Wr((function e(){Br(this,e)})),bN=function(e){$r(n,e);var t=ti(n);function n(){return Br(this,n),t.apply(this,arguments)}return Wr(n)}(gN);function kN(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof gN&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof xN})).length,n=e.filter((function(e){return e instanceof wN})).length;if(t>1||t>0&&n>0)throw new Rk(Ak.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=Gr(n);try{for(u.s();!(o=u.n()).done;){var s=o.value;e=s._apply(e)}}catch(c){u.e(c)}finally{u.f()}return e}var wN=function(e){$r(n,e);var t=ti(n);function n(e,r,i){var a;return Br(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return Wr(n,[{key:"_apply",value:function(e){var t=this._parse(e);return DN(e._query,t),new kO(e.firestore,e.converter,D_(e._query,t))}},{key:"_parse",value:function(e){var t=HO(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Rk(Ak.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){PN(o,a);var s,c=[],l=Gr(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(NN(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=NN(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||PN(o,a),u=iN(n,"where",o,"in"===a||"not-in"===a);return Jx.create(i,a,u)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(bN);var xN=function(e){$r(n,e);var t=ti(n);function n(e,r){var i;return Br(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return Wr(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:e_.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=Gr(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;DN(r,a),r=D_(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new kO(e.firestore,e.converter,D_(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(gN);var _N=function(e){$r(n,e);var t=ti(n);function n(e,r){var i;return Br(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return Wr(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Rk(Ak.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Rk(Ak.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new $x(t,n);return function(e,t){if(null===A_(e)){var n=R_(e);null!==n&&MN(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new kO(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new E_(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(bN);var SN=function(e){$r(n,e);var t=ti(n);function n(e,r,i){var a;return Br(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return Wr(n,[{key:"_apply",value:function(e){return new kO(e.firestore,e.converter,M_(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(bN);var EN=function(e){$r(n,e);var t=ti(n);function n(e,r,i){var a;return Br(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return Wr(n,[{key:"_apply",value:function(e){var t=ON(e,this.type,this._docOrFields,this._inclusive);return new kO(e.firestore,e.converter,function(e,t){return new E_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(bN);function IN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return EN._create("startAt",t,!0)}function TN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return EN._create("startAfter",t,!1)}var CN=function(e){$r(n,e);var t=ti(n);function n(e,r,i){var a;return Br(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return Wr(n,[{key:"_apply",value:function(e){var t=ON(e,this.type,this._docOrFields,this._inclusive);return new kO(e.firestore,e.converter,function(e,t){return new E_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(bN);function AN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return CN._create("endBefore",t,!1)}function RN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return CN._create("endAt",t,!0)}function ON(e,t,n,r){if(n[0]=Li(n[0]),n[0]instanceof pN)return function(e,t,n,r,i){if(!r)throw new Rk(Ak.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=Gr(N_(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Nx(t,r.key));else{var c=r.data.field(s.field);if(gx(c))throw new Rk(Ak.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Rk(Ak.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Gx(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=HO(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Rk(Ak.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Rk(Ak.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!O_(e)&&-1!==c.indexOf("/"))throw new Rk(Ak.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Hk.fromString(c));if(!Yk.isDocumentKey(l))throw new Rk(Ak.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Yk(l);u.push(Nx(t,f))}else{var h=iN(n,r,c);u.push(h)}}return new Gx(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function NN(e,t,n){if("string"==typeof(n=Li(n))){if(""===n)throw new Rk(Ak.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!O_(t)&&-1!==n.indexOf("/"))throw new Rk(Ak.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Hk.fromString(n));if(!Yk.isDocumentKey(r))throw new Rk(Ak.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Nx(e,new Yk(r))}if(n instanceof bO)return Nx(e,n._key);throw new Rk(Ak.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(dO(n),"."))}function PN(e,t){if(!Array.isArray(e)||0===e.length)throw new Rk(Ak.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function DN(e,t){if(t.isInequality()){var n=R_(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Rk(Ak.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=A_(e);null!==i&&MN(e,r,i)}var a=function(e,t){var n,r=Gr(e);try{for(r.s();!(n=r.n()).done;){var i,a=Gr(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new Rk(Ak.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Rk(Ak.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function MN(e,t,n){if(!n.isEqual(t))throw new Rk(Ak.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var LN=function(){function e(){Br(this,e)}return Wr(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ex(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mx(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(yx(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ik()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return rx(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new zO(mx(e.latitude),mx(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=bx(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(kx(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=vx(e);return new Wk(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Hk.fromString(e);Tk(UE(n));var r=new xx(n.get(1),n.get(3)),i=new Yk(n.popFirst(5));return r.isEqual(t)||_k("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function FN(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var jN=function(e){$r(n,e);var t=ti(n);function n(e){var r;return Br(this,n),(r=t.call(this)).firestore=e,r}return Wr(n,[{key:"convertBytes",value:function(e){return new jO(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new bO(this.firestore,null,t)}}]),n}(LN);var UN=function(){function e(t,n){Br(this,e),this.hasPendingWrites=t,this.fromCache=n}return Wr(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),VN=function(e){$r(n,e);var t=ti(n);function n(e,r,i,a,o,u){var s;return Br(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Wr(n,[{key:"exists",value:function(){return go(Yr(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new zN(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(mN("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(pN),zN=function(e){$r(n,e);var t=ti(n);function n(){return Br(this,n),t.apply(this,arguments)}return Wr(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return go(Yr(n.prototype),"data",this).call(this,e)}}]),n}(VN),BN=function(){function e(t,n,r,i){Br(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new UN(i.hasPendingWrites,i.fromCache),this.query=r}return Wr(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new zN(n._firestore,n._userDataWriter,r.key,r,new UN(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Rk(Ak.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new zN(e._firestore,e._userDataWriter,t.doc.key,t.doc,new UN(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new zN(e._firestore,e._userDataWriter,t.doc.key,t.doc,new UN(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:qN(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function qN(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ik()}}function ZN(e,t){return e instanceof VN&&t instanceof VN?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof BN&&t instanceof BN&&e._firestore===t._firestore&&EO(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var WN=function(e){$r(n,e);var t=ti(n);function n(e){var r;return Br(this,n),(r=t.call(this)).firestore=e,r}return Wr(n,[{key:"convertBytes",value:function(e){return new jO(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new bO(this.firestore,null,t)}}]),n}(LN);function KN(e){e=pO(e,bO);var t=pO(e.firestore,AO),n=RO(t),r=new WN(t);return function(e,t){var n=new Ok;return e.asyncQueue.enqueueAndForget(Vi(Fi().mark((function r(){return Fi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Vi(Fi().mark((function e(t,n,r){var i,a;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Ck(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Rk(Ak.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=dA(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,JR(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new VN(t,r,e._key,n,new UN(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function GN(e){e=pO(e,kO);var t=pO(e.firestore,AO),n=RO(t),r=new WN(t);return function(e,t){var n=new Ok;return e.asyncQueue.enqueueAndForget(Vi(Fi().mark((function r(){return Fi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Vi(Fi().mark((function e(t,n,r){var i,a,o,u,s;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,qT(t,n,!0);case 3:i=e.sent,a=new PA(n,i.ir),o=a.sc(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=dA(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,JR(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new BN(t,r,e,n)}))}function HN(e,t,n){e=pO(e,bO);var r=pO(e.firestore,AO),i=FN(e.converter,t,n);return XN(r,[QO(HO(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,kS.none())])}function QN(e,t,n){e=pO(e,bO);for(var r=pO(e.firestore,AO),i=HO(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return XN(r,[("string"==typeof(t=Li(t))||t instanceof UO?rN(i,"updateDoc",e._key,t,n,o):nN(i,"updateDoc",e._key,t)).toMutation(e._key,kS.exists(!0))])}function $N(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Li(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||TO(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(TO(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof bO)l=pO(e.firestore,AO),f=T_(e._key.path),c={next:function(t){n[s]&&n[s](JN(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=pO(e,kO);l=pO(p.firestore,AO),f=p._query;var v=new WN(l);c={next:function(e){n[s]&&n[s](new BN(l,v,p,e))},error:n[s+1],complete:n[s+2]},yN(e._query)}return function(e,t,n,r){var i=new jR(r),a=new IA(t,i,n);return e.asyncQueue.enqueueAndForget(Vi(Fi().mark((function t(){return Fi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=bA,t.next=3,rO(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Dc(),e.asyncQueue.enqueueAndForget(Vi(Fi().mark((function t(){return Fi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=wA,t.next=3,rO(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(RO(l),f,h,c)}function YN(e,t){return function(e,t){var n=new jR(t);return e.asyncQueue.enqueueAndForget(Vi(Fi().mark((function t(){return Fi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Ck(e).ku.add(t),t.next()},t.next=3,rO(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Dc(),e.asyncQueue.enqueueAndForget(Vi(Fi().mark((function t(){return Fi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Ck(e).ku.delete(t)},t.next=3,rO(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(RO(e=pO(e,AO)),TO(t)?t:{next:t})}function XN(e,t){return function(e,t){var n=new Ok;return e.asyncQueue.enqueueAndForget(Vi(Fi().mark((function r(){return Fi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=qA,r.next=3,tO(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(RO(e),t)}function JN(e,t,n){var r=n.docs.get(t._key),i=new WN(e);return new VN(e,i,t._key,r,new UN(n.hasPendingWrites,n.fromCache),t.converter)}var eP={maxAttempts:5},tP=function(){function e(t,n){Br(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=HO(t)}return Wr(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=nP(e,this._firestore),i=FN(r.converter,t,n),a=QO(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,kS.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=nP(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Li(t))||t instanceof UO?rN(this._dataReader,"WriteBatch.update",i._key,t,n,o):nN(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,kS.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=nP(e,this._firestore);return this._mutations=this._mutations.concat(new MS(t._key,kS.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Rk(Ak.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function nP(e,t){if((e=Li(e)).firestore!==t)throw new Rk(Ak.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var rP=function(e){$r(n,e);var t=ti(n);function n(e,r){var i;return Br(this,n),(i=t.call(this,e,r))._firestore=e,i}return Wr(n,[{key:"get",value:function(e){var t=this,r=nP(e,this._firestore),i=new WN(this._firestore);return go(Yr(n.prototype),"get",this).call(this,e).then((function(e){return new VN(t._firestore,i,r._key,e._document,new UN(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Br(this,e),this._firestore=t,this._transaction=n,this._dataReader=HO(t)}return Wr(e,[{key:"get",value:function(e){var t=this,n=nP(e,this._firestore),r=new jN(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Ik();var i=e[0];if(i.isFoundDocument())return new pN(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new pN(t._firestore,r,n._key,null,n.converter);throw Ik()}))}},{key:"set",value:function(e,t,n){var r=nP(e,this._firestore),i=FN(r.converter,t,n),a=QO(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=nP(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Li(t))||t instanceof UO?rN(this._dataReader,"Transaction.update",i._key,t,n,o):nN(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=nP(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function iP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new JO("arrayUnion",t)}function aP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new eN("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){bk=e}(La),Aa(new zi("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new AO(new Mk(e.getProvider("auth-internal")),new Uk(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Rk(Ak.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xx(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Ba(yk,"3.13.0",e),Ba(yk,"3.13.0","esm2017")}();function oP(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Rk("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function uP(){if("undefined"===typeof Uint8Array)throw new Rk("unimplemented","Uint8Arrays are not available in this environment.")}function sP(){if("undefined"==typeof atob)throw new Rk("unimplemented","Blobs are unavailable in Firestore in this environment.")}var cP=function(){function e(t){Br(this,e),this._delegate=t}return Wr(e,[{key:"toBase64",value:function(){return sP(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return uP(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return sP(),new e(jO.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return uP(),new e(jO.fromUint8Array(t))}}]),e}();function lP(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Gr(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var fP=function(){function e(){Br(this,e)}return Wr(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){FO(e=pO(e,AO));var n=RO(e);if(n._uninitializedComponentsProvider)throw new Rk(Ak.FAILED_PRECONDITION,"SDK cache is already specified.");Sk("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new LR;return NO(n,i,new DR(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){FO(e=pO(e,AO));var t=RO(e);if(t._uninitializedComponentsProvider)throw new Rk(Ak.FAILED_PRECONDITION,"SDK cache is already specified.");Sk("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new LR;return NO(t,r,new MR(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Rk(Ak.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Ok;return e._queue.enqueueAndForgetEvenWhileRestricted(Vi(Fi().mark((function n(){return Fi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Vi(Fi().mark((function e(t){var n;return Fi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(dw.D()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,dw.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(CT(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),hP=function(){function e(t,n,r){var i=this;Br(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof xx||(this._appCompat=t)}return Wr(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Sk("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};gO(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return PO(this._delegate)}},{key:"disableNetwork",value:function(){return DO(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&lO("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){var t=new Ok;return e.asyncQueue.enqueueAndForget(Vi(Fi().mark((function n(){return Fi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=eR,n.next=3,tO(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(RO(pO(this._delegate,AO)))}},{key:"onSnapshotsInSync",value:function(e){return YN(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Rk("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new IP(this,xO(this._delegate,e))}catch(t){throw gP(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new yP(this,_O(this._delegate,e))}catch(t){throw gP(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new _P(this,function(e,t){if(e=pO(e,yO),cO("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Rk(Ak.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new kO(e,null,function(e){return new E_(Hk.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw gP(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=pO(e,AO);var r=Object.assign(Object.assign({},eP),n);return function(e){if(e.maxAttempts<1)throw new Rk(Ak.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Ok;return e.asyncQueue.enqueueAndForget(Vi(Fi().mark((function i(){var a;return Fi().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,nO(e);case 2:a=i.sent,new zR(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(RO(e),(function(n){return t(new rP(e,n))}),r)}(this._delegate,(function(n){return e(new pP(t,n))}))}},{key:"batch",value:function(){var e=this;return RO(this._delegate),new vP(new tP(this._delegate,(function(t){return XN(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return MO(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return LO(this._delegate,e).then((function(e){return e?new _P(t,e):null}))}}]),e}(),dP=function(e){$r(n,e);var t=ti(n);function n(e){var r;return Br(this,n),(r=t.call(this)).firestore=e,r}return Wr(n,[{key:"convertBytes",value:function(e){return new cP(new jO(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return yP.forKey(t,this.firestore,null)}}]),n}(LN);var pP=function(){function e(t,n){Br(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new dP(t)}return Wr(e,[{key:"get",value:function(e){var t=this,n=TP(e);return this._delegate.get(n).then((function(e){return new wP(t._firestore,new VN(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=TP(e);return n?(oP("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=TP(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=TP(e);return this._delegate.delete(t),this}}]),e}(),vP=function(){function e(t){Br(this,e),this._delegate=t}return Wr(e,[{key:"set",value:function(e,t,n){var r=TP(e);return n?(oP("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=TP(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=TP(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),mP=function(){function e(t,n,r){Br(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Wr(e,[{key:"fromFirestore",value:function(e,t){var n=new zN(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new xP(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new dP(t),n),i.set(n,a)),a}}]),e}();mP.INSTANCES=new WeakMap;var yP=function(){function e(t,n){Br(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new dP(t)}return Wr(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new IP(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new IP(this.firestore,xO(this._delegate,e))}catch(t){throw gP(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Li(e))instanceof bO&&SO(this._delegate,e)}},{key:"set",value:function(e,t){t=oP("DocumentReference.set",t);try{return t?HN(this._delegate,e,t):HN(this._delegate,e)}catch(n){throw gP(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?QN(this._delegate,e):QN.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw gP(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return XN(pO((e=this._delegate).firestore,AO),[new MS(e._key,kS.none())]);var e}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=bP(n),a=kP(n,(function(t){return new wP(e.firestore,new VN(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return $N(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?KN(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=pO(e,bO);var t=pO(e.firestore,AO);return aO(RO(t),e._key,{source:"server"}).then((function(n){return JN(t,e,n)}))}(this._delegate):function(e){e=pO(e,bO);var t=pO(e.firestore,AO);return aO(RO(t),e._key).then((function(n){return JN(t,e,n)}))}(this._delegate)).then((function(e){return new wP(t.firestore,new VN(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(mP.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Rk("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new bO(n._delegate,r,new Yk(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new bO(n._delegate,r,t))}}]),e}();function gP(e,t,n){return e.message=e.message.replace(t,n),e}function bP(e){var t,n=Gr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!lP(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function kP(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=lP(e[0])?e[0]:lP(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var wP=function(){function e(t,n){Br(this,e),this._firestore=t,this._delegate=n}return Wr(e,[{key:"ref",get:function(){return new yP(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return ZN(this._delegate,e._delegate)}}]),e}(),xP=function(e){$r(n,e);var t=ti(n);function n(){return Br(this,n),t.apply(this,arguments)}return Wr(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return void 0!==t||Ik(),t}}]),n}(wP),_P=function(){function e(t,n){Br(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new dP(t)}return Wr(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,kN(this._delegate,function(e,t,n){var r=t,i=mN("where",e);return wN._create(i,r,n)}(t,n,r)))}catch(i){throw gP(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,kN(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=mN("orderBy",e);return _N._create(n,t)}(t,n)))}catch(r){throw gP(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,kN(this._delegate,(vO("limit",n=t),SN._create("limit",n,"F"))))}catch(r){throw gP(r,"limit()","Query.limit()")}var n}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,kN(this._delegate,(vO("limitToLast",n=t),SN._create("limitToLast",n,"L"))))}catch(r){throw gP(r,"limitToLast()","Query.limitToLast()")}var n}},{key:"startAt",value:function(){try{return new e(this.firestore,kN(this._delegate,IN.apply(void 0,arguments)))}catch(t){throw gP(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,kN(this._delegate,TN.apply(void 0,arguments)))}catch(t){throw gP(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,kN(this._delegate,AN.apply(void 0,arguments)))}catch(t){throw gP(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,kN(this._delegate,RN.apply(void 0,arguments)))}catch(t){throw gP(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return EO(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?GN(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=pO(e,kO);var t=pO(e.firestore,AO),n=RO(t),r=new WN(t);return oO(n,e._query,{source:"server"}).then((function(n){return new BN(t,r,e,n)}))}(this._delegate):function(e){e=pO(e,kO);var t=pO(e.firestore,AO),n=RO(t),r=new WN(t);return yN(e._query),oO(n,e._query).then((function(n){return new BN(t,r,e,n)}))}(this._delegate)).then((function(e){return new EP(t.firestore,new BN(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=bP(n),a=kP(n,(function(t){return new EP(e.firestore,new BN(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return $N(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(mP.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),SP=function(){function e(t,n){Br(this,e),this._firestore=t,this._delegate=n}return Wr(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new xP(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),EP=function(){function e(t,n){Br(this,e),this._firestore=t,this._delegate=n}return Wr(e,[{key:"query",get:function(){return new _P(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new xP(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new SP(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new xP(n._firestore,r))}))}},{key:"isEqual",value:function(e){return ZN(this._delegate,e._delegate)}}]),e}(),IP=function(e){$r(n,e);var t=ti(n);function n(e,r){var i;return Br(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Wr(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new yP(this.firestore,e):null}},{key:"doc",value:function(e){try{return new yP(this.firestore,void 0===e?_O(this._delegate):_O(this._delegate,e))}catch(t){throw gP(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=pO(e.firestore,AO),r=_O(e),i=FN(e.converter,t);return XN(n,[QO(HO(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,kS.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new yP(t.firestore,e)}))}},{key:"isEqual",value:function(e){return SO(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(mP.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(_P);function TP(e){return pO(e,bO)}var CP=function(){function e(){Br(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=ni(UO,n)}return Wr(e,[{key:"isEqual",value:function(e){return(e=Li(e))instanceof UO&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e($k.keyField().canonicalString())}}]),e}(),AP=function(){function e(t){Br(this,e),this._delegate=t}return Wr(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new XO("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new $O("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=iP.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=aP.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=new tN("increment",t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),RP={Firestore:hP,GeoPoint:zO,Timestamp:Wk,Blob:cP,Transaction:pP,WriteBatch:vP,DocumentReference:yP,DocumentSnapshot:wP,Query:_P,QueryDocumentSnapshot:xP,QuerySnapshot:EP,CollectionReference:IP,FieldPath:CP,FieldValue:AP,setLogLevel:function(e){var t;t=e,kk.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new zi("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},RP)))}(e,(function(e,t){return new hP(e,t,new fP)})),e.registerVersion("@firebase/firestore-compat","0.3.12")}(ho);var OP=ho.initializeApp({apiKey:"AIzaSyB4FsWIhOrtfy6RBcXq393JHEWBuTkZ1FQ",authDomain:"instagram-clone-28d27.firebaseapp.com",projectId:"instagram-clone-28d27",storageBucket:"instagram-clone-28d27.appspot.com",messagingSenderId:"1067913801877",appId:"1:1067913801877:web:18778e5b7b091c97f16b9c"}).firestore(),NP=ho.auth(),PP=ho.storage(),DP=n(184);var MP=function(e){var n=e.username,r=e.postId,a=e.caption,o=e.user,u=e.imageurl,s=(0,t.useState)([]),c=(0,i.Z)(s,2),l=c[0],f=c[1],h=(0,t.useState)(""),d=(0,i.Z)(h,2),p=d[0],v=d[1],m=(0,t.useState)(0),y=(0,i.Z)(m,2),g=y[0],b=y[1];return(0,t.useEffect)((function(){var e;return r&&(e=OP.collection("posts").doc(r).collection("comments").orderBy("timestamp","desc").onSnapshot((function(e){f(e.docs.map((function(e){return e.data()})))}))),function(){e()}}),[r]),(0,DP.jsxs)("div",{className:"post",children:[(0,DP.jsxs)("div",{className:"post_header",children:[(0,DP.jsx)(Ur,{className:"post_avatar",alt:"Ankit kumar",src:"/static/images/avatar/1.jpg"}),(0,DP.jsx)("h2",{children:n})]}),(0,DP.jsx)("img",{className:"post_image",src:u,alt:"it's a server error"}),(0,DP.jsxs)("h4",{className:"post_handle",children:[(0,DP.jsx)("strong",{children:n})," ",a]}),(0,DP.jsxs)("div",{className:"Input_comments",children:[l.map((function(e){return(0,DP.jsxs)("p",{children:[(0,DP.jsxs)("strong",{children:["  ",e.username," "]}),e.text]})})),(0,DP.jsxs)("div",{className:"Like_share",children:[(0,DP.jsxs)("div",{children:[(0,DP.jsx)(Vr.Z,{onClick:function(e){e.preventDefault(),b(g+1)}}),(0,DP.jsx)("div",{className:"like_para",children:(0,DP.jsxs)("p",{children:[n," and ",g>0?g-1:g," liked this post"]})})]}),(0,DP.jsx)("div",{}),(0,DP.jsx)("div",{})]})]}),o&&(0,DP.jsxs)("form",{className:"post_form",children:[(0,DP.jsx)("input",{className:"post_comment",type:"text",placeholder:"Place a comment here.....",value:p,onChange:function(e){return v(e.target.value)}}),(0,DP.jsx)("button",{className:"post_button",disabled:!p,type:"submit",onClick:function(e){e.preventDefault(),OP.collection("posts").doc(r).collection("comments").add({text:p,username:o.displayName,timestamp:ho.firestore.FieldValue.serverTimestamp()}),f("")},children:"Post"})]})]})};var LP=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Nn(e,(0,a.Z)({defaultTheme:Nr},t))},FP=n(164);function jP(e){return e&&e.ownerDocument||document}function UP(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function VP(e,n){return t.useMemo((function(){return null==e&&null==n?null:function(t){UP(e,t),UP(n,t)}}),[e,n])}var zP="undefined"!==typeof window?t.useLayoutEffect:t.useEffect;var BP=t.forwardRef((function(e,n){var r=e.children,i=e.container,a=e.disablePortal,o=void 0!==a&&a,u=e.onRendered,s=t.useState(null),c=s[0],l=s[1],f=VP(t.isValidElement(r)?r.ref:null,n);return zP((function(){o||l(function(e){return e="function"===typeof e?e():e,FP.findDOMNode(e)}(i)||document.body)}),[i,o]),zP((function(){if(c&&!o)return UP(n,c),function(){UP(n,null)}}),[n,c,o]),zP((function(){u&&(c||o)&&u()}),[u,c,o]),o?t.isValidElement(r)?t.cloneElement(r,{ref:f}):r:c?FP.createPortal(r,c):c}));function qP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}var ZP="undefined"!==typeof window?t.useLayoutEffect:t.useEffect;function WP(e){var n=t.useRef(e);return ZP((function(){n.current=e})),t.useCallback((function(){return n.current.apply(void 0,arguments)}),[])}function KP(e){var t,n=jP(e);return n.body===e?(t=n,jP(t).defaultView||window).innerWidth>n.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function GP(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function HP(e){return parseInt(window.getComputedStyle(e)["padding-right"],10)||0}function QP(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,a=[t,n].concat(mt(r)),o=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){1===e.nodeType&&-1===a.indexOf(e)&&-1===o.indexOf(e.tagName)&&GP(e,i)}))}function $P(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function YP(e,t){var n,r=[],i=[],a=e.container;if(!t.disableScrollLock){if(KP(a)){var o=function(){var e=document.createElement("div");e.style.width="99px",e.style.height="99px",e.style.position="absolute",e.style.top="-9999px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}();r.push({value:a.style.paddingRight,key:"padding-right",el:a}),a.style["padding-right"]="".concat(HP(a)+o,"px"),n=jP(a).querySelectorAll(".mui-fixed"),[].forEach.call(n,(function(e){i.push(e.style.paddingRight),e.style.paddingRight="".concat(HP(e)+o,"px")}))}var u=a.parentElement,s="HTML"===u.nodeName&&"scroll"===window.getComputedStyle(u)["overflow-y"]?u:a;r.push({value:s.style.overflow,key:"overflow",el:s}),s.style.overflow="hidden"}return function(){n&&[].forEach.call(n,(function(e,t){i[t]?e.style.paddingRight=i[t]:e.style.removeProperty("padding-right")})),r.forEach((function(e){var t=e.value,n=e.el,r=e.key;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var XP=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.modals=[],this.containers=[]}return y(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&GP(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){e.getAttribute&&"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);QP(t,e.mountNode,e.modalRef,r,!0);var i=$P(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblingNodes:r}),n)}},{key:"mount",value:function(e,t){var n=$P(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=YP(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=$P(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&GP(e.modalRef,!0),QP(r.container,e.mountNode,e.modalRef,r.hiddenSiblingNodes,!1),this.containers.splice(n,1);else{var i=r.modals[r.modals.length-1];i.modalRef&&GP(i.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}();var JP=function(e){var n=e.children,r=e.disableAutoFocus,i=void 0!==r&&r,a=e.disableEnforceFocus,o=void 0!==a&&a,u=e.disableRestoreFocus,s=void 0!==u&&u,c=e.getDoc,l=e.isEnabled,f=e.open,h=t.useRef(),d=t.useRef(null),p=t.useRef(null),v=t.useRef(),m=t.useRef(null),y=t.useCallback((function(e){m.current=FP.findDOMNode(e)}),[]),g=VP(n.ref,y),b=t.useRef();return t.useEffect((function(){b.current=f}),[f]),!b.current&&f&&"undefined"!==typeof window&&(v.current=c().activeElement),t.useEffect((function(){if(f){var e=jP(m.current);i||!m.current||m.current.contains(e.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex",-1),m.current.focus());var t=function(){null!==m.current&&(e.hasFocus()&&!o&&l()&&!h.current?m.current&&!m.current.contains(e.activeElement)&&m.current.focus():h.current=!1)},n=function(t){!o&&l()&&9===t.keyCode&&e.activeElement===m.current&&(h.current=!0,t.shiftKey?p.current.focus():d.current.focus())};e.addEventListener("focus",t,!0),e.addEventListener("keydown",n,!0);var r=setInterval((function(){t()}),50);return function(){clearInterval(r),e.removeEventListener("focus",t,!0),e.removeEventListener("keydown",n,!0),s||(v.current&&v.current.focus&&v.current.focus(),v.current=null)}}}),[i,o,s,l,f]),t.createElement(t.Fragment,null,t.createElement("div",{tabIndex:0,ref:d,"data-test":"sentinelStart"}),t.cloneElement(n,{ref:g}),t.createElement("div",{tabIndex:0,ref:p,"data-test":"sentinelEnd"}))},eD={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},tD=t.forwardRef((function(e,n){var r=e.invisible,i=void 0!==r&&r,o=e.open,s=u(e,["invisible","open"]);return o?t.createElement("div",(0,a.Z)({"aria-hidden":!0,ref:n},s,{style:(0,a.Z)({},eD.root,i?eD.invisible:{},s.style)})):null}));var nD=new XP,rD=t.forwardRef((function(e,n){var r=Le(),i=Pn({name:"MuiModal",props:(0,a.Z)({},e),theme:r}),o=i.BackdropComponent,s=void 0===o?tD:o,c=i.BackdropProps,l=i.children,f=i.closeAfterTransition,h=void 0!==f&&f,d=i.container,p=i.disableAutoFocus,v=void 0!==p&&p,m=i.disableBackdropClick,y=void 0!==m&&m,g=i.disableEnforceFocus,b=void 0!==g&&g,k=i.disableEscapeKeyDown,w=void 0!==k&&k,x=i.disablePortal,_=void 0!==x&&x,S=i.disableRestoreFocus,E=void 0!==S&&S,I=i.disableScrollLock,T=void 0!==I&&I,C=i.hideBackdrop,A=void 0!==C&&C,R=i.keepMounted,O=void 0!==R&&R,N=i.manager,P=void 0===N?nD:N,D=i.onBackdropClick,M=i.onClose,L=i.onEscapeKeyDown,F=i.onRendered,j=i.open,U=u(i,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),V=t.useState(!0),z=V[0],B=V[1],q=t.useRef({}),Z=t.useRef(null),W=t.useRef(null),K=VP(W,n),G=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(i),H=function(){return jP(Z.current)},Q=function(){return q.current.modalRef=W.current,q.current.mountNode=Z.current,q.current},$=function(){P.mount(Q(),{disableScrollLock:T}),W.current.scrollTop=0},Y=WP((function(){var e=function(e){return e="function"===typeof e?e():e,FP.findDOMNode(e)}(d)||H().body;P.add(Q(),e),W.current&&$()})),X=t.useCallback((function(){return P.isTopModal(Q())}),[P]),J=WP((function(e){Z.current=e,e&&(F&&F(),j&&X()?$():GP(W.current,!0))})),ee=t.useCallback((function(){P.remove(Q())}),[P]);if(t.useEffect((function(){return function(){ee()}}),[ee]),t.useEffect((function(){j?Y():G&&h||ee()}),[j,ee,G,h,Y]),!O&&!j&&(!G||z))return null;var te=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(r||{zIndex:Rr}),ne={};return void 0===l.props.tabIndex&&(ne.tabIndex=l.props.tabIndex||"-1"),G&&(ne.onEnter=qP((function(){B(!1)}),l.props.onEnter),ne.onExited=qP((function(){B(!0),h&&ee()}),l.props.onExited)),t.createElement(BP,{ref:J,container:d,disablePortal:_},t.createElement("div",(0,a.Z)({ref:K,onKeyDown:function(e){"Escape"===e.key&&X()&&(L&&L(e),w||(e.stopPropagation(),M&&M(e,"escapeKeyDown")))},role:"presentation"},U,{style:(0,a.Z)({},te.root,!j&&z?te.hidden:{},U.style)}),A?null:t.createElement(s,(0,a.Z)({open:j,onClick:function(e){e.target===e.currentTarget&&(D&&D(e),!y&&M&&M(e,"backdropClick"))}},c)),t.createElement(JP,{disableEnforceFocus:b,disableAutoFocus:v,disableRestoreFocus:E,getDoc:H,isEnabled:X,open:j},t.cloneElement(l,ne))))})),iD=!0,aD=!1,oD=null,uD={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function sD(e){e.metaKey||e.altKey||e.ctrlKey||(iD=!0)}function cD(){iD=!1}function lD(){"hidden"===this.visibilityState&&aD&&(iD=!0)}function fD(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return iD||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!uD[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function hD(){aD=!0,window.clearTimeout(oD),oD=window.setTimeout((function(){aD=!1}),100)}function dD(){var e=t.useCallback((function(e){var t,n=FP.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",sD,!0),t.addEventListener("mousedown",cD,!0),t.addEventListener("pointerdown",cD,!0),t.addEventListener("touchstart",cD,!0),t.addEventListener("visibilitychange",lD,!0))}),[]);return{isFocusVisible:fD,onBlurVisible:hD,ref:e}}var pD=t.createContext(null);function vD(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function mD(e,t,n){return null!=n[t]?n[t]:e.props[t]}function yD(e,n,r){var i=vD(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var u={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var c=i[s][r];u[i[s][r]]=n(c)}u[s]=n(s)}for(r=0;r<a.length;r++)u[a[r]]=n(a[r]);return u}(n,i);return Object.keys(a).forEach((function(o){var u=a[o];if((0,t.isValidElement)(u)){var s=o in n,c=o in i,l=n[o],f=(0,t.isValidElement)(l)&&!l.props.in;!c||s&&!f?c||!s||f?c&&s&&(0,t.isValidElement)(l)&&(a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:l.props.in,exit:mD(u,"exit",e),enter:mD(u,"enter",e)})):a[o]=(0,t.cloneElement)(u,{in:!1}):a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:!0,exit:mD(u,"exit",e),enter:mD(u,"enter",e)})}})),a}var gD=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},bD=function(e){function n(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(k(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}b(n,e);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,n){var r,i,a=n.children,o=n.handleExited;return{children:n.firstRender?(r=e,i=o,vD(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:mD(e,"appear",r),enter:mD(e,"enter",r),exit:mD(e,"exit",r)})}))):yD(e,a,o),firstRender:!1}},r.handleExited=function(e,t){var n=vD(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,a.Z)({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var e=this.props,n=e.component,r=e.childFactory,i=(0,o.Z)(e,["component","childFactory"]),a=this.state.contextValue,u=gD(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?t.createElement(pD.Provider,{value:a},u):t.createElement(pD.Provider,{value:a},t.createElement(n,i,u))},n}(t.Component);bD.propTypes={},bD.defaultProps={component:"div",childFactory:function(e){return e}};var kD=bD,wD="undefined"===typeof window?t.useEffect:t.useLayoutEffect;var xD=function(e){var n=e.classes,r=e.pulsate,i=void 0!==r&&r,a=e.rippleX,o=e.rippleY,u=e.rippleSize,s=e.in,l=e.onExited,f=void 0===l?function(){}:l,h=e.timeout,d=t.useState(!1),p=d[0],v=d[1],m=c(n.ripple,n.rippleVisible,i&&n.ripplePulsate),y={width:u,height:u,top:-u/2+o,left:-u/2+a},g=c(n.child,p&&n.childLeaving,i&&n.childPulsate),b=WP(f);return wD((function(){if(!s){v(!0);var e=setTimeout(b,h);return function(){clearTimeout(e)}}}),[b,s,h]),t.createElement("span",{className:m,style:y},t.createElement("span",{className:g}))},_D=t.forwardRef((function(e,n){var r=e.center,i=void 0!==r&&r,o=e.classes,s=e.className,l=u(e,["center","classes","className"]),f=t.useState([]),h=f[0],d=f[1],p=t.useRef(0),v=t.useRef(null);t.useEffect((function(){v.current&&(v.current(),v.current=null)}),[h]);var m=t.useRef(!1),y=t.useRef(null),g=t.useRef(null),b=t.useRef(null);t.useEffect((function(){return function(){clearTimeout(y.current)}}),[]);var k=t.useCallback((function(e){var n=e.pulsate,r=e.rippleX,i=e.rippleY,a=e.rippleSize,u=e.cb;d((function(e){return[].concat(mt(e),[t.createElement(xD,{key:p.current,classes:o,timeout:550,pulsate:n,rippleX:r,rippleY:i,rippleSize:a})])})),p.current+=1,v.current=u}),[o]),w=t.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,a=void 0!==r&&r,o=t.center,u=void 0===o?i||t.pulsate:o,s=t.fakeElement,c=void 0!==s&&s;if("mousedown"===e.type&&m.current)m.current=!1;else{"touchstart"===e.type&&(m.current=!0);var l,f,h,d=c?null:b.current,p=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(u||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches?e.touches[0]:e,w=v.clientX,x=v.clientY;l=Math.round(w-p.left),f=Math.round(x-p.top)}if(u)(h=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(h+=1);else{var _=2*Math.max(Math.abs((d?d.clientWidth:0)-l),l)+2,S=2*Math.max(Math.abs((d?d.clientHeight:0)-f),f)+2;h=Math.sqrt(Math.pow(_,2)+Math.pow(S,2))}e.touches?null===g.current&&(g.current=function(){k({pulsate:a,rippleX:l,rippleY:f,rippleSize:h,cb:n})},y.current=setTimeout((function(){g.current&&(g.current(),g.current=null)}),80)):k({pulsate:a,rippleX:l,rippleY:f,rippleSize:h,cb:n})}}),[i,k]),x=t.useCallback((function(){w({},{pulsate:!0})}),[w]),_=t.useCallback((function(e,t){if(clearTimeout(y.current),"touchend"===e.type&&g.current)return e.persist(),g.current(),g.current=null,void(y.current=setTimeout((function(){_(e,t)})));g.current=null,d((function(e){return e.length>0?e.slice(1):e})),v.current=t}),[]);return t.useImperativeHandle(n,(function(){return{pulsate:x,start:w,stop:_}}),[x,w,_]),t.createElement("span",(0,a.Z)({className:c(o.root,s),ref:b},l),t.createElement(kD,{component:null,exit:!0},h))})),SD=Pr((function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(t.memo(_D)),ED=t.forwardRef((function(e,n){var r=e.action,i=e.buttonRef,o=e.centerRipple,s=void 0!==o&&o,l=e.children,f=e.classes,h=e.className,d=e.component,p=void 0===d?"button":d,v=e.disabled,m=void 0!==v&&v,y=e.disableRipple,g=void 0!==y&&y,b=e.disableTouchRipple,k=void 0!==b&&b,w=e.focusRipple,x=void 0!==w&&w,_=e.focusVisibleClassName,S=e.onBlur,E=e.onClick,I=e.onFocus,T=e.onFocusVisible,C=e.onKeyDown,A=e.onKeyUp,R=e.onMouseDown,O=e.onMouseLeave,N=e.onMouseUp,P=e.onTouchEnd,D=e.onTouchMove,M=e.onTouchStart,L=e.onDragLeave,F=e.tabIndex,j=void 0===F?0:F,U=e.TouchRippleProps,V=e.type,z=void 0===V?"button":V,B=u(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),q=t.useRef(null);var Z=t.useRef(null),W=t.useState(!1),K=W[0],G=W[1];m&&K&&G(!1);var H=dD(),Q=H.isFocusVisible,$=H.onBlurVisible,Y=H.ref;function X(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k;return WP((function(r){return t&&t(r),!n&&Z.current&&Z.current[e](r),!0}))}t.useImperativeHandle(r,(function(){return{focusVisible:function(){G(!0),q.current.focus()}}}),[]),t.useEffect((function(){K&&x&&!g&&Z.current.pulsate()}),[g,x,K]);var J=X("start",R),ee=X("stop",L),te=X("stop",N),ne=X("stop",(function(e){K&&e.preventDefault(),O&&O(e)})),re=X("start",M),ie=X("stop",P),ae=X("stop",D),oe=X("stop",(function(e){K&&($(e),G(!1)),S&&S(e)}),!1),ue=WP((function(e){q.current||(q.current=e.currentTarget),Q(e)&&(G(!0),T&&T(e)),I&&I(e)})),se=function(){var e=FP.findDOMNode(q.current);return p&&"button"!==p&&!("A"===e.tagName&&e.href)},ce=t.useRef(!1),le=WP((function(e){x&&!ce.current&&K&&Z.current&&" "===e.key&&(ce.current=!0,e.persist(),Z.current.stop(e,(function(){Z.current.start(e)}))),e.target===e.currentTarget&&se()&&" "===e.key&&e.preventDefault(),C&&C(e),e.target===e.currentTarget&&se()&&"Enter"===e.key&&!m&&(e.preventDefault(),E&&E(e))})),fe=WP((function(e){x&&" "===e.key&&Z.current&&K&&!e.defaultPrevented&&(ce.current=!1,e.persist(),Z.current.stop(e,(function(){Z.current.pulsate(e)}))),A&&A(e),E&&e.target===e.currentTarget&&se()&&" "===e.key&&!e.defaultPrevented&&E(e)})),he=p;"button"===he&&B.href&&(he="a");var de={};"button"===he?(de.type=z,de.disabled=m):("a"===he&&B.href||(de.role="button"),de["aria-disabled"]=m);var pe=VP(i,n),ve=VP(Y,q),me=VP(pe,ve),ye=t.useState(!1),ge=ye[0],be=ye[1];t.useEffect((function(){be(!0)}),[]);var ke=ge&&!g&&!m;return t.createElement(he,(0,a.Z)({className:c(f.root,h,K&&[f.focusVisible,_],m&&f.disabled),onBlur:oe,onClick:E,onFocus:ue,onKeyDown:le,onKeyUp:fe,onMouseDown:J,onMouseLeave:ne,onMouseUp:te,onDragLeave:ee,onTouchEnd:ie,onTouchMove:ae,onTouchStart:re,ref:me,tabIndex:m?-1:j},de,B),l,ke?t.createElement(SD,(0,a.Z)({ref:Z,center:s},U)):null)})),ID=Pr({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(ED),TD=t.forwardRef((function(e,n){var r=e.children,i=e.classes,o=e.className,s=e.color,l=void 0===s?"default":s,f=e.component,h=void 0===f?"button":f,d=e.disabled,p=void 0!==d&&d,v=e.disableElevation,m=void 0!==v&&v,y=e.disableFocusRipple,g=void 0!==y&&y,b=e.endIcon,k=e.focusVisibleClassName,w=e.fullWidth,x=void 0!==w&&w,_=e.size,S=void 0===_?"medium":_,E=e.startIcon,I=e.type,T=void 0===I?"button":I,C=e.variant,A=void 0===C?"text":C,R=u(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),O=E&&t.createElement("span",{className:c(i.startIcon,i["iconSize".concat(Dr(S))])},E),N=b&&t.createElement("span",{className:c(i.endIcon,i["iconSize".concat(Dr(S))])},b);return t.createElement(ID,(0,a.Z)({className:c(i.root,i[A],o,"inherit"===l?i.colorInherit:"default"!==l&&i["".concat(A).concat(Dr(l))],"medium"!==S&&[i["".concat(A,"Size").concat(Dr(S))],i["size".concat(Dr(S))]],m&&i.disableElevation,p&&i.disabled,x&&i.fullWidth),component:h,disabled:p,focusRipple:!g,focusVisibleClassName:c(i.focusVisible,k),ref:n,type:T},R),t.createElement("span",{className:i.label},O,r,N))})),CD=Pr((function(e){return{root:(0,a.Z)({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:Xn(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Xn(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Xn(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(Xn(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:Xn(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(Xn(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:Xn(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})(TD);var AD=t.createContext();var RD=AD;function OD(e,t){return parseInt(e[t],10)||0}var ND="undefined"!==typeof window?t.useLayoutEffect:t.useEffect,PD={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},DD=t.forwardRef((function(e,n){var r=e.onChange,i=e.rows,o=e.rowsMax,s=e.rowsMin,c=e.maxRows,l=e.minRows,f=void 0===l?1:l,h=e.style,d=e.value,p=u(e,["onChange","rows","rowsMax","rowsMin","maxRows","minRows","style","value"]),v=c||o,m=i||s||f,y=t.useRef(null!=d).current,g=t.useRef(null),b=VP(n,g),k=t.useRef(null),w=t.useRef(0),x=t.useState({}),_=x[0],S=x[1],E=t.useCallback((function(){var t=g.current,n=window.getComputedStyle(t),r=k.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var i=n["box-sizing"],a=OD(n,"padding-bottom")+OD(n,"padding-top"),o=OD(n,"border-bottom-width")+OD(n,"border-top-width"),u=r.scrollHeight-a;r.value="x";var s=r.scrollHeight-a,c=u;m&&(c=Math.max(Number(m)*s,c)),v&&(c=Math.min(Number(v)*s,c));var l=(c=Math.max(c,s))+("border-box"===i?a+o:0),f=Math.abs(c-u)<=1;S((function(e){return w.current<20&&(l>0&&Math.abs((e.outerHeightStyle||0)-l)>1||e.overflow!==f)?(w.current+=1,{overflow:f,outerHeightStyle:l}):e}))}),[v,m,e.placeholder]);t.useEffect((function(){var e=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=this,u=function(){e.apply(o,i)};clearTimeout(t),t=setTimeout(u,n)}return r.clear=function(){clearTimeout(t)},r}((function(){w.current=0,E()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[E]),ND((function(){E()})),t.useEffect((function(){w.current=0}),[d]);return t.createElement(t.Fragment,null,t.createElement("textarea",(0,a.Z)({value:d,onChange:function(e){w.current=0,y||E(),r&&r(e)},ref:b,rows:m,style:(0,a.Z)({height:_.outerHeightStyle,overflow:_.overflow?"hidden":null},h)},p)),t.createElement("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:k,tabIndex:-1,style:(0,a.Z)({},PD,h)}))})),MD=DD;function LD(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}var FD="undefined"===typeof window?t.useEffect:t.useLayoutEffect,jD=t.forwardRef((function(e,n){var r=e["aria-describedby"],i=e.autoComplete,o=e.autoFocus,s=e.classes,l=e.className,f=(e.color,e.defaultValue),h=e.disabled,d=e.endAdornment,p=(e.error,e.fullWidth),v=void 0!==p&&p,m=e.id,y=e.inputComponent,g=void 0===y?"input":y,b=e.inputProps,k=void 0===b?{}:b,w=e.inputRef,x=(e.margin,e.multiline),_=void 0!==x&&x,S=e.name,E=e.onBlur,I=e.onChange,T=e.onClick,C=e.onFocus,A=e.onKeyDown,R=e.onKeyUp,O=e.placeholder,N=e.readOnly,P=e.renderSuffix,D=e.rows,M=e.rowsMax,L=e.rowsMin,F=e.maxRows,j=e.minRows,U=e.startAdornment,V=e.type,z=void 0===V?"text":V,B=e.value,q=u(e,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","maxRows","minRows","startAdornment","type","value"]),Z=null!=k.value?k.value:B,W=t.useRef(null!=Z).current,K=t.useRef(),G=t.useCallback((function(e){0}),[]),H=VP(k.ref,G),Q=VP(w,H),$=VP(K,Q),Y=t.useState(!1),X=Y[0],J=Y[1],ee=t.useContext(AD);var te=function(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}({props:e,muiFormControl:ee,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});te.focused=ee?ee.focused:X,t.useEffect((function(){!ee&&h&&X&&(J(!1),E&&E())}),[ee,h,X,E]);var ne=ee&&ee.onFilled,re=ee&&ee.onEmpty,ie=t.useCallback((function(e){!function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(LD(e.value)&&""!==e.value||t&&LD(e.defaultValue)&&""!==e.defaultValue)}(e)?re&&re():ne&&ne()}),[ne,re]);FD((function(){W&&ie({value:Z})}),[Z,ie,W]);t.useEffect((function(){ie(K.current)}),[]);var ae=g,oe=(0,a.Z)({},k,{ref:$});"string"!==typeof ae?oe=(0,a.Z)({inputRef:$,type:z},oe,{ref:null}):_?!D||F||j||M||L?(oe=(0,a.Z)({minRows:D||j,rowsMax:M,maxRows:F},oe),ae=MD):ae="textarea":oe=(0,a.Z)({type:z},oe);return t.useEffect((function(){ee&&ee.setAdornedStart(Boolean(U))}),[ee,U]),t.createElement("div",(0,a.Z)({className:c(s.root,s["color".concat(Dr(te.color||"primary"))],l,te.disabled&&s.disabled,te.error&&s.error,v&&s.fullWidth,te.focused&&s.focused,ee&&s.formControl,_&&s.multiline,U&&s.adornedStart,d&&s.adornedEnd,"dense"===te.margin&&s.marginDense),onClick:function(e){K.current&&e.currentTarget===e.target&&K.current.focus(),T&&T(e)},ref:n},q),U,t.createElement(RD.Provider,{value:null},t.createElement(ae,(0,a.Z)({"aria-invalid":te.error,"aria-describedby":r,autoComplete:i,autoFocus:o,defaultValue:f,disabled:te.disabled,id:m,onAnimationStart:function(e){ie("mui-auto-fill-cancel"===e.animationName?K.current:{value:"x"})},name:S,placeholder:O,readOnly:N,required:te.required,rows:D,value:Z,onKeyDown:A,onKeyUp:R},oe,{className:c(s.input,k.className,te.disabled&&s.disabled,_&&s.inputMultiline,te.hiddenLabel&&s.inputHiddenLabel,U&&s.inputAdornedStart,d&&s.inputAdornedEnd,"search"===z&&s.inputTypeSearch,"dense"===te.margin&&s.inputMarginDense),onBlur:function(e){E&&E(e),k.onBlur&&k.onBlur(e),ee&&ee.onBlur?ee.onBlur(e):J(!1)},onChange:function(e){if(!W){var t=e.target||K.current;if(null==t)throw new Error(Un(1));ie({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];k.onChange&&k.onChange.apply(k,[e].concat(r)),I&&I.apply(void 0,[e].concat(r))},onFocus:function(e){te.disabled?e.stopPropagation():(C&&C(e),k.onFocus&&k.onFocus(e),ee&&ee.onFocus?ee.onFocus(e):J(!0))}}))),d,P?P((0,a.Z)({},te,{startAdornment:U})):null)})),UD=Pr((function(e){var t="light"===e.palette.type,n={color:"currentColor",opacity:t?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},r={opacity:"0 !important"},i={opacity:t?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:(0,a.Z)({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus:-ms-input-placeholder":i,"&:focus::-ms-input-placeholder":i},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}}),{name:"MuiInputBase"})(jD),VD=t.forwardRef((function(e,n){var r=e.disableUnderline,i=e.classes,o=e.fullWidth,s=void 0!==o&&o,l=e.inputComponent,f=void 0===l?"input":l,h=e.multiline,d=void 0!==h&&h,p=e.type,v=void 0===p?"text":p,m=u(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return t.createElement(UD,(0,a.Z)({classes:(0,a.Z)({},i,{root:c(i.root,!r&&i.underline),underline:null}),fullWidth:s,inputComponent:f,multiline:d,ref:n,type:v},m))}));VD.muiName="Input";var zD=Pr((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(t),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(e.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(t)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}}),{name:"MuiInput"})(VD);var BD=function(e){var n=e.username,r=(0,t.useState)(null),a=(0,i.Z)(r,2),o=a[0],u=a[1],s=(0,t.useState)(""),c=(0,i.Z)(s,2),l=c[0],f=c[1],h=(0,t.useState)(0),d=(0,i.Z)(h,2),p=d[0],v=d[1];return(0,DP.jsxs)("div",{className:"ImageUpload",children:[(0,DP.jsx)("progress",{className:"progress",value:p,max:"100"}),(0,DP.jsx)("input",{type:"text",placeholder:"Enter the caption......",onChange:function(e){return f(e.target.value)},value:l}),(0,DP.jsx)("input",{type:"file",onChange:function(e){e.target.files[0]&&u(e.target.files[0])}}),(0,DP.jsx)(CD,{onClick:function(){PP.ref("/images/".concat(o.name)).put(o).on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);v(t)}),(function(e){console.log(e),alert(e.message)}),(function(){PP.ref("images").child(o.name).getDownloadURL().then((function(e){OP.collection("posts").add({timestamp:ho.firestore.FieldValue.serverTimestamp(),caption:l,imageurl:e,username:n}),v(0),f(""),u(null)}))}))},children:" Upload "})]})},qD=n(361),ZD=n.n(qD),WD={display:"block",maxWidth:"100%",borderRadius:4},KD={background:"#333",width:"100%",padding:20,color:"white",height:"100%"},GD={maxWidth:"100%",height:"100%",padding:40,background:"#ccd8e4"},HD={textAlign:"center",fontSize:14,bottom:20,position:"relative"},QD=[{content:function(e){e.action,e.isPaused;return(0,DP.jsxs)("div",{style:KD,children:[(0,DP.jsx)("h1",{children:"What is Lorem Ipsum?"}),(0,DP.jsx)("p",{children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s."}),(0,DP.jsx)("img",{style:WD,src:"https://images.unsplash.com/photo-1565506737357-af89222625ad?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1650&q=80"}),(0,DP.jsx)("h3",{children:"Perfect. But there's more! \xe2\u2020\u2019"})]})}},{content:function(e){var t=e.action,n=e.story;return(0,DP.jsx)(qD.WithSeeMore,{story:n,action:t,children:(0,DP.jsxs)("div",{style:{background:"snow",padding:20,height:"100%"},children:[(0,DP.jsx)("h1",{style:{marginTop:"70%",marginBottom:0},children:"\xf0\u0178\u0152\x9d"}),(0,DP.jsx)("h1",{style:{marginTop:5},children:"We have our good old image and video stories, just the same."})]})})},seeMoreCollapsed:function(e){var t=e.toggleMore;e.action;return(0,DP.jsx)("p",{style:HD,onClick:function(){return t(!0)},children:"A custom See More message \xe2\u2020\u2019"})},seeMore:function(e){var t=e.close;return(0,DP.jsxs)("div",{style:GD,children:[(0,DP.jsx)("h2",{children:"Just checking the see more feature."}),(0,DP.jsx)("p",{style:{textDecoration:"underline"},onClick:t,children:"Go on, close this popup."})]})},duration:5e3},{url:"https://picsum.photos/1080/1920",seeMore:function(e){var t=e.close;return(0,DP.jsxs)("div",{style:GD,children:[(0,DP.jsx)("h2",{children:"Just checking the see more feature."}),(0,DP.jsx)("p",{style:{textDecoration:"underline"},onClick:t,children:"Go on, close this popup."})]})}},{url:"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4",type:"video"},{content:function(e){e.action;var t=e.isPaused;return(0,DP.jsxs)("div",{style:ea(ea({},KD),{},{background:"Aquamarine",color:"#333"}),children:[(0,DP.jsx)("h1",{children:"Why do we use Lorem Ipsum?"}),(0,DP.jsx)("p",{children:"It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to using 'Content here, content here', making it look like readable English."}),(0,DP.jsx)("h1",{children:t?"Paused":"Playing"}),(0,DP.jsx)("p",{children:"Thank you!"})]})}}];var $D=function(){return(0,DP.jsxs)("div",{className:"InstaStory",children:[(0,DP.jsx)("h4",{children:"Add your story"}),(0,DP.jsx)("div",{className:"pl-3",children:(0,DP.jsx)(ZD(),{loop:!0,keyboardNavigation:!0,defaultInterval:8e3,stories:QD,width:300,height:500,onStoryEnd:function(e,t){return console.log("story ended",e,t)},onAllStoriesEnd:function(e,t){return console.log("all stories ended",e,t)},onStoryStart:function(e,t){return console.log("story started",e,t)},storyContainerStyles:{borderRadius:8,overflow:"hidden"}})})]})};function YD(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var XD=LP((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.spacing(2,4,3)}}}));var JD=function(){var e=XD(),n=(0,t.useState)(YD),r=(0,i.Z)(n,1)[0],a=(0,t.useState)([]),o=(0,i.Z)(a,2),u=o[0],s=o[1],c=(0,t.useState)(!1),l=(0,i.Z)(c,2),f=l[0],h=l[1],d=(0,t.useState)(""),p=(0,i.Z)(d,2),v=p[0],m=p[1],y=(0,t.useState)(!1),g=(0,i.Z)(y,2),b=g[0],k=g[1],w=(0,t.useState)(""),x=(0,i.Z)(w,2),_=x[0],S=x[1],E=(0,t.useState)(""),I=(0,i.Z)(E,2),T=I[0],C=I[1],A=(0,t.useState)(null),R=(0,i.Z)(A,2),O=R[0],N=R[1];return(0,t.useEffect)((function(){var e=NP.onAuthStateChanged((function(e){N(e||null)}));return function(){e()}}),[O,v]),(0,t.useEffect)((function(){OP.collection("posts").orderBy("timestamp","desc").onSnapshot((function(e){s(e.docs.map((function(e){return{id:e.id,post:e.data()}})))}))}),[]),(0,DP.jsxs)("div",{className:"app",children:[(0,DP.jsx)(rD,{open:f,onClose:function(){return h(!1)},children:(0,DP.jsx)("div",{style:r,className:e.paper,children:(0,DP.jsxs)("form",{className:"sign_up",children:[(0,DP.jsx)("center",{children:(0,DP.jsx)("img",{className:"header_image",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRJncv6Pch8E0tYgRpYmqDRViUEVj-_yDazj1SeL_ZK&s",alt:"error on loading"})}),(0,DP.jsx)(zD,{type:"text",placeholder:"username",value:v,onChange:function(e){return m(e.target.value)}}),(0,DP.jsx)(zD,{type:"text",placeholder:"email",value:_,onChange:function(e){return S(e.target.value)}}),(0,DP.jsx)(zD,{type:"password",placeholder:"password",value:T,onChange:function(e){return C(e.target.value)}}),(0,DP.jsx)(CD,{type:"submit",onClick:function(e){e.preventDefault(),NP.createUserWithEmailAndPassword(_,T).then((function(e){return e.user.updateProfile({displayName:v})})).catch((function(e){return alert("fill the field correctly")})),h(!1)},children:"sign   Up"})]})})}),(0,DP.jsx)(rD,{open:b,onClose:function(){return k(!1)},children:(0,DP.jsx)("div",{style:r,className:e.paper,children:(0,DP.jsxs)("form",{className:"sign_in",children:[(0,DP.jsx)("center",{children:(0,DP.jsx)("img",{className:"header_image",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRJncv6Pch8E0tYgRpYmqDRViUEVj-_yDazj1SeL_ZK&s",alt:"error on loading"})}),(0,DP.jsx)(zD,{type:"text",placeholder:"email",value:_,onChange:function(e){return S(e.target.value)},className:"input"}),(0,DP.jsx)(zD,{type:"password",placeholder:"password",value:T,onChange:function(e){return C(e.target.value)},className:"input"}),(0,DP.jsx)(CD,{type:"submit",onClick:function(e){e.preventDefault(),NP.signInWithEmailAndPassword(_,T).catch((function(e){return alert(e.message)})),k(!1)},children:" sign In"})]})})}),(0,DP.jsx)("div",{}),(0,DP.jsxs)("div",{className:"app_header",children:[(0,DP.jsx)("img",{className:"app_headerLogo",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRJncv6Pch8E0tYgRpYmqDRViUEVj-_yDazj1SeL_ZK&s",alt:"it has a server error"}),O?(0,DP.jsx)(CD,{onClick:function(){return NP.signOut()},children:"logout"}):(0,DP.jsxs)("div",{className:"app_loginContainer",children:[(0,DP.jsx)(CD,{onClick:function(){return k(!0)},children:"Sign In"}),(0,DP.jsx)(CD,{onClick:function(){return h(!0)},children:"Sign Up"})]})]}),(0,DP.jsxs)("div",{className:"posts",children:[(0,DP.jsx)("div",{className:"left_part",children:u.map((function(e){var t=e.id,n=e.post;return(0,DP.jsx)(MP,{postId:t,username:n.username,user:O,caption:n.caption,imageurl:n.imageurl},t)}))}),(0,DP.jsxs)("div",{className:"right_part",children:[O&&(0,DP.jsx)($D,{}),(0,DP.jsx)("h1",{children:"Welcome buddy!"})]})]}),null!==O&&void 0!==O&&O.displayName?(0,DP.jsx)(BD,{username:O.displayName}):(0,DP.jsx)("h3",{style:{textAlign:"center",marginBottom:"10px",bottom:"10px"},children:"Sorry! go to Sign In  first for up"})]})};r.createRoot(document.getElementById("root")).render((0,DP.jsx)(t.StrictMode,{children:(0,DP.jsx)(JD,{})}))}()}();
//# sourceMappingURL=main.8cc4ba8a.js.map